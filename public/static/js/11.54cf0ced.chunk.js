(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1288:function(e,t,a){},1290:function(e,t,a){e.exports=a.p+"static/media/more_options.365aa85c.svg"},1292:function(e,t,a){},1297:function(e,t,a){},1302:function(e,t,a){},1447:function(e,t,a){},1449:function(e,t,a){},1451:function(e,t,a){},1453:function(e,t,a){},1455:function(e,t,a){},1460:function(e,t,a){},1462:function(e,t,a){},1464:function(e,t,a){},1748:function(e,t,a){"use strict";a.r(t);var n=a(147),r=a(148),s=a(151),i=a(149),l=a(150),c=a(6),o=a.n(c),d=a(861),m=a(1745),u=a(1744),p=a(1264),f=a(250),h=a(164),v=a(158),g=a(728),b=a(301),E=a(212),y=a(28),N=a(203),O=a(174),k=a(177),C=a(154),D=a(9),j=a(205),S=a(162),M=a(178),w=a(166),A=a(0),P=a.n(A),T=a(3),I=a(186),x=a(167),_=a(46),R=a.n(_),z=a(352),F=a(382),B=a(383),L=a.n(B),H=a(181),V=a(215),Y=a.n(V),U=a(407),q=a.n(U),G=a(408),W=a.n(G),Q=a(226),K=a.n(Q),X=a(718),J=a.n(X),Z=a(45),$=a(209),ee=a.n($),te=a(330),ae=Object(y.c)({goToDashBoard:{id:"app.edit-profile.edit-form.go-to-dashboard",defaultMessage:"Go to Dashboard"},save:{id:"app.edit-profile.edit-form.save",defaultMessage:"Save"},myProfile:{id:"app.edit-profile.edit-form.my-profile",defaultMessage:"My Profile"},profileSetupText:{id:"app.edit-profile.edit-form.profile-setup-text",defaultMessage:"Now, let\u2019s get your profile set & customize the settings"},subduedProfileSetupText:{id:"app.edit-profile.edit-form.subdued-profile-setup-text",defaultMessage:"You can change this information anytime, in \u201cSettings\u201d section from \u201cMy Profile\u201d"},phoneVerificationTitle:{id:"app.edit-profile.personal-section.mobile-verification.modal-title",defaultMessage:"Mobile Verification"},phoneVerificationOKText:{id:"app.edit-profile.personal-section.mobile-verification.ok-text",defaultMessage:"Verify"},chnageNumberText:{id:"app.edit-profile.personal-section.mobile-verification.change-number",defaultMessage:"Change Number"},OTPReceivingTimeText:{id:"app.edit-profile.personal-section.mobile-verification.receiving-otp",defaultMessage:"You\u2019ll be receiving the OTP verification code in"},resendOTP:{id:"app.edit-profile.personal-section.mobile-verification.resend-otp",defaultMessage:"Resend OTP"},OTPSent:{id:"app.edit-profile.personal-section.mobile-verification.otp-sent",defaultMessage:"OTP sent successfully."},OTPPlaceholder:{id:"app.edit-profile.personal-section.mobile-verification.otp-placeholder",defaultMessage:"Enter OTP code"},mobile:{id:"app.edit-profile.personal-section.mobile-verification.mobile",defaultMessage:"Mobile"}}),ne=60,re=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).tick=function(){var e=a.state.countdown;0===e?a.setState({resendDisabled:!1}):a.setState({countdown:e-1})},a.handleVerify=function(){var e=a.props,t=e.verifyOtp,n=e.id,r=Object(v.a)(Object(v.a)(a)).otp;a.setState({countdown:0,verifyDisabled:!0}),t(r,n)},a.handleCancel=function(){var e=a.props.handleCancel;a.setState({countdown:ne,resendDisabled:!0,verify:!0}),e()},a.resendOTP=function(){var e=a.props;(0,e.reSendOtp)(e.contactNo,e.id),a.setState({countdown:ne,resendDisabled:!0})},a.state={verifyDisabled:!0,resendDisabled:!0,countdown:ne},a.otp="",a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval(function(){e.tick()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"saveOtp",value:function(e){this.otp=e,this.otp.length>3&&this.setState({verifyDisabled:!1})}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.props,n=a.visible,r=a.is_otp_verifying,s=a.is_otp_send,i=a.is_otp_error,l=void 0!==i&&i,c=a.otp_error,d=void 0===c?{}:c,m=a.contactNo,u=m.countryCode,p=m.phoneNumber,f=this.state,h=f.countdown,v=f.resendDisabled,g=f.verifyDisabled;return o.a.createElement(M.a,{visible:n||l,title:t(ae.phoneVerificationTitle),onOk:this.handleVerify,okText:t(ae.phoneVerificationOKText),okButtonProps:{disabled:r||g||"CONTACT_ALREADY_EXISTS"===d.status,className:"iqvia-btn"},onCancel:this.handleCancel,wrapClassName:"iqvia_modals",cancelButtonProps:{className:"cancel-button hidden"},destroyOnClose:!0},o.a.createElement("div",{className:"w100 h100 flex align-items-start column justify-content-space-between"},o.a.createElement("div",{className:"w100"},o.a.createElement("div",{className:"w100"},o.a.createElement("div",{className:"flex align-items-center justify-content-space-between"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize12 subdued"},t(ae.mobile)),o.a.createElement(te.b,{countryCode:u,phoneNumber:p})),o.a.createElement(C.a,{style:{height:"45px"},onClick:this.handleCancel,className:"change_number_button iqvia-btn"},t(ae.chnageNumberText)))),o.a.createElement("div",{className:"w100 pt20"},o.a.createElement(S.a,{placeholder:t(ae.OTPPlaceholder),className:"p10",onChange:function(t){e.saveOtp(t.target.value)}}))),o.a.createElement("div",{className:"w100"},"CONTACT_ALREADY_EXISTS"!==d.status&&o.a.createElement("div",{className:"w100 flex column align-items-center justify-content-center mb60"},o.a.createElement("div",{className:"fontsize12 subdued"},t(ae.OTPReceivingTimeText)),o.a.createElement("div",{className:"bold fontsize16 pt10"}," ",h,"s"),o.a.createElement(C.a,{style:{height:"45px"},disabled:v,type:"primary",className:v?"tertiary-btn mt10 iqvia-btn":"mt10 iqvia-btn",onClick:this.resendOTP},t(ae.resendOTP))),l&&o.a.createElement("div",{className:"w100 absolute  absolute flex row align-items-center justify-content-start",style:{backgroundColor:"#fff8f5",bottom:"0",height:"40px",marginLeft:"-24px"}},o.a.createElement("div",{style:{display:"block",width:"13px",marginLeft:"24px"}},o.a.createElement("img",{alt:"",src:ee.a,className:"w100",style:{display:"block"}})),o.a.createElement("div",{className:"pl10 fontsize12 medium warning-color"},d.message)),o.a.createElement("div",{className:"w100 absolute  absolute flex row align-items-center justify-content-start"+(l||!s||ne-h>5?" hidden ":"  "),style:{backgroundColor:"rgba(227, 243, 223, 0.5)",bottom:"0",height:"40px",marginLeft:"-24px"}},o.a.createElement("div",{style:{display:"block",width:"13px",marginLeft:"24px"}},o.a.createElement("img",{alt:"",src:Y.a,className:"w100",style:{display:"block"}})),o.a.createElement("div",{className:"pl10 fontsize12 medium",style:{color:"#43b02a"}},t(ae.OTPSent))))))}}]),t}(o.a.Component),se=Object(y.d)(re),ie=a(17),le=Object(Z.b)(function(e){var t=e.phone;return{is_otp_error:t.is_otp_error,is_otp_send:t.is_otp_send,otp_error:t.otp_error}},function(e){return{reSendOtp:function(t,a){return e(Object(ie.e)(t,a))},verifyOtp:function(t,a){return e(Object(ie.f)(t,a))}}})(se),ce=a(356),oe=a(2),de=Object(y.c)({myProfile:{id:"app.edit-profile-main.my-profile",defaultMessage:"My Profile"},personal:{id:"app.edit-profile.menubar.personal",defaultMessage:"Personal"},contacts:{id:"app.edit-profile.menubar.contacts",defaultMessage:"Contacts"},medical:{id:"app.edit-profile.menubar.medical",defaultMessage:"Medical"},settings:{id:"app.edit-profile.menubar.settings",defaultMessage:"Settings"},insurance:{id:"app.edit-profile.menubar.insurance",defaultMessage:"Insurance"},insuranceProvider:{id:"app.edit-profile.insuranceSection.insuranceProvider",defaultMessage:"Medical Insurance Provider"},insurancePolicy:{id:"app.edit-profile.insuranceSection.insurancePolicy",defaultMessage:"Insurance Policy"},insuranceExpiresOn:{id:"app.edit-profile.insuranceSection.insuranceExpiresOn",defaultMessage:"Valid Till"},hospital:{id:"app.edit-profile.contact-sections.hospital",defaultMessage:"Hospital"},work:{id:"app.edit-profile.menubar.work",defaultMessage:"Work"},hospitalName:{id:"app.edit-profile.work-section.hospital-name",defaultMessage:"Hospital Name"},speciality:{id:"app.edit-profile.work-section.speciality",defaultMessage:"Speciality"},specialityRule:{id:"app.edit-profile.work-section.speciality-rule",defaultMessage:"Please provide speciality"},licenseNumber:{id:"app.edit-profile.work-section.license-number",defaultMessage:"License Number"},bio:{id:"app.edit-profile.work-section.bio",defaultMessage:"Bio"},addressLine1:{id:"app.edit-profile.work-section.address-line1",defaultMessage:"Flat / House / Floor / Building"},addressLine2:{id:"app.edit-profile.work-section.address-line2",defaultMessage:"Street / Locality / Area"},zipcode:{id:"app.edit-profile.work-section.zipcode",defaultMessage:"PO box / Zipcode"},cityLabel:{id:"app.edit-profile.work-section.city",defaultMessage:"Region or State"},countryLabel:{id:"app.edit-profile.work-section.country",defaultMessage:"Country"},organisationName:{id:"app.edit-profile.work-section.organisation-name",defaultMessage:"Organisation Name"},services:{id:"app.edit-profile.work-section.services",defaultMessage:"Services"},notBlank:{id:"app.edit-profile.not-blank",defaultMessage:"not be blank"},nursingTitle:{id:"app.edit-profile.service-section.nursing-title",defaultMessage:"Nursing"},physicalTherapyTitle:{id:"app.edit-profile.service-section.physical-therapy-title",defaultMessage:"Physical Therapy"},occupationalTherapyTitle:{id:"app.edit-profile.service-section.occupational-therapy-title",defaultMessage:"Occupational Therapy"},speechAndLanguagePathologyTitle:{id:"app.edit-profile.service-section.speech-and-language-pathology-title",defaultMessage:"Speech and Language Pathology"},medicalCounsellingTitle:{id:"app.edit-profile.service-section.medical-counselling-title",defaultMessage:"Medical Counselling"},healthAideTitle:{id:"app.edit-profile.service-section.health-aide-title",defaultMessage:"Health Aide"},nursing:{id:"app.edit-profile.service-section.nursing",defaultMessage:"Physical assessments, which include monitoring of vital signs, administer oral and intravenous medications as well as monitoring of cardiac and respiratory status"},physicalTherapy:{id:"app.edit-profile.service-section.physical-therapy",defaultMessage:"Assist patients to condition muscles and regain strength"},occupationalTherapy:{id:"app.edit-profile.service-section.occupational-therapy",defaultMessage:"Assist patients to perform functional skills such as bathing, eating, cooking, and many other skills"},speechAndLanguagePathology:{id:"app.edit-profile.service-section.speech-and-language-pathology",defaultMessage:"Assist patients to regain their ability to speak, swallow, and eat after a stroke or other neurological injuries"},medicalCounselling:{id:"app.edit-profile.service-section.medical-counselling",defaultMessage:"Assistance with medications, provision of counseling, assistance with financial matters, transportation, and in accessing educational and treatment resources"},healthAide:{id:"app.edit-profile.service-section.health-aide",defaultMessage:"Assist patients with their activities of daily living while patients are limited in mobility and strength which includes tasks such as bathing, grooming, and preparing meals"},cardiacCareTitle:{id:"app.edit-profile.service-section.cardiac-care-title",defaultMessage:"Cardiac Care"},diabetesCareTitle:{id:"app.edit-profile.service-section.diabetes-care-title",defaultMessage:"Diabetes Care"},smokingCessationTitle:{id:"app.edit-profile.service-section.smoking-cessation-title",defaultMessage:"Smoking Cessation"},respiteCareTitle:{id:"app.edit-profile.service-section.respite-care-title",defaultMessage:"Respite Care"},homemakingTitle:{id:"app.edit-profile.service-section.homemaking-title",defaultMessage:"Homemaking"},cardiacCare:{id:"app.edit-profile.service-section.cardiac-care",defaultMessage:"Assist patients with cardiac disease to manage their disease and to help slow down progression of their disease, monitor the cardiac status, prompt efficient treatment that will prevent re- hospitalization"},diabetesCare:{id:"app.edit-profile.service-section.diabetes-care",defaultMessage:"Assist patient with diabetes and their families in learning to manage their diabetes, educate diet, exercise, self- blood glucose monitoring, and about complications of uncontrolled diabetes"},smokingCessation:{id:"app.edit-profile.service-section.smoking-cessation",defaultMessage:"Provide nicotine replacement therapy"},respiteCare:{id:"app.edit-profile.service-section.respite-care",defaultMessage:"Assist patients with Adult Care, Alzheimer\u2019s Care, Hospital Support"},homemaking:{id:"app.edit-profile.service-section.homemaking",defaultMessage:"Provide patients with daily assistance including meal preparation, housekeeping, laundary & maintaining chores"},medicalServices:{id:"app.myprofile.medical-services",defaultMessage:"Medical Services"},homeHealthCare:{id:"app.myprofile.home-health-care",defaultMessage:"Home Health Care"},specialCare:{id:"app.myprofile.special-care",defaultMessage:"Special Care"},nonMedicalServices:{id:"app.myprofile.non-medical-services",defaultMessage:"Non-medical Services"},basic:{id:"app.medical-section.basic",defaultMessage:"Basic"},chiefComplaint:{id:"app.medical-section.chief-complaint",defaultMessage:"Chief Complaint"},allergies:{id:"app.medical-section.allergies",defaultMessage:"Allergies"},useComma:{id:"app.medical-section.use-comma",defaultMessage:"Use , (comma) to add more"},surgeriesFracture:{id:"app.medical-section.surgeries-fracture",defaultMessage:"Surgeries/Fracture"},otherConditions:{id:"app.medical-section.other-conditions",defaultMessage:"Other Conditions"},vital:{id:"app.medical-section.vital",defaultMessage:"Vital"},vitalSubtitle:{id:"app.medical-section.vital-subtitle",defaultMessage:"Add most recent vital readings"},bodyTemperature:{id:"app.medical-section.body-temperature",defaultMessage:"Body Temperature"},respirationRate:{id:"app.medical-section.respiration-rate",defaultMessage:"Respiration Rate"},breathePerMinute:{id:"app.medical-section.breathe-per-minute",defaultMessage:"breathe per minute"},pulseRate:{id:"app.medical-section.pulse-rate",defaultMessage:"Pulse Rate"},bpm:{id:"app.medical-section.bpm",defaultMessage:"bpm"},bloodPressure:{id:"app.medical-section.blood-pressure",defaultMessage:"Blood Pressure"},bpUnit:{id:"app.medical-section.bp-unit",defaultMessage:"systolic/diastolic in mmHG"},clinicalReadings:{id:"app.medical-section.clinical-readings",defaultMessage:"Clinical Readings"},clinicalReadingsSubtitle:{id:"app.medical-section.clinical-readings-subtitle",defaultMessage:"Choose a diagnosis method & add clinical readings respectively. You can add multiple readings"},notBeBlank:{id:"app.contacts-section.not-be-blank",defaultMessage:"Cannot be blank"},caseDoctor:{id:"app.contacts-section.case-doctor",defaultMessage:"Case Doctor"},notAssigned:{id:"app.contacts-section.not-assigned",defaultMessage:"Not assigned"},careCoach:{id:"app.contacts-section.care-coach",defaultMessage:"Care coach"},relativeName:{id:"app.contacts-section.relative-name",defaultMessage:"Relative Name"},parent:{id:"app.contacts-section.parent",defaultMessage:"Parent"},spouse:{id:"app.contacts-section.spouse",defaultMessage:"Spouse"},guardian:{id:"app.contacts-section.guardian",defaultMessage:"Guardian"},relativeMobile:{id:"app.contacts-section.relative-mobile",defaultMessage:"Relative Mobile"},contactRelative:{id:"app.contacts-section.contact-relative",defaultMessage:"Contact Relative for Emergency"},emergencyContactMobile:{id:"app.contacts-section.emergency-contact-mobile",defaultMessage:"Emergency Contact Mobile"},emergencyContactName:{id:"app.contacts-section.emergency-contact-name",defaultMessage:"Emergency Contact Name"},emergencyContactRule:{id:"app.contacts-section.emergency-contact-rule",defaultMessage:"Please provide emergency contact"},phoneNumberRule:{id:"app.contacts-section.phone-number-rule",defaultMessage:"Please provide phone number"},careCoachphoneNumberRule:{id:"app.contacts-section.carecoach-phone-number-rule",defaultMessage:"This field cannot be blank. Please provide phone number"},changePassword:{id:"app.edit-profile.setting-section.chnage-password",defaultMessage:"Change Password"},calendarSynced:{id:"app.edit-profile.setting-section.calendar-sync",defaultMessage:"Calendar Sync"},smsAlerts:{id:"app.edit-profile.setting-section.sms-alerts",defaultMessage:"SMS Alerts"},smsWillBeSent:{id:"app.edit-profile.setting-section.sms-will-be-sent",defaultMessage:"SMS will be sent to your registered mobile contact"},emailAlerts:{id:"app.edit-profile.setting-section.email-alerts",defaultMessage:"Email Alerts"},emailWillBeSent:{id:"app.edit-profile.setting-section.email-will-be-sent",defaultMessage:"Email will be sent to your registered email address"},pushAlerts:{id:"app.edit-profile.setting-section.push-alerts",defaultMessage:"In-app / Push Alerts"},pushWillBeSent:{id:"app.edit-profile.setting-section.push-will-be-sent",defaultMessage:"These alerts are notified within the RPM web app."},reminderAlerts:{id:"app.edit-profile.setting-section.reminder-alerts",defaultMessage:"Reminder Alerts"},reminderWillBeSent:{id:"app.edit-profile.setting-section.reminder-will-be-sent",defaultMessage:"All reminders will be sent via SMS/Email/Calendar"},account:{id:"app.edit-profile.setting-section.account",defaultMessage:"Account"},notifications:{id:"app.edit-profile.setting-section.notifications",defaultMessage:"Notifications"},selectPhotoTitle:{id:"app.edit-profile.personal-section.select-photo-title",defaultMessage:"Select profile photo"},photoOKText:{id:"app.edit-profile.personal-section.photo-ok-text",defaultMessage:"Set as Profile Photo"},cropImage:{id:"app.edit-profile.personal-section.crop-image-text",defaultMessage:"To crop this image, drag the region below and then click \u201cSet as Profile Photo\u201d button"},photoVisibleInfo:{id:"app.edit-profile.personal-section.photo-visible-info",defaultMessage:"Your profile photo will be visible to everyone, across IQVIA products."},verified:{id:"app.edit-profile.personal-section.verified",defaultMessage:"Verified"},notVerified:{id:"app.edit-profile.personal-section.not-verified",defaultMessage:"Not verified"},mobile:{id:"app.edit-profile.personal-section.mobile",defaultMessage:"Mobile"},nameRule:{id:"app.edit-profile.personal-section.name-rule",defaultMessage:"please provide your Name"},dobRule:{id:"app.edit-profile.personal-section.dob-rule",defaultMessage:"please provide your Date of Birth"},genderRule:{id:"app.edit-profile.personal-section.gender-rule",defaultMessage:"please provide your gender"},localityRule:{id:"app.edit-profile.personal-section.locality-rule",defaultMessage:"please fill your locality"},zipcodeRule:{id:"app.edit-profile.personal-section.zipcode-rule",defaultMessage:"please fill your zip code"},cityRule:{id:"app.edit-profile.personal-section.city-rule",defaultMessage:"please provide your city"},countryRule:{id:"app.edit-profile.personal-section.country-rule",defaultMessage:"please provide your country"},sendOTP:{id:"app.edit-profile.personal-section.send-otp",defaultMessage:"Send OTP"},fullName:{id:"app.edit-profile.personal-section.full-name",defaultMessage:"Full Name"},dateOfBirth:{id:"app.edit-profile.personal-section.date-of-birth",defaultMessage:"Date of Birth"},email:{id:"app.edit-profile.personal-section.email",defaultMessage:"Email"},male:{id:"app.edit-profile.personal-section.male",defaultMessage:"Male"},female:{id:"app.edit-profile.personal-section.female",defaultMessage:"Female"},city:{id:"app.edit-profile.personal-section.city",defaultMessage:"City"},country:{id:"app.edit-profile.personal-section.country",defaultMessage:"Country"},consentForm:{id:"app.edit-profile.settingSection.consentForm",defaultMessage:"Consent Form"},idProof:{id:"app.edit-profile.settingSection.Idproof",defaultMessage:"ID Proof"},uploadedOn:{id:"app.edit-profile.settingSection.uploadedOn",defaultMessage:"Uploaded on"},newPatient:{id:"app.care-coach.add-patient.newPatient",defaultMessage:"New Patient"},newDoctor:{id:"app.care-coach.add-doctor.newDoctor",defaultMessage:"New Doctor"},patientEmail:{id:"app.care-coach.add-patient.patientEmail",defaultMessage:"Patient's Email"},doctorEmail:{id:"app.care-coach.add-patient.doctorEmail",defaultMessage:"Doctor's Email"},incorrectEmail:{id:"app.care-coach.add-patient.incorrectEmail",defaultMessage:"Please enter a valid email address"},program:{id:"app.care-coach.add-patient.program",defaultMessage:"Program"},programError:{id:"app.care-coach.add-patient.programError",defaultMessage:"Please enter a Program"},newPatientSuccess:{id:"app.care-coach.add-patient.newPatientSuccess",defaultMessage:"New Patient enrolled to the program and invite sent successfully"},newPatientFailure:{id:"app.care-coach.add-patient.newPatientFailure",defaultMessage:"Unable to enroll new Patient, Please try again."},newDoctorSuccess:{id:"app.care-coach.add-patient.newDoctorSuccess",defaultMessage:"New Doctor enrolled to the program and invite sent successfully"},newDoctorFailure:{id:"app.care-coach.add-patient.newDoctorFailure",defaultMessage:"Unable to enroll new Doctor, Please try again."},licenseId:{id:"app.care-coach.add-doctor.licenseId",defaultMessage:"License ID"},hospitalError:{id:"app.care-coach.add-patient.hospitalError",defaultMessage:"Please enter a Hospital"},relativeNumberError:{id:"app.edit-profile.relativeNumber error",defaultMessage:"Relative number and Personal Number cannot be same"},emergencyNumberError:{id:"app.edit-profile.emergencyNumber error",defaultMessage:"Emergency number and Personal Number cannot be same"}}),me=x.a.Option,ue=h.a.Item,pe=I.a.Group,fe=oe.D.PATIENT,he=oe.D.CARE_COACH,ve=oe.D.DOCTOR,ge="contactNo.countryCode",be="contactNo.phoneNumber",Ee="homeAddress.addressLine1",ye="homeAddress.addressLine2",Ne="homeAddress.zipCode",Oe="homeAddress.city",ke="contacts.relatives.contactNo.phoneNumber",Ce="contacts.emergencyContact.contactNo.phoneNumber",De=["name","dob","gender",ge,be,Ee,ye,Ne,Oe,"homeAddress.country"],je=function(e,t){for(var a=e.split(","),n=a[0].match(/:(.*?);/)[1],r=atob(a[1]),s=r.length,i=new Uint8Array(s);s;)i[s-1]=r.charCodeAt(s-1),s-=1;return new File([i],t,{type:n})};var Se=function(){var e=[];for(var t in L.a.callingCountries.all){var a=L.a.callingCountries.all[t];a.countryCallingCodes.length>0&&(a.code=a.countryCallingCodes[0],e.push(a))}return e}();function Me(e){return e&&e>R()().endOf("day")}var we=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){a.props.intl.formatMessage(e)},a.notBlank=function(e,t,n){t&&0!==t.length?n():n(a.formatMessage(de.notBlank))},a.uploadNewPhoto=function(e){a.originalImageRef&&a.originalImageRef.click()},a.onOriginalFileSelect=function(e){a.originalImageRef.files.length>0&&a.setState({openCropPic:!0})},a.loadCroppedImage=function(){if(window.Croppie&&window.FileReader){a.croppie||(a.croppie=new window.Croppie(a.croppieContainer,{viewport:{width:200,height:200,type:"circle"},boundary:{width:308,height:322},showZoomer:!0,enableExif:!1,enforceBoundary:!0}));var e=a.croppie;try{var t=new FileReader;t.onload=function(t){e.bind({url:t.target.result})},t.readAsDataURL(a.originalImageRef.files[0])}catch(n){}}},a.setOriginalRef=function(e){a.originalImageRef=e},a.setCroppieContainer=function(e){a.croppieContainer=e,e&&a.loadCroppedImage()},a.hideProfilePicModal=function(){a.originalImageRef.value=null,a.croppie=null,a.setState({openCropPic:!1})},a.handleProfilePicSubmit=function(){var e=Object(T.a)(P.a.mark(function e(t){var n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.croppie.result({type:"base64",format:"png"});case 2:n=e.sent,a.uploadProfilePic(n),a.hideProfilePicModal();case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.uploadProfilePic=function(e){var t=a.props,n=t.changeProfilePic,r=t.userData.basicInfo._id,s=je(e),i=new FormData;i.append("profile-pic",s,s.name),n(i,r)},a.selectedCountryCode=function(e){0===e.length?a.setState({showDropDown:!1,suggestedCountryCodes:[]}):a.setState({showDropDown:!1,suggestedCountryCodes:Se.filter(function(t){return t.code.indexOf(e)>-1})})},a.setInitialCountryCode=function(){var e=(0,a.props.form.getFieldValue)(ge)||"";0===e.length?a.setState({suggestedCountryCodes:[]}):a.setState({suggestedCountryCodes:Se.filter(function(t){return t.code.indexOf(e)>-1})})},a.searchCountryCode=function(e){0===e.length?a.setState({suggestedCountryCodes:[]}):a.setState({showDropDown:!0,suggestedCountryCodes:Se.filter(function(t){return t.code.indexOf(e)>-1})})},a.enableVerifyButton=function(){var e=a.props,t=e.form,n=(t=void 0===t?{}:t).getFieldValue,r=t.getFieldError,s=e.userData,i=(s=void 0===s?{}:s).personalInfo,l=(i=void 0===i?{}:i).contactNo,c=void 0===l?{}:l,o=c.countryCode,d=void 0===o?"+91":o,m=c.phoneNumber,u=void 0===m?"":m,p=c.verified,f=void 0!==p&&p,h=n(ge)||"",v=n(be)||"";return!(f?!(h===d&&v===u||r(be)):v.length>0&&h.length>0&&!r(be))},a.setCalendarRef=function(e){a.calendarRef=e},a.openCalendar=function(e){e.preventDefault(),window.document.getElementsByClassName("ant-calendar-picker-input")[0].click()},a.isNumber=function(e,t,n){var r=a.props.form.validateFields,s=(a.props.userData||{}).basicInfo,i=(void 0===s?{}:s).category;t&&t.length>0&&null===t.match("^[0-9]+$")?n("Enter valid phone number"):(i===fe&&r([ke,Ce]),n())},a.notBlank=function(e,t,n){var r=a.props.form.validateFields,s=(a.props.userData||{}).basicInfo,i=(void 0===s?{}:s).category;t&&0!==t.length?(i===fe&&r([ke,Ce]),n()):n(a.props.intl.formatMessage(de.notBeBlank))},a.state={openCropPic:!1,showOtpModal:!1,loading:!1,suggestedCountryCodes:[],showDropDown:!1},a.showOtpModal=a.showOtpModal.bind(Object(v.a)(Object(v.a)(a))),a.hideOtpModal=a.hideOtpModal.bind(Object(v.a)(Object(v.a)(a))),a.handleOtpVerify=a.handleOtpVerify.bind(Object(v.a)(Object(v.a)(a))),a.croppie=null,a.searchCountryCode=Object(z.a)(a.searchCountryCode,300),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setInitialCountryCode()}},{key:"showOtpModal",value:function(e){var t=this.props,a=t.sendOtp,n=t.userData.basicInfo._id,r=t.form,s=t.openOtpModal,i=r.getFieldValue;e.preventDefault(),s(),a({countryCode:i(ge),phoneNumber:i(be)},n)}},{key:"hideOtpModal",value:function(){var e=this.props,t=e.cleanOtpState,a=e.closeOtpModal;t(),a()}},{key:"handleOtpVerify",value:function(){var e=Object(T.a)(P.a.mark(function e(t){return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,this.props.verifyOtp)(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=this.props.show_otp_modal,n=this.props.userData,r=n.basicInfo,s=void 0===r?{}:r,i=n.personalInfo,l=void 0===i?{}:i,c=s.profilePicLink,d=void 0===c?W.a:c,m=s._id,u=s.name,p=s.category,f=l.contactNo,h=void 0===f?{}:f,v=l.email,g=l.homeAddress,b=void 0===g?{}:g,E=l.dob,y=l.gender,N=b.addressLine1,O=b.addressLine2,k=b.city,D=b.country,A=b.zipCode,P=this.props.form,T=P.getFieldDecorator,_=P.getFieldError,z=P.isFieldTouched,B=P.getFieldValue,L=this.state,V=L.suggestedCountryCodes,U=L.showDropDown,G={},Q=this.props.customFieldsError,X=void 0===Q?{}:Q;De.forEach(function(e){X&&!z(e)&&X[e]?G[e]=_(e):G[e]=z(e)&&_(e)});var Z,$=h.countryCode,ee=h.phoneNumber,te=void 0===ee?"":ee;void 0!==E&&null!=E&&(Z=R()(E)),Z&&Z._isValid||(Z=null);var ae=p===he||p===fe?[{required:!0,message:t(p===fe?de.phoneNumberRule:de.careCoachphoneNumberRule)},{validator:this.isNumber}]:[{validator:this.isNumber}],ne=p===he||p===fe?[{required:!0,message:t(de.localityRule)}]:[],re=p===he||p===fe?[{required:!0,message:t(de.zipcodeRule)}]:[],se=p===ve?"":"ant-form-item-required";return o.a.createElement("div",null,o.a.createElement(M.a,{title:t(de.selectPhotoTitle),visible:this.state.openCropPic,onOk:this.handleProfilePicSubmit,onCancel:this.hideProfilePicModal,okButtonProps:{className:"bold set_profile_pic_button"},okText:t(de.photoOKText),wrapClassName:"upload_profile_picture",cancelButtonProps:{className:"cancel-button hidden"},destroyOnClose:!0,width:800},o.a.createElement("h6",{className:"subdued fontsize12"},t(de.cropImage)),o.a.createElement("div",{className:"main_content_holder"},o.a.createElement("div",{ref:this.setCroppieContainer}),o.a.createElement("div",{className:"profile_pic_disclaimer mt40 flex align-items-center justify-content-center"},o.a.createElement(w.a,{type:"eye",className:"subdued",style:{fontSize:"20px"}}),o.a.createElement("h6",{className:"subdued pl10 mb0"},t(de.photoVisibleInfo))))),a&&o.a.createElement(le,{handleCancel:this.hideOtpModal,visible:a,id:m,contactNo:{countryCode:B(ge),phoneNumber:B(be)}}),o.a.createElement(H.Element,{name:"personal"},o.a.createElement("div",{className:"bold pb10 fontsize18"},t(de.personal)),o.a.createElement("div",{className:"flex align-items-center justify-content-center relative",style:{margin:"20px 0"}},o.a.createElement("div",{className:"block br50 relative",style:{width:"100px",height:"100px"}},o.a.createElement("img",{alt:"",src:d,className:"block w100"}),o.a.createElement("div",{className:"absolute",style:{bottom:0,right:0,width:"30px",height:"30px"},onClick:this.uploadNewPhoto},o.a.createElement("img",{alt:"",src:J.a,className:"block w100"}),o.a.createElement("input",{ref:this.setOriginalRef,onChange:this.onOriginalFileSelect,className:"hidden originalImageFileType",type:"file",accept:"image/*",name:"original"})))),o.a.createElement("div",null,o.a.createElement("label",{className:"flex"},o.a.createElement("div",{className:"mr-10 label-color fontsize12"},t(de.email)),o.a.createElement("img",{alt:"",style:{width:"13px",marginRight:"5px"},src:Y.a}),o.a.createElement("div",{className:"fontsize12",style:{color:"#43b02a"}},t(de.verified))),o.a.createElement("div",{className:"fontsize16 dark pt4"},v)),o.a.createElement("div",{className:"mt20"},o.a.createElement("label",{className:"flex row align-items-center justify-content-start ".concat(se," mb5")},o.a.createElement("div",{className:"mr-10 fontsize12 label-color"},t(de.mobile)),o.a.createElement("img",{alt:"",style:{width:"13px",marginRight:"5px"},src:!0===h.verified?Y.a:q.a}),!0===h.verified?o.a.createElement("div",{className:"fontsize12",style:{color:"#43b02a"}},t(de.verified)):o.a.createElement("div",{className:"fontsize12",style:{color:"#fe8a12"}},t(de.notVerified))),o.a.createElement("div",{className:"flex content-space-between align-items-start"},o.a.createElement("div",{className:"flex flex-1 pr10"},o.a.createElement(ue,{help:"",validateStatus:G[ge]?"error":"",style:{width:"90px",margin:"0 10px 0 0"}},T(ge,{validateTrigger:["onChange","onBlur"],initialValue:$,type:"string",rules:[{required:p!==ve,message:t(de.phoneNumberRule)},{validator:p===ve?"":this.notBlank}]})(o.a.createElement(x.a,{className:"country_code_value_placeholder",showSearch:!0,placeholder:o.a.createElement("div",{className:"country_code_value flex row align-items-center justify-content-start w100"},o.a.createElement(F.a,{code:"IN",svg:!0}),o.a.createElement("div",{className:"pl5"},"+91")),notFoundContent:null,filterOption:!1,onSearch:this.searchCountryCode,style:{width:"100%"},onSelect:this.selectedCountryCode,showArrow:!1,dropdownStyle:{width:"200px"},dropdownClassName:"select_country_code_dropdown"+(U?"  ":" hide_drop_down"),optionLabelProp:"children"},V.map(function(e){return o.a.createElement(me,{value:e.code,key:e.alpha2+e.code,title:e.code},o.a.createElement("div",{className:"flex row align-items-start justify-content-center"},o.a.createElement("div",{className:"country_code_select flex row align-items-center justify-content-start w100"},o.a.createElement(F.a,{code:e.alpha2,svg:!0}),o.a.createElement("div",{className:"pl5"}," ",e.code," ",e.name)),o.a.createElement("div",{className:"country_code_value flex row align-items-center justify-content-start w100"},o.a.createElement(F.a,{code:e.alpha2,svg:!0}),o.a.createElement("div",{className:"pl5"},e.code))))})))),o.a.createElement(ue,{className:"flex-1",style:{marginBottom:"0"},validateStatus:G[be]?"error":"",help:G[be]||""},T(be,{rules:ae,initialValue:te})(o.a.createElement(S.a,{placeholder:"",className:"phone_number_main mb0 pb0"})))),o.a.createElement(C.a,{disabled:this.enableVerifyButton(),className:"send_otp_button",onClick:this.showOtpModal},t(de.sendOTP)))),o.a.createElement("div",{className:"mt20"},o.a.createElement(ue,{label:t(de.fullName),validateStatus:G.name?"error":"",help:G.name||""},T("name",{rules:[{required:!0,message:t(de.nameRule)}],initialValue:u})(o.a.createElement(S.a,{placeholder:""})))),p===fe&&o.a.createElement("div",null,o.a.createElement("div",{className:"mt20 flex row align-items-center iqvia-date-picker"},o.a.createElement("div",{className:"full-width "},o.a.createElement(ue,{label:t(de.dateOfBirth),validateStatus:G.dob?"error":"",help:G.dob||""},T("dob",{rules:[{required:!0,message:t(de.dobRule)}],initialValue:Z,onChange:function(){e.setState({open:!1})}})(o.a.createElement(j.a,{showToday:!1,disabledDate:Me,className:"full-width"})),o.a.createElement("img",{alt:"",className:"calendar",onClick:this.openCalendar,src:K.a})))),o.a.createElement("div",{className:""},o.a.createElement("div",{className:"fontsize12 label-color ant-form-item-required"},"Gender"),o.a.createElement("div",null,o.a.createElement(ue,{validateStatus:G.gender?"error":"",help:G.gender||""},T("gender",{rules:[{required:!0,message:t(de.genderRule)}],initialValue:y})(o.a.createElement(pe,{className:"full-width male_female_radio_group"},o.a.createElement(I.a.Button,{className:"full-width check-box-right flex fontsize16 ",value:"M",style:{display:"flex",justifyContent:"center",paddingTop:"8px"}},t(de.male)),o.a.createElement(I.a.Button,{className:"full-width check-box-right flex fontsize16 pt8",style:{display:"flex",justifyContent:"center",paddingTop:"8px"},value:"F"},t(de.female)))))))),o.a.createElement("div",{className:"mt20"},o.a.createElement(ue,{label:t(de.addressLine1),validateStatus:G[Ee]?"error":"",help:G[Ee]||""},T(Ee,{rules:[],initialValue:N})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(ue,{label:t(de.addressLine2),validateStatus:G[ye]?"error":"",help:G[ye]||""},T(ye,{rules:ne,initialValue:O})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(ue,{label:t(de.zipcode),validateStatus:G[Ne]?"error":"",help:G[Ne]||""},T(Ne,{rules:re,initialValue:A})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement(ce.a,{form:this.props.form,getFieldDecorator:T,cityLabel:t(de.city),countryLabel:t(de.country),city:k,country:D,cityField:Oe,countryField:"homeAddress.country",fieldError:G,cityRules:[{required:!0,message:t(de.cityRule)},{validator:this.notBlank}],countryRules:[{required:!0,message:t(de.countryRule)},{validator:this.notBlank}]})))}}]),t}(c.Component),Ae=Object(y.d)(we),Pe=a(176),Te=a.n(Pe),Ie=o.a.createElement("img",{alt:"",src:Te.a}),xe=x.a.Option,_e=S.a.TextArea,Re=h.a.Item,ze="work.about",Fe="work.officeAddress.addressLine2",Be="work.officeAddress.city",Le="work.officeAddress.country",He="hospitals",Ve=["work.organizationName",He,"work.speciality",ze,"work.licenseNumber","work.officeAddress.addressLine1",Fe,"work.officeAddress.zipCode",Be,Le],Ye=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).onChangeCity=function(e,t){var n=a.props.form,r=n.setFieldsValue,s=n.validateFields;r(Object(D.a)({},He,[])),s(),a.props.getHospital(e,t)},a.onChangeCountry=function(e){var t=a.props.form,n=t.setFieldsValue,r=t.validateFields;n(Object(D.a)({},He,[])),r()},a.getHospitalsData=function(){var e=a.props,t=e.form.getFieldValue,n=e.hospitals,r=[];for(var s in n){var i=n[s],l=t(Le),c=t(Be);i.cityId===c&&i.countryId===l&&r.push(o.a.createElement(xe,{key:"".concat(i.id),value:i.id},i.name))}return r},a.getVisitingHospitals=function(){var e=[],t=a.props.userData.visitingHospitals,n=void 0===t?{}:t;for(var r in n){var s=n[r];e.push(s)}return e},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.userData,t=(e=void 0===e?{}:e).work,a=(t=void 0===t?{}:t).officeAddress,n=(a=void 0===a?{}:a).city,r=a.country;void 0!==n&&void 0!==r&&this.props.getHospital(r,n)}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.props.userData.work,a=void 0===t?{}:t,n=a.speciality,r=a.officeAddress,s=void 0===r?{}:r,i=a.licenseNumber,l=a.about,c=s.addressLine1,d=s.addressLine2,m=s.city,u=s.country,p=s.zipCode,f=[o.a.createElement(xe,{key:1,value:"Neurologist"},"Neurologist"),o.a.createElement(xe,{key:2,value:"Heart Surgeon"},"Heart Surgeon"),o.a.createElement(xe,{key:3,value:"Orthopaedic"},"Orthopaedic")],h=this.props.form,v=h.getFieldDecorator,g=h.getFieldError,b=h.isFieldTouched,E={},y=this.props.customFieldsError;return Ve.forEach(function(e){y&&!b(e)&&y[e]?E[e]=g(e):E[e]=b(e)&&g(e)}),o.a.createElement("div",{id:"work"},o.a.createElement(H.Element,{name:"work"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},e(de.work)),o.a.createElement("div",null,o.a.createElement(Re,{label:e(de.speciality),validateStatus:E["work.speciality"]?"error":"",help:E["work.speciality"]||""},v("work.speciality",{rules:[{required:!0,message:e(de.specialityRule)}],initialValue:n})(o.a.createElement(x.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:Ie,placeholder:""},f)))),o.a.createElement("div",{className:"mt20"},o.a.createElement(Re,{label:e(de.licenseNumber),validateStatus:E["work.licenseNumber"]?"error":"",help:E["work.licenseNumber"]||""},v("work.licenseNumber",{initialValue:i})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(Re,{label:e(de.bio),validateStatus:E[ze]?"error":"",help:E[ze]||""},v(ze,{initialValue:l})(o.a.createElement(_e,{placeholder:"",autosize:!0})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(Re,{label:e(de.addressLine1),validateStatus:E["work.officeAddress.addressLine1"]?"error":"",help:E["work.officeAddress.addressLine1"]||""},v("work.officeAddress.addressLine1",{initialValue:c})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(Re,{label:e(de.addressLine2),validateStatus:E[Fe]?"error":"",help:E[Fe]||""},v(Fe,{initialValue:d})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(Re,{label:e(de.zipcode),validateStatus:E["work.officeAddress.zipCode"]?"error":"",help:E["work.officeAddress.zipCode"]||""},v("work.officeAddress.zipCode",{initialValue:p})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement(ce.a,{form:this.props.form,getFieldDecorator:v,cityLabel:e(de.cityLabel),countryLabel:e(de.countryLabel),city:m,country:u,cityField:Be,countryField:Le,cityRules:[{required:!0,message:e(de.cityRule)}],countryRules:[{required:!0,message:e(de.countryRule)}],onChangeCity:this.onChangeCity,onChangeCountry:this.onChangeCountry}),o.a.createElement("div",null,o.a.createElement(Re,{label:e(de.hospitalName),validateStatus:E[He]?"error":"",help:E[He]||""},v(He,{initialValue:this.getVisitingHospitals(),rules:[{required:!0,message:e(de.hospitalError)}]})(o.a.createElement(x.a,{className:"full-width iqvia-style-select fontsize14",showSearch:!0,autoComplete:"off",mode:"multiple",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},this.getHospitalsData()))))))}}]),t}(c.Component),Ue=Object(y.d)(Ye),qe=a(318),Ge=a(190),We=a(30),Qe=h.a.Item,Ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleOpenChangePasswordModal=function(){var e=a.props;(0,e.openChangePassword)(e.user_data.basicInfo._id)},a.openConsentForm=function(e){var t=a.props;(0,t.openDocumentsVerification)(t.user_data.basicInfo._id,e)},a.openIdProof=function(e){e.preventDefault(),a.props.history.push(oe.H.ID_PROOF)},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props,r=n.intl.formatMessage,s=n.userData,i=s.documents,l=void 0===i?{}:i,c=s.basicInfo,d=(c=void 0===c?{}:c).category,m=this.props.userData.settings,u=m.isCalendarSynced,p=void 0!==u&&u,f=m.preferences,h=void 0===f?{}:f,v=h.emailAlerts,g=void 0!==v&&v,b=h.pushAlerts,E=void 0!==b&&b,y=h.smsAlerts,N=void 0!==y&&y,O=h.reminderAlerts,k=void 0!==O&&O,C=l.idProof,D=void 0===C?[]:C,j=l.consentForm,S=void 0===j?[]:j,M=(D[0]||{}).uploadedOn,A=(S[0]||{}).uploadedOn;M&&(e=new R.a(M).format("DD/MM/YYYY hh:mm A")),A&&(t=new R.a(A).format("DD/MM/YYYY hh:mm A"));var P=this.props.form.getFieldDecorator,T=[];T.push(o.a.createElement("div",{key:"1",className:"content-space-between full-width flex align-items-center clickable",onClick:this.handleOpenChangePasswordModal},o.a.createElement("div",null,r(de.changePassword)),o.a.createElement(w.a,{type:"caret-right"}))),!0===We.a.CALENDAR_SYNC&&T.push(o.a.createElement("div",{key:"2",className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(Qe,{className:"mb0"},P("settings.isCalendarSynced",{valuePropName:"checked",initialValue:p||!1})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox"},o.a.createElement("div",{className:"fontsize14 dark"},r(de.calendarSynced))))))),d===oe.D.PATIENT&&(T.push(o.a.createElement("div",{key:"3",onClick:function(e){return a.openConsentForm("ContentForm")},className:"content-space-between full-width flex align-items-center"},o.a.createElement("div",{className:"full-width"},o.a.createElement("div",null,r(de.consentForm)),o.a.createElement("div",{className:"fontsize12 cool-grey"},"".concat(r(de.uploadedOn)," ").concat(t," "))),o.a.createElement(w.a,{type:"caret-right"}))),T.push(o.a.createElement("div",{key:"4",onClick:function(e){return a.openConsentForm("IdProof")},className:"content-space-between full-width flex align-items-center"},o.a.createElement("div",{className:"full-width"},o.a.createElement("div",null,r(de.idProof)),o.a.createElement("div",{className:"fontsize12 cool-grey"},"".concat(r(de.uploadedOn)," ").concat(e," "))),o.a.createElement(w.a,{type:"caret-right"}))));var I=[];return I.push(o.a.createElement("div",{key:1,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(Qe,{className:"mb0"},P("settings.preferences.smsAlerts",{valuePropName:"checked",initialValue:N||!1})(o.a.createElement(Ge.a,{className:" calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},r(de.smsAlerts)),o.a.createElement("div",{className:"subdued fontsize12"},r(de.smsWillBeSent))))))))),I.push(o.a.createElement("div",{key:2,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(Qe,{className:"mb0"},P("settings.preferences.emailAlerts",{valuePropName:"checked",initialValue:g||!1})(o.a.createElement(Ge.a,{className:" calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},r(de.emailAlerts)),o.a.createElement("div",{className:"subdued fontsize12"},r(de.emailWillBeSent))))))))),I.push(o.a.createElement("div",{key:3,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(Qe,{className:"mb0"},P("settings.preferences.pushAlerts",{valuePropName:"checked",initialValue:E||!1})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},r(de.pushAlerts)),o.a.createElement("div",{className:"fontsize12 subdued"},r(de.pushWillBeSent))))))))),I.push(o.a.createElement("div",{key:4,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(Qe,{className:"mb0"},P("settings.preferences.reminderAlerts",{valuePropName:"checked",initialValue:k||!1})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},r(de.reminderAlerts)),o.a.createElement("div",{className:"subdued fontsize12"},r(de.reminderWillBeSent))))))))),o.a.createElement("div",{id:"setting",className:"mb180"},o.a.createElement(H.Element,{name:"settings"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},r(de.settings)),this.props.showPassword&&o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize16 dark medium pt24 mb5"},r(de.account)),o.a.createElement(qe.a,{span:24,bordered:!0,dataSource:T,renderItem:function(e){return o.a.createElement(qe.a.Item,null,e)}})),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"fontsize16 dark medium mb5"},r(de.notifications)),o.a.createElement(qe.a,{span:24,bordered:!0,dataSource:I,renderItem:function(e){return o.a.createElement(qe.a.Item,null,e)}}))))}}]),t}(c.Component),Xe=Object(y.d)(Ke),Je=a(180),Ze=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).scrollToElement=function(e){H.scroller.scrollTo(e,{duration:1e3,delay:0,smooth:!0,offset:-180})},a.setActive=function(e){a.setState({active:e})},a.state={active:"personal"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=[{key:t(de.personal),value:"personal"},{key:t(de.work),value:"work"},{key:t(de.settings),value:"setting"}],n=[];return a.forEach(function(t,a){n.push(o.a.createElement(Je.a.Item,{key:t.value},o.a.createElement(H.Link,{activeClass:"active",to:t.value,spy:!0,isDynamic:!1,offset:-180,delay:0,onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)},onSetActive:function(){e.setActive(t.value)}},o.a.createElement("div",{onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)}},t.key))))}),o.a.createElement(Je.a,{mode:"horizontal",className:"flex align-items-start justify-content-space-between",selectedKeys:[this.state.active]},n)}}]),t}(o.a.Component),$e={PersonalSection:Ae,WorkSection:Ue,SettingSection:Xe,Menubar:Object(y.d)(Ze)},et=h.a.Item,tt=function(e){var t=e.className,a=e.initialValue,n=e.getFieldDecorator,r=e.fieldName,s=e.onChange;return o.a.createElement(et,null,n(r,{initialValue:""!==a?a:null})(o.a.createElement(x.a,{className:"iqvia-tag ".concat(t),dropdownStyle:{display:"none"},mode:"tags",style:{width:"100%"},tokenSeparators:[","],onChange:s})))},at=o.a.createElement("img",{alt:"",src:Te.a}),nt=x.a.Option,rt=S.a.TextArea,st=h.a.Item,it=["work.organizationName","work.speciality","work.about","work.licenseNumber","work.officeAddress.addressLine1","work.officeAddress.addressLine2","work.officeAddress.zipCode","work.officeAddress.city","work.officeAddress.country"],lt=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).formatMessage=function(e){a.props.intl.formatMessage(e)},a.notBlank=function(e,t,n){t&&0!==t.length?n():n(a.formatMessage(de.notBlank))},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.props.userData.work,a=void 0===t?{}:t,n=a.organizationName,r=a.speciality,s=a.officeAddress,i=void 0===s?{}:s,l=a.licenseNumber,c=a.services,d=a.about,m=i.addressLine1,u=i.addressLine2,p=i.city,f=i.country,h=i.zipCode,v=[o.a.createElement(nt,{key:1,value:"xyz"},"xyz")],g=this.props.form,b=g.getFieldDecorator,E=g.getFieldError,y=g.isFieldTouched,N={},O=this.props.customFieldsError;return it.forEach(function(e){O?!y(e)&&O[e]&&(N[e]=E(e)):N[e]=y(e)&&E(e)}),o.a.createElement("div",{id:"work"},o.a.createElement(H.Element,{name:"work"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},"Work"),o.a.createElement("div",null,o.a.createElement(st,{label:e(de.organisationName),validateStatus:N["work.organizationName"]?"error":"",help:N["work.organizationName"]||""},b("work.organizationName",{initialValue:n})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(st,{label:e(de.speciality),validateStatus:N["work.speciality"]?"error":"",help:N["work.speciality"]||""},b("work.speciality",{rules:[],initialValue:r})(o.a.createElement(x.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:at,placeholder:""},v)))),o.a.createElement("div",{className:"mt20"},o.a.createElement(st,{label:e(de.licenseNumber),validateStatus:N["work.licenseNumber"]?"error":"",help:N["work.licenseNumber"]||""},b("work.licenseNumber",{initialValue:l})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"content-space-between pb5"},o.a.createElement("label",{className:"label-color fontsize12"},e(de.services)),o.a.createElement("div",{className:"subdued fontsize12"},e(de.useComma))),o.a.createElement(tt,{className:"",fieldName:"work.services",getFieldDecorator:b,initialValue:c&&null!==c&&""!==c?c.split(","):[]})),o.a.createElement("div",{className:"mt20"},o.a.createElement(st,{label:e(de.bio),validateStatus:N["work.about"]?"error":"",help:N["work.about"]||""},b("work.about",{initialValue:d})(o.a.createElement(rt,{placeholder:"",autosize:!0})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(st,{label:e(de.addressLine1),validateStatus:N["work.officeAddress.addressLine1"]?"error":"",help:N["work.officeAddress.addressLine1"]||""},b("work.officeAddress.addressLine1",{initialValue:m})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(st,{label:e(de.addressLine2),validateStatus:N["work.officeAddress.addressLine2"]?"error":"",help:N["work.officeAddress.addressLine2"]||""},b("work.officeAddress.addressLine2",{initialValue:u})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(st,{label:e(de.zipcode),validateStatus:N["work.officeAddress.zipCode"]?"error":"",help:N["work.officeAddress.zipCode"]||""},b("work.officeAddress.zipCode",{initialValue:h})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement(ce.a,{form:this.props.form,getFieldDecorator:b,cityLabel:e(de.cityLabel),countryLabel:e(de.countryLabel),city:p,country:f,cityField:"work.officeAddress.city",countryField:"work.officeAddress.country"})))}}]),t}(c.Component),ct=Object(y.d)(lt),ot=h.a.Item,dt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.props.form.getFieldDecorator,a=this.props.userData.services,n=a.medicalServices,r=void 0!==n&&n,s=a.homeHealthCare,i=void 0===s?{}:s,l=a.specialCare,c=void 0===l?{}:l,d=a.nonMedicalServices,m=void 0===d?{}:d,u=[{key:"services.homeHealthCare.nursing",title:e(de.nursingTitle),value:i.nursing||!1,subtitle:e(de.nursing)},{key:"services.homeHealthCare.physicalTherapy",title:e(de.physicalTherapyTitle),value:i.physicalTherapy||!1,subtitle:e(de.physicalTherapy)},{key:"services.homeHealthCare.occupationalTherapy",title:e(de.occupationalTherapyTitle),value:i.occupationalTherapy||!1,subtitle:e(de.occupationalTherapy)},{key:"services.homeHealthCare.speechPathology",title:e(de.speechAndLanguagePathologyTitle),value:i.speechPathology||!1,subtitle:e(de.speechAndLanguagePathology)},{key:"services.homeHealthCare.medicalCounselling",title:e(de.medicalCounsellingTitle),value:i.medicalCounselling||!1,subtitle:e(de.medicalCounselling)},{key:"services.homeHealthCare.healthAide",title:e(de.healthAideTitle),value:i.healthAide||!1,subtitle:e(de.healthAide)}],p=[{key:"services.specialCare.cardiacCare",title:e(de.cardiacCareTitle),value:c.cardiacCare||!1,subtitle:e(de.cardiacCare)},{key:"services.specialCare.diabetesCare",title:e(de.diabetesCareTitle),value:c.diabetesCare||!1,subtitle:e(de.diabetesCare)},{key:"services.specialCare.smokingCessation",title:e(de.smokingCessationTitle),value:c.smokingCessation||!1,subtitle:e(de.smokingCessation)}],f=[{key:"services.nonMedicalServices.respiteCare",title:e(de.respiteCareTitle),value:m.respiteCare||!1,subtitle:e(de.respiteCare)},{key:"services.nonMedicalServices.homemaking",title:e(de.homemakingTitle),value:m.homeMaking||!1,subtitle:e(de.homemaking)}],h=[];u.forEach(function(e,a){h.push(o.a.createElement("div",{key:a,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(ot,{className:"mb0"},t(e.key,{rules:[],valuePropName:"checked",initialValue:e.value})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},e.title),o.a.createElement("div",{className:"subdued fontsize12"},e.subtitle))))))))});var v=[];p.forEach(function(e,a){v.push(o.a.createElement("div",{key:a,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(ot,{className:"mb0"},t(e.key,{rules:[],valuePropName:"checked",initialValue:e.value})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},e.title),o.a.createElement("div",{className:"subdued fontsize12"},e.subtitle))))))))});var g=[];return f.forEach(function(e,a){g.push(o.a.createElement("div",{key:a,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(ot,{className:"mb0"},t(e.key,{rules:[],valuePropName:"checked",initialValue:e.value})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},e.title),o.a.createElement("div",{className:"subdued fontsize12"},e.subtitle))))))))}),o.a.createElement("div",{id:"services"},o.a.createElement(H.Element,{name:"services"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},e(de.services)),o.a.createElement("div",{className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings mt20"},o.a.createElement(ot,{className:"mb0"},t("services.medicalServices",{rules:[],valuePropName:"checked",initialValue:r})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize14 dark"},e(de.medicalServices)))))))),o.a.createElement("div",{className:"mt20"},o.a.createElement("h5",null,e(de.homeHealthCare)),o.a.createElement(qe.a,{span:24,bordered:!0,dataSource:h,renderItem:function(e){return o.a.createElement(qe.a.Item,null,e)}})),o.a.createElement("div",{className:"mt20"},o.a.createElement("h5",null,e(de.specialCare)),o.a.createElement(qe.a,{span:24,bordered:!0,dataSource:v,renderItem:function(e){return o.a.createElement(qe.a.Item,null,e)}})),o.a.createElement("div",{className:"mt20"},o.a.createElement("h5",null,e(de.nonMedicalServices)),o.a.createElement(qe.a,{span:24,bordered:!0,dataSource:g,renderItem:function(e){return o.a.createElement(qe.a.Item,null,e)}}))))}}]),t}(c.Component),mt=Object(y.d)(dt),ut=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).scrollToElement=function(e){H.scroller.scrollTo(e,{duration:1e3,delay:0,smooth:!0,offset:-180})},a.setActive=function(e){a.setState({active:e})},a.state={active:"personal"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=[{key:t(de.personal),value:"personal"},{key:t(de.work),value:"work"},{key:t(de.settings),value:"setting"}],n=[];return a.forEach(function(t,a){n.push(o.a.createElement(Je.a.Item,{key:t.value},o.a.createElement(H.Link,{activeClass:"active",to:t.value,spy:!0,isDynamic:!1,offset:-180,delay:0,onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)},onSetActive:function(){e.setActive(t.value)}},o.a.createElement("div",{onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)}},t.key))))}),o.a.createElement(Je.a,{mode:"horizontal",className:"flex align-items-start justify-content-space-between",selectedKeys:[this.state.active]},n)}}]),t}(o.a.Component),pt={PersonalSection:Ae,ServiceSection:mt,WorkSection:ct,SettingSection:Xe,Menubar:Object(y.d)(ut)},ft=a(719),ht=a.n(ft),vt=I.a.Button,gt=I.a.Group,bt=ht.a.Item,Et="contactNo.phoneNumber",yt="contactNo.countryCode",Nt="contacts.relatives.name",Ot="contacts.relatives.contactNo.countryCode",kt="contacts.relatives.contactNo.phoneNumber",Ct="contacts.emergencyContact.name",Dt="contacts.emergencyContact.contactNo.countryCode",jt="contacts.emergencyContact.contactNo.phoneNumber",St=[Ct,Dt,jt,Ot,kt,Nt],Mt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).isAnyContactAvailable=function(){var e=a.props.form;return!!(e.getFieldValue(Nt).length&&e.getFieldValue(kt).length>0)},a.handleChangeEmergencyContact=function(e){a.props.form.validateFields(),a.setState({isEnableEmergencyContact:e.target.checked},function(){var e,t,n="",r=a.props.form,s=r.validateFields,i=r.setFieldsValue,l=r.getFieldValue;a.state.isEnableEmergencyContact?(n=l(Ot),i((e={},Object(D.a)(e,Dt,n),Object(D.a)(e,jt,l(kt)),Object(D.a)(e,Ct,l(Nt)),e)),s([kt])):(i((t={},Object(D.a)(t,Dt,void 0),Object(D.a)(t,jt,void 0),Object(D.a)(t,Ct,void 0),t)),s([Dt,Ct,jt]));a.setState({emergencyContactCountryCode:n})})},a.isRelativeNotEqlToPersonalPhone=function(e,t,n){var r=a.props.form.getFieldValue,s=a.props.intl.formatMessage,i=r(Et),l=r(yt),c=r(Ot);t&&t.length>0&&l===c&&t===i?n(s(de.relativeNumberError)):n()},a.isRelativeCodeNotEqlToPersonalPhone=function(e,t,n){var r=a.props.form.validateFields;t&&t.length>0?(r([kt]),n()):n()},a.isEmergencyNotEqlToPersonalPhone=function(e,t,n){var r=a.props.form.getFieldValue,s=a.props.intl.formatMessage,i=r(Et),l=r(yt),c=r(Dt);t&&t.length>0&&l===c&&t===i?n(s(de.emergencyNumberError)):n()},a.isEmergencyCodeNotEqlToPersonalPhone=function(e,t,n){var r=a.props.form.validateFields;t&&t.length>0?(r([jt]),n()):n(a.props.intl.formatMessage(de.notBeBlank))},a.canUseEmergencyCheckboxEnable=function(){var e=a.props.form.getFieldValue,t=e(Nt),n=e(Ot),r=e(kt);return!(t&&n&&r&&t.length>0&&n.length>0&&r.length>0)},a.notBlank=function(e,t,n){t&&0!==t.length?n():n(a.props.intl.formatMessage(de.notBeBlank))},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.userData.personalInfo.contacts,t=void 0===e?{}:e,a=this.props,n=a.careCoaches,r=void 0===n?{}:n,s=a.caseDoctors,i=void 0===s?{}:s,l=a.hospitals,c=void 0===l?{}:l,d=a.userData.programIds,m=void 0===d?[]:d,u=a.intl.formatMessage,p={},f={},h={};if(m.length>0){var v=m[0],g=v.careCoach,b=v.doctor,E=v.hospitalId;p=r[g]||{},f=i[b]||{},h=c[E]}var y=this.props.form,N=y.getFieldDecorator,O=y.getFieldValue,k=t.relatives,C=void 0===k?{}:k,D=t.emergencyContact,j=void 0===D?{}:D,M=t.useRelativeAsEmergencyContact,w=void 0!==M&&M,A=C.name,P=C.contactNo,T=void 0===P?{}:P,I=C.relation,x=void 0===I?"Parent":I,_=j.name,R=j.contactNo,z=void 0===R?{}:R,F=this.state.isEnableEmergencyContact?O(Ct):_,B=void 0===this.state.emergencyContactCountryCode?z.countryCode:this.state.emergencyContactCountryCode,L={},V=this.props.form,Y=V.isFieldTouched,U=V.getFieldError,q=this.props.customFieldsError;return St.forEach(function(e){q&&!Y(e)&&q[e]?L[e]=U(e):L[e]=Y(e)&&U(e)}),o.a.createElement("div",{id:"contact"},o.a.createElement(H.Element,{name:"contact"},o.a.createElement("div",null,o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},u(de.contacts)),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"mb0 label-color fontsize12"},u(de.caseDoctor)),void 0===f.name?o.a.createElement("div",{className:"fontsize16 blacks "},u(de.notAssigned)):o.a.createElement("div",{className:"flex row justify-content-space-between align-items-center"},o.a.createElement("div",{className:"fontsize16 black"},f.name),o.a.createElement("div",null,o.a.createElement("div",null)))),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",null,o.a.createElement("div",{className:"mb0 label-color fontsize12"},u(de.careCoach)),void 0===p.name?o.a.createElement("div",{className:"fontsize16 blacks "},u(de.notAssigned)):o.a.createElement("div",{className:"flex row justify-content-space-between align-items-center"},o.a.createElement("div",{className:"fontsize16 black"},p.name)))),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",null,o.a.createElement("div",{className:"mb0 label-color fontsize12"},u(de.hospital)),void 0===h?o.a.createElement("div",{className:"fontsize16 blacks "},u(de.notAssigned)):o.a.createElement("div",{className:"flex row justify-content-space-between align-items-center"},o.a.createElement("div",{className:"fontsize16 black"},h.name)))),o.a.createElement("div",{className:"mt24"},o.a.createElement("div",{className:"flex row align-items-center justify-content-space-between"},o.a.createElement("div",{className:"label-color fontsize12 pb5"},u(de.relativeName)),o.a.createElement(bt,{className:"tab-radio-button"},N("contacts.relatives.relation",{initialValue:x,type:"string"})(o.a.createElement(gt,{size:"small"},o.a.createElement(vt,{value:"Parent"},u(de.parent)),o.a.createElement(vt,{value:"Spouse"},u(de.spouse)),o.a.createElement(vt,{value:"Guardian"},u(de.guardian)))))),o.a.createElement(bt,{validateStatus:L[Nt]?"error":"",help:L[Nt]||""},N(Nt,{initialValue:A})(o.a.createElement(S.a,{placeholder:"",className:"mt2"}))),o.a.createElement("div",{className:"fontsize12 pb5 label-color"},u(de.relativeMobile)),o.a.createElement(te.a,Object.assign({fieldError:L,countryCode:null===T.countryCode?void 0:T.countryCode,phoneNumber:T.phoneNumber,phoneField:kt,countryCodeField:Ot,rulesCountryCode:[{validator:this.isRelativeCodeNotEqlToPersonalPhone}],rulesPhoneNumber:[{message:u(de.phoneNumberRule)},{validator:this.isRelativeNotEqlToPersonalPhone}]},this.props))),o.a.createElement("div",{className:"mt24"},o.a.createElement("div",null,o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement(bt,{className:"mb0"},N("contacts.useRelativeAsEmergencyContact",{valuePropName:"checked",initialValue:w||!1,onChange:this.handleChangeEmergencyContact})(o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox",disabled:this.canUseEmergencyCheckboxEnable()},o.a.createElement("div",{className:"label-color medium fontsize14"},u(de.contactRelative)))))),o.a.createElement("div",{className:"mt10"},o.a.createElement(bt,{label:u(de.emergencyContactName),validateStatus:L[Ct]?"error":"",help:L[Ct]||""},N(Ct,{rules:[{required:!0,message:u(de.emergencyContactRule)}],initialValue:F})(o.a.createElement(S.a,{placeholder:"",disabled:void 0===this.state.isEnableEmergencyContact?w:this.state.isEnableEmergencyContact})))),o.a.createElement("div",{className:"mt10"},o.a.createElement("label",{className:"mb5 fontsize12 label-color ant-form-item-required"},u(de.emergencyContactMobile)),o.a.createElement(te.a,Object.assign({fieldError:L,countryCode:B,phoneNumber:z.phoneNumber,phoneField:jt,countryCodeField:Dt,disabled:void 0===this.state.isEnableEmergencyContact?w:this.state.isEnableEmergencyContact,rulesCountryCode:[{required:!0,message:u(de.phoneNumberRule)}],rulesPhoneNumber:[{required:!0,message:u(de.phoneNumberRule)},{validator:this.isEmergencyNotEqlToPersonalPhone}]},this.props))))))))}}]),t}(o.a.Component),wt=Object(y.d)(Mt),At=a(1),Pt=a(171),Tt=a(857),It=h.a.Item,xt=I.a.Button,_t=I.a.Group,Rt=x.a.Option,zt=o.a.createElement("img",{alt:"",src:Te.a}),Ft="medicalCondition.clinicalReadings",Bt="Diagnosis method",Lt="suffix",Ht=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).getInputElement=function(e,t,n){var r=[],s=a.props.form.getFieldDecorator;return Object(E.a)(n,function(a,n){r.push(o.a.createElement("div",{key:n,className:"mb8 mt10"},o.a.createElement("div",{className:"content-space-between fontsize12 label-color pb5"},a.label),o.a.createElement(It,null,s(e+"."+t+"."+n,{initialValue:a.value})(o.a.createElement(S.a,{placeholder:""})),o.a.createElement("div",{className:"suffix-placeholder"},o.a.createElement("div",null,a.type)))))}),r},a.getReadingAttributeForTest=function(e,t){var n=[];return Object(E.a)(t,function(t,r){n.push(o.a.createElement("div",{key:r,className:"mt10 mb30"},o.a.createElement("div",{className:"bold fontsize14"},t.label),a.getInputElement(e,r,t.content)))}),n},a.getClinicalReadingForm=function(e){var t=a.state,n=t.testTemplate,r=t.clinicalReadings,s={},i=Object.keys(n),l=r[e];i.length>0&&l!==Bt&&(s.type=n[l].label,s.content=a.gettestreading(n[l].content,l));var c=a.state.clinicalReadings[e];return c===Bt?null:a.getReadingAttributeForTest(Ft+"."+c,s.content)},a.addMoreTest=function(){var e=a.state.clinicalReadings;e.push(Bt),a.setState({clinicalReadings:e},function(){})},a.getseconreading=function(e,t,n,r){var s={},i=a.props.medicals_data,l={};if(i){var c=i.clinicalReadings;l=void 0===c?{}:c}var o=e[Lt],d={};return Object(E.a)(e,function(e,a){if(a!==Lt){var n={};if(!Object(Pt.a)(l)){var s=(l[r]||{}).data;n=void 0===s?{}:s}d[a]={value:Object(b.a)(n,"".concat(t,".").concat(a),""),type:o,label:e}}}),s.content=d,s.label=n,s},a.gettestreading=function(e,t){var n={};return Object(E.a)(e,function(e,r){e.hasOwnProperty("content")&&(n[r]=a.getseconreading(e.content,r,e.label,t))}),n},a.changeClinicalReadingType=function(e,t){var n=a.state.selectedTests,r=a.state.clinicalReadings;r[t]=e,a.setState({clinicalReadings:r,index:t,selectedTests:Object(At.a)({},n,Object(D.a)({},t,e))})},a.getTestOptions=function(){var e=a.state,t=e.testTemplate,n=e.selectedTests,r=Object.keys(n).map(function(e){return n[e]});return Object.keys(t).filter(function(e){return!r.includes(e)}).map(function(e,t){return o.a.createElement(Rt,{key:t,value:e},e)})},a.state={clinicalReadings:[],testTemplate:{},index:0,selectedTests:{}},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.clinical_test_templates,a=e.userData,n=(a=void 0===a?{}:a).programIds,r=e.medicalsData,s=(r=void 0===r?{}:r).clinicalReadings,i=void 0===s?{}:s,l=n[0].id,c=Object.keys(i),o={};c.forEach(function(e,t){o=Object(At.a)({},o,Object(D.a)({},t,e))}),this.setState({testTemplate:t[l],selectedTests:o,clinicalReadings:c},function(){})}},{key:"render",value:function(){var e=this,t=this.props,a=t.medicalsData,n=void 0===a?{}:a,r=t.intl.formatMessage,s=n.basicCondition,i=void 0===s?{}:s,l=n.vitals,c=void 0===l?{}:l,d=i.chiefComplaint,m=void 0===d?"":d,u=i.allergies,p=void 0===u?"":u,f=i.surgeriesOrFracture,h=void 0===f?"":f,v=i.others,g=void 0===v?"":v,b=c.temperatureUnit,E=void 0===b?"c":b,y=c.temperature,N=c.respirationRate,O=c.pulse,k=c.bloodPressure,D=this.props.form.getFieldDecorator,j=this.getTestOptions,M=[],A=this.state.clinicalReadings,P=j();return Object(Tt.a)(A,function(t,a){M.push(o.a.createElement("div",{key:a,className:"mb20"},o.a.createElement(x.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:zt,defaultValue:t,onChange:function(t){e.changeClinicalReadingType(t,a)}},P),o.a.createElement("div",null,e.getClinicalReadingForm(a))))}),o.a.createElement("div",{id:"medical"},o.a.createElement(H.Element,{name:"medical"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},r(de.medical)),o.a.createElement("div",{className:"medium fontsize16"},r(de.basic)),o.a.createElement("div",{className:"mt10"},o.a.createElement(It,{label:r(de.chiefComplaint)},D("medicalCondition.basicCondition.chiefComplaint",{initialValue:m})(o.a.createElement(S.a,null)))),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"content-space-between pb5"},o.a.createElement("label",{className:"label-color fontsize12"},r(de.allergies)),o.a.createElement("div",{className:"subdued fontsize12"},r(de.useComma))),o.a.createElement(tt,{className:"",fieldName:"medicalCondition.basicCondition.allergies",getFieldDecorator:D,initialValue:p&&null!==p&&""!==p?p.split(","):[]})),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"content-space-between  pb5"},o.a.createElement("label",{className:"label-color fontsize12"},r(de.surgeriesFracture)),o.a.createElement("div",{className:"subdued fontsize12"},r(de.useComma))),o.a.createElement(tt,{className:"",fieldName:"medicalCondition.basicCondition.surgeriesOrFracture",getFieldDecorator:D,initialValue:h&&null!==h&&""!==h?h.split(","):[]})),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"content-space-between  pb5"},o.a.createElement("label",{className:"label-color fontsize12"},r(de.otherConditions)),o.a.createElement("div",{className:"subdued fontsize12"},r(de.useComma))),o.a.createElement(tt,{className:"",fieldName:"medicalCondition.basicCondition.others",getFieldDecorator:D,initialValue:g&&null!==g&&""!==g?g.split(","):[]})),o.a.createElement("div",{className:"mt30"},o.a.createElement("div",{className:"medium mb8"},r(de.vital)),o.a.createElement("div",{className:"fontsize12 subdued mb20"},r(de.vitalSubtitle)),o.a.createElement("div",null,o.a.createElement("div",{className:"flex row align-items-center full-width justify-content-space-between"},o.a.createElement("div",{className:"label-color fontsize12 pb5"},r(de.bodyTemperature)),o.a.createElement(It,{className:"tab-radio-button"},D("medicalCondition.vitals.temperatureUnit",{initialValue:E,type:"string"})(o.a.createElement(_t,{size:"small"},o.a.createElement(xt,{className:"medium",value:"c"},"\u2103"),o.a.createElement(xt,{className:"medium",value:"f"},"\u2109"))))),o.a.createElement(It,null,D("medicalCondition.vitals.temperature",{initialValue:y})(o.a.createElement(S.a,{placeholder:"",className:"mt2"})))),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"fontsize12 label-color pb5"},r(de.respirationRate)),o.a.createElement(It,null,D("medicalCondition.vitals.respirationRate",{initialValue:N})(o.a.createElement(S.a,{placeholder:""})),o.a.createElement("div",{className:"suffix-placeholder"},o.a.createElement("div",null,r(de.respirationRate))))),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"content-space-between fontsize12 label-color pb5"},r(de.pulseRate)),o.a.createElement(It,null,D("medicalCondition.vitals.pulse",{initialValue:O})(o.a.createElement(S.a,{placeholder:""})),o.a.createElement("div",{className:"suffix-placeholder"},o.a.createElement("div",null,r(de.bpm))))),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"content-space-between fontsize12 label-color pb5"},r(de.bloodPressure)),o.a.createElement(It,null,D("medicalCondition.vitals.bloodPressure",{initialValue:k})(o.a.createElement(S.a,{placeholder:""})),o.a.createElement("div",{className:"suffix-placeholder"},o.a.createElement("div",null,r(de.bpUnit)))))),o.a.createElement("div",{className:"mt30"},o.a.createElement("div",{className:"flex row align-items-center justify-content-space-between bold mt30"},o.a.createElement("div",{className:"medium fontsize16"},r(de.clinicalReadings)),o.a.createElement(C.a,{style:{height:"32px",width:"32px"},className:"border-none",onClick:function(t){t.preventDefault(),e.addMoreTest()}},o.a.createElement(w.a,{type:"plus"}))),o.a.createElement("div",{className:"mb16 fontsize12 subdued"},r(de.clinicalReadingsSubtitle)),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",null,M)))))}}]),t}(c.Component),Vt=Object(y.d)(Ht),Yt=a(195),Ut=a.n(Yt),qt=o.a.createElement("img",{alt:"",src:Ut.a}),Gt=h.a.Item,Wt=x.a.Option;function Qt(e){return e&&e<R()().endOf("day")}var Kt,Xt=["insurance.provider","insurance.expiresOn","insurance.policy"],Jt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return(0,a.props.intl.formatMessage)(e)},a.insuranceProviders=function(){var e=a.props.insurance_provider_data,t=void 0===e?{}:e,n=[];for(var r in t){var s=t[r];n.push(o.a.createElement(Wt,{key:"".concat(s._id,",").concat(r),value:s._id},s.name))}return n},a.openCalendar=function(e){e.preventDefault(),window.document.getElementsByClassName("ant-calendar-picker-input")[1].click()},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.getInsuranceProvider()}},{key:"render",value:function(){var e,t=this,a=this.insuranceProviders,n=this.formatMessage,r=this.props,s=r.form,i=s.getFieldDecorator,l=s.getFieldError,c=s.isFieldTouched,d=r.userData.insurance,m=(d=void 0===d?{}:d).provider,u=d.policy,p=d.expiresOn;p&&null!==p&&p.length>0&&(e=R()(p));var f={};return Xt.forEach(function(e){f[e]=c(e)&&l(e)}),o.a.createElement(H.Element,{name:"insurance"},o.a.createElement("div",{className:"dark bold fontsize18 mt40 mb16"},n(de.insurance)),o.a.createElement(Gt,{label:n(de.insuranceProvider),validateStatus:f["insurance.provider"]?"error":"",help:f["insurance.provider"]||""},i("insurance.provider",{rules:[],initialValue:m,onChange:function(){}})(o.a.createElement(x.a,{className:"full-width iqvia-style-select fontsize14",placeholder:"",suffixIcon:qt,showSearch:!0,autoComplete:"off",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0}},a()))),o.a.createElement(Gt,{label:n(de.insurancePolicy),validateStatus:f["insurance.policy"]?"error":"",help:f["insurance.policy"]||""},i("insurance.policy",{rules:[],initialValue:u})(o.a.createElement(S.a,null))),o.a.createElement("div",{className:"mt20 flex row align-items-center iqvia-date-picker"},o.a.createElement("div",{className:"full-width "},o.a.createElement(Gt,{label:n(de.insuranceExpiresOn),validateStatus:f["insurance.expiresOn"]?"error":"",help:f["insurance.expiresOn"]||""},i("insurance.expiresOn",{rules:[],initialValue:e,onChange:function(){t.setState({open:!1})}})(o.a.createElement(j.a,{showToday:!1,disabledDate:Qt,className:"full-width"})),o.a.createElement("img",{alt:"",className:"calendar",onClick:this.openCalendar,src:K.a})))))}}]),t}(c.Component),Zt=Object(y.d)(Jt),$t=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).scrollToElement=function(e){H.scroller.scrollTo(e,{duration:1e3,delay:0,smooth:!0,offset:-180})},a.setActive=function(e){a.setState({active:e})},a.state={active:"personal"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=[{key:t(de.personal),value:"personal"},{key:t(de.insurance),value:"insurance"},{key:t(de.contacts),value:"contact"},{key:t(de.medical),value:"medical"},{key:t(de.settings),value:"setting"}],n=[];return a.forEach(function(t,a){n.push(o.a.createElement(Je.a.Item,{key:t.value},o.a.createElement(H.Link,{activeClass:"active",to:t.value,spy:!0,isDynamic:!1,offset:-180,delay:0,onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)},onSetActive:function(){e.setActive(t.value)}},o.a.createElement("div",{onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)}},t.key))))}),o.a.createElement(Je.a,{mode:"horizontal",className:"flex align-items-start justify-content-space-between",selectedKeys:[this.state.active],style:{}},n)}}]),t}(o.a.Component),ea={PersonalSection:Ae,ContactSection:wt,MedicalSection:Vt,SettingSection:Xe,InsuranceSections:Zt,Menubar:Object(y.d)($t)},ta=h.a.Item,aa=["work.organizationName","work.officeAddress.addressLine1","work.officeAddress.addressLine2","work.officeAddress.zipCode","work.officeAddress.city","work.officeAddress.country"],na=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.userData.work,t=void 0===e?{}:e,a=t.organizationName,n=t.officeAddress,r=void 0===n?{}:n,s=r.addressLine1,i=r.addressLine2,l=r.city,c=r.country,d=r.zipCode,m=this.props.form,u=m.getFieldDecorator,p=m.getFieldError,f=m.isFieldTouched,h={},v=this.props,g=v.customFieldsError,b=v.intl.formatMessage;return aa.forEach(function(e){g&&!f(e)&&g[e]?h[e]=p(e):h[e]=f(e)&&p(e)}),o.a.createElement("div",{id:"work"},o.a.createElement(H.Element,{name:"work"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},"Work"),o.a.createElement("div",null,o.a.createElement(ta,{label:b(de.organisationName),validateStatus:h["work.organizationName"]?"error":"",help:h["work.organizationName"]||""},u("work.organizationName",{initialValue:a})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(ta,{label:b(de.addressLine1),validateStatus:h["work.officeAddress.addressLine1"]?"error":"",help:h["work.officeAddress.addressLine1"]||""},u("work.officeAddress.addressLine1",{initialValue:s})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(ta,{label:b(de.addressLine2),validateStatus:h["work.officeAddress.addressLine2"]?"error":"",help:h["work.officeAddress.addressLine2"]||""},u("work.officeAddress.addressLine2",{initialValue:i})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement("div",{className:"mt20"},o.a.createElement(ta,{label:b(de.zipcode),validateStatus:h["work.officeAddress.zipCode"]?"error":"",help:h["work.officeAddress.zipCode"]||""},u("work.officeAddress.zipCode",{initialValue:d})(o.a.createElement(S.a,{placeholder:""})))),o.a.createElement(ce.a,{form:this.props.form,getFieldDecorator:u,cityLabel:b(de.cityLabel),countryLabel:b(de.countryLabel),city:l,country:c,cityField:"work.officeAddress.city",countryField:"work.officeAddress.country"})))}}]),t}(c.Component),ra=Object(y.d)(na),sa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).scrollToElement=function(e){H.scroller.scrollTo(e,{duration:1e3,delay:0,smooth:!0,offset:-180})},a.setActive=function(e){a.setState({active:e})},a.state={active:"personal"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage,a=[{key:t(de.personal),value:"personal"},{key:t(de.work),value:"work"},{key:t(de.settings),value:"setting"}],n=[];return a.forEach(function(t,a){n.push(o.a.createElement(Je.a.Item,{key:t.value},o.a.createElement(H.Link,{activeClass:"active",to:t.value,spy:!0,isDynamic:!1,offset:-180,delay:0,onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)},onSetActive:function(){e.setActive(t.value)}},o.a.createElement("div",{onClick:function(a){a.preventDefault(),a.stopPropagation(),e.scrollToElement(t.value)}},t.key))))}),o.a.createElement(Je.a,{mode:"horizontal",className:"flex align-items-start justify-content-space-between",selectedKeys:[this.state.active],style:{}},n)}}]),t}(o.a.Component),ia={PersonalSection:Ae,WorkSection:ra,SettingSection:Xe,Menubar:Object(y.d)(sa)},la=a(191),ca=a.n(la),oa="doctor",da="careCoach",ma="patient",ua="programAdmin",pa=(Kt={},Object(D.a)(Kt,oa,["name","homeAddress.country","homeAddress.city","work.speciality","work.officeAddress.city","work.officeAddress.country","hospitals"]),Object(D.a)(Kt,da,["name","homeAddress.country","homeAddress.city","contactNo.phoneNumber","contactNo.countryCode","homeAddress.addressLine2","homeAddress.zipCode"]),Object(D.a)(Kt,ma,["name","homeAddress.country","homeAddress.city","contactNo.phoneNumber","contactNo.countryCode","homeAddress.addressLine2","homeAddress.zipCode","dob","gender","contacts.emergencyContact.contactNo.countryCode","contacts.emergencyContact.contactNo.phoneNumber","contacts.emergencyContact.name"]),Object(D.a)(Kt,ua,["name","homeAddress.country","homeAddress.city"]),Kt),fa=function(e){var t=e.gotoDashBoard,a=e.getFieldsError,n=e.isProfileCompleted,r=e.intl,s=e.editingOtherUser,i=a(),l=r.formatMessage;return o.a.createElement("div",{className:"pull-right"},!s&&n?o.a.createElement(C.a,{className:"iqvia-outline-btn",onClick:function(e){e.preventDefault(),t()},ghost:!0},l(ae.goToDashBoard)):null,o.a.createElement(C.a,{type:"primary",htmlType:"submit",className:"ml10 iqvia-primary-btn",disabled:i},l(ae.save)))},ha=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.onSave,r=t.form.validateFields;console.log("this.props",a.props);try{r(function(e,t){console.log("err",e,t),e||n(t)})}catch(s){console.log("error============>",s)}},a.getMenuBar=function(e){var t=null;switch(e){case oa:t=$e.Menubar;break;case da:t=pt.Menubar;break;case ma:t=ea.Menubar;break;case ua:t=ia.Menubar}return t},a.getComponentToShow=function(e){var t=null;switch(e){case oa:var n=$e.PersonalSection,r=$e.WorkSection,s=$e.SettingSection;t=o.a.createElement("div",null,o.a.createElement(n,a.props),o.a.createElement(r,a.props),o.a.createElement(s,a.props));break;case da:var i=pt.PersonalSection,l=pt.WorkSection,c=pt.SettingSection;t=o.a.createElement("div",null,o.a.createElement(i,a.props),o.a.createElement(l,a.props),o.a.createElement(c,a.props));break;case ma:var d=ea.PersonalSection,m=ea.MedicalSection,u=ea.ContactSection,p=ea.SettingSection,f=ea.InsuranceSections;t=o.a.createElement("div",null,o.a.createElement(d,a.props),o.a.createElement(f,a.props),o.a.createElement(u,a.props),o.a.createElement(m,a.props),o.a.createElement(p,a.props));break;case ua:var h=ia.PersonalSection,v=ia.WorkSection,g=ia.SettingSection;t=o.a.createElement("div",null,o.a.createElement(h,a.props),o.a.createElement(v,a.props),o.a.createElement(g,a.props))}return t},a.setFieldsError=function(e){if(e){var t=a.props.form.setFields,n={};Object(E.a)(e,function(e,t){n[t]={value:e.value,errors:[e.msg]}}),t(n)}},a.state={confirmDirty:!1,autoCompleteResult:[]},a.hasErrors=a.hasErrors.bind(Object(v.a)(Object(v.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"hasErrors",value:function(){var e=this.props.form.getFieldError,t=this.props.userData.basicInfo.category,a=pa[t];for(var n in a)if(e(a[n]))return!0;return!1}},{key:"render",value:function(){var e=this.props,t=e.intl,a=t.formatMessage,n=t.locale,r=e.editingOtherUser,s=e.handleGoBack,i=this.props,l=i.gotoDashBoard,d=i.userData,m=d.basicInfo,u=void 0===m?{}:m,p=d.isProfileCompleted,f=void 0!==p&&p,v=u.category,g=u.name,b=this.getMenuBar(v),E=this.getComponentToShow(v),y=this.hasErrors();return o.a.createElement(h.a,{id:"edit-form",onSubmit:this.handleSubmit},o.a.createElement(O.a,null,o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:12,xl:12,xxl:12,className:"h100"},o.a.createElement(O.a,{className:"fixed_header_sticky h100"},o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:2,xl:2,xxl:2,className:"h100"},r?o.a.createElement("div",{className:"flex align-items-center justify-content-start h100 pl20"},o.a.createElement("img",{className:"mr16 clickable",alt:"go back",src:ca.a,onClick:s}),o.a.createElement("div",{className:"fontsize12 dark"},"Edit ".concat(g,"'s Details"))):o.a.createElement("div",{className:"flex align-items-center justify-content-start h100 fontsize22 regular pl20"},a(ae.myProfile))),o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:7,xl:7,xxl:7,className:"h100 menubar"},o.a.createElement(b,null)),o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:3,xl:3,xxl:3,className:"h100"},o.a.createElement("div",{className:"pull-right flex align-items-center justify-content-center h100 pr20"},!r&&f?o.a.createElement(C.a,{className:"iqvia-outline-btn",ghost:!0,onClick:function(e){e.preventDefault(),l()}},a(ae.goToDashBoard)):null,o.a.createElement(C.a,{type:"primary",htmlType:"submit",className:"ml10 iqvia-primary-btn",disabled:y},a(ae.save))))))),o.a.createElement("div",{className:"flex align-items-center justify-content-center"},o.a.createElement("div",{className:"main-iqvia-container"},o.a.createElement(O.a,{type:"flex",justify:"center",className:"pt66"},o.a.createElement(k.a,{xs:12,sm:12,md:7,lg:7,xl:7,xxl:7},o.a.createElement(O.a,null,!r&&o.a.createElement(c.Fragment,null,o.a.createElement(k.a,{span:24},o.a.createElement("div",{className:"fonsize14 mb8"},a(ae.profileSetupText))),o.a.createElement(k.a,{span:24,className:"mb30"},o.a.createElement("div",{className:" fontsize 12 subdued"},a(ae.subduedProfileSetupText))),o.a.createElement(k.a,{xs:12,sm:12,md:12,lg:0,xl:0,xxl:0},o.a.createElement("div",{className:"fontsize22 pb10 "},a(ae.myProfile)))),o.a.createElement(k.a,{className:"iqvia-form ",span:12},E)))))),o.a.createElement(O.a,{className:"stick-bottom",style:{backgroundColor:"white",borderTop:"solid 1px #d4d7d9"}},o.a.createElement(k.a,{xs:12,sm:12,md:12,lg:0,xl:0,xxl:0,className:"nav-menu-flex"},o.a.createElement(b,null)),o.a.createElement(k.a,{xs:12,sm:12,md:12,lg:0,xl:0,xxl:0},o.a.createElement("div",{className:"pt10 pb10 pr10 pl10 clearfix"},o.a.createElement(fa,{gotoDashBoard:l,editingOtherUser:r,getFieldsError:this.hasErrors,category:this.props.userData.category,isProfileCompleted:f,intl:{formatMessage:a,locale:n}})))))}}]),t}(c.Component),va=Object(y.d)(ha),ga=a(299),ba=a(68),Ea=a(468),ya=Object(Z.b)(function(e){return{msg:e.successMsg.msg}},function(e){return{close:function(){return e(Object(ba.a)())}}})(Ea.a),Na=a(858),Oa=Object(y.c)({step1:{id:"app.profile-setup.step1",defaultMessage:"1. Upload consent form"},step2:{id:"app.profile-setup.step2",defaultMessage:"2. Upload ID Proof"},step3:{id:"app.profile-setup.step3",defaultMessage:"3. Setup Profile"},consentForm:{id:"app.profile-setup.consentForm",defaultMessage:"Upload consent form"},consentFormTitle:{id:"app.profile-setup.consentForm.title",defaultMessage:"Please upload scanned copy of consent form duly signed by you"},consentFormSubTitle:{id:"app.profile-setup.consentForm.subtitle",defaultMessage:"View/re-upload the same from \u201cprofile settings\u201d later"},idProof:{id:"app.profile-setup.idProof",defaultMessage:"Upload ID Proof"},idProofTitle:{id:"app.profile-setup.idProof.title",defaultMessage:"Please upload scanned copy of ID proof"},idProofSubTitle:{id:"app.profile-setup.idProof.subtitle",defaultMessage:"View/re-upload the same from \u201cprofile settings\u201d later"},documentUploadHelp1:{id:"app.profile-setup.documentUploadHelp1",defaultMessage:"Or simpy drag & drop"},documentUploadHelp2:{id:"app.profile-setup.documentUploadHelp2",defaultMessage:"image files here"},uploadButton:{id:"app.profile-setup.uploadButton",defaultMessage:"Select one or more files from your computer"},uploading:{id:"app.profile-setup.uploading",defaultMessage:"Uploading"}}),ka=Na.a.Step,Ca=o.a.createElement(w.a,{type:"check-circle",theme:"filled"}),Da=Object(y.d)(function(e){var t=e.intl.formatMessage,a=e.current,n=e.className,r=void 0===n?"":n,s=o.a.createElement("div",{className:"fontsize12"},t(Oa.step1)),i=o.a.createElement("div",{className:"fontsize12"},t(Oa.step2)),l=o.a.createElement("div",{className:"fontsize12"},t(Oa.step3));return o.a.createElement(Na.a,{className:"setup-step ".concat(r),labelPlacement:"vertical",current:a},o.a.createElement(ka,{title:s,icon:Ca}),o.a.createElement(ka,{title:i,icon:Ca}),o.a.createElement(ka,{title:l,icon:Ca}))}),ja=Object(Z.b)(function(e){return{current:e.page.profileSetUp.current}},function(e){return{}})(Da),Sa=(a(1288),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).clearMsg=function(e){(0,a.props.clearMsg)(),a.setState({data_save_done:!1,success_msg:null})},a.clearError=function(e){(0,a.props.cleanOtpState)(),e.preventDefault(),a.setState({error_msg:null})},a.setFieldsError=function(e){if(e){var t=a.EditForm.setFields,n={};Object(E.a)(e,function(e,t){n[t]={value:e.value,errors:[new Error("invalid value for field")]}}),t(n)}},a.handleGoBack=function(e){e.preventDefault(),a.props.history.goBack()},a.gotoDashBoard=a.gotoDashBoard.bind(Object(v.a)(Object(v.a)(a))),a.onSave=a.onSave.bind(Object(v.a)(Object(v.a)(a))),a.EditForm=h.a.create()(va),a.gotoMyProfile=a.gotoMyProfile.bind(Object(v.a)(Object(v.a)(a))),a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e?this.props.getData(e):this.props.getData()}},{key:"onSave",value:function(e){var t=this.props,a=t.cleanOtpState,n=t.user_data,r=void 0===n?{}:n,s=t.hospitals_data,i=void 0===s?{}:s;a();var l={},c=r.basicInfo,o=void 0===c?{}:c;if(Object(E.a)(e,function(e,t){Object(g.a)(l,t,e)}),o.category===oe.D.DOCTOR){var d=Object(b.a)(l,"hospitals[0]","");if(""!==d&&i!=={}){var m=i[d].name;Object(g.a)(l,"work.organizationName",m)}}Object(g.a)(l,"userId",o._id),this.props.updateUser(l)}},{key:"gotoMyProfile",value:function(e){e.preventDefault(),this.props.history.push(oe.H.MY_PROFILE)}},{key:"gotoDashBoard",value:function(){this.props.history.push(oe.H.DASHBOARD.HOME)}},{key:"render",value:function(){var e=this.props.match,t=(e=void 0===e?{}:e).params,a=(t=void 0===t?{}:t).id,n=this.props,r=n.user_data,s=n.care_coaches,i=n.case_doctors,l=n.medicals_data,c=n.hospitals_data,d=n.is_profile_error,m=n.profile_error,u=n.isLoading;if(void 0===u||u)return o.a.createElement(N.a,null);var p=r.isProfileCompleted,h=this.handleGoBack,v=p,g=this.EditForm,b=r.basicInfo,E=(void 0===b?{}:b).category,y=!!a,O=this.props.error&&this.props.error.fieldError?this.props.error.fieldsError:null;return o.a.createElement(f.a,{className:"edit_form_page_wrapper",style:{backgroundColor:"white"}},o.a.createElement(N.a,null),!v&&E===oe.D.PATIENT&&o.a.createElement(ja,{className:"iqvia-step"}),o.a.createElement(g,Object.assign({},this.props,{userData:r,medicalsData:l,careCoaches:s,hospitals:c,caseDoctors:i,onSave:this.onSave,gotoDashBoard:this.gotoDashBoard,gotoChangePassword:this.goToChangePassword,customFieldsError:O,editingOtherUser:y,handleGoBack:h})),o.a.createElement(ya,null),d&&o.a.createElement(ga.a,{msg:m.message,close:this.clearMsg}))}}]),t}(c.Component)),Ma=Object(y.d)(Sa),wa=a(399),Aa=a(36),Pa=a(33),Ta=a(19),Ia=a(175),xa=a(234),_a=a(65),Ra=a(51),za=Object(wa.a)(Object(Z.b)(function(e){var t=e.users,a=e.auth.authenticated_user,n=e.page.editProfile,r=e.medicals,s=e.insuranceProviders,i=e.hospitals,l=e.clinicalTestTemplates,c=Object(Ia.c)(),o=Object(xa.a)(),d=Object(Ia.b)(),m=Object(Ia.a)();return{user_data:c(t,n.current_user_id),insurance_provider_data:s,hospitals_data:i,medicals_data:o(r,n.current_user_id),show_otp_modal:n.show_otp_modal,case_doctors:d(t,n.current_user_id),care_coaches:m(t,n.current_user_id),show_profile_pic_modal:n.show_profile_pic_modal,is_profile_error:n.is_profile_error,is_profile_saved:n.is_profile_saved,profile_error:n.profile_error,success_msg:n.success_msg,isLoading:n.isLoading,clinical_test_templates:l,showPassword:n.current_user_id===a}},function(e){return{clearMsg:function(){return e(Object(Pa.b)())},openOtpModal:function(){return e(Object(Pa.g)())},openProfilePicModal:function(){return e(Object(Pa.h)())},closeOtpModal:function(){return e(Object(Pa.c)())},closeProfilePicModal:function(){return e(Object(Pa.d)())},changeProfilePic:function(t,a){return e(Object(Aa.b)(t,a))},getData:function(t){return e(Object(Pa.f)(t))},updateUser:function(t){return e(Object(Pa.i)(t))},sendOtp:function(t,a){return e(Object(ie.e)(t,a))},verifyOtp:function(t,a){return e(Object(ie.f)(t,a))},getInsuranceProvider:function(){return e(Object(_a.b)())},getHospital:function(t,a){return e(Object(Ra.c)(t,a))},cleanOtpState:function(t){return e(Object(ie.d)())},openChangePassword:function(t){return e(Object(Ta.i)(oe.n.CHANGE_PASSWORD,t))},openDocumentsVerification:function(t,a){return e(Object(Ta.i)(oe.n.DOCUMENTS_MODAL,t,a))}}})(Ma)),Fa=a(730),Ba=a.n(Fa),La=a(731),Ha=a.n(La),Va=a(732),Ya=a.n(Va),Ua=a(733),qa=a.n(Ua),Ga=a(411),Wa=a.n(Ga),Qa=Object(y.c)({changePassword:{id:"app.myprofile.change-password",defaultMessage:"Change password"},calendarSync:{id:"app.myprofile.calendar-sync",defaultMessage:"Calendar Sync"},smsAlerts:{id:"app.myprofile.sms-alerts",defaultMessage:"SMS Alerts"},smsAlertsDetail:{id:"app.myprofile.sms-alerts-detail",defaultMessage:"SMS will be sent to your registered mobile contact"},emailAlerts:{id:"app.myprofile.email-alerts",defaultMessage:"Email Alerts"},emailAlertsDetail:{id:"app.myprofile.email-alerts-detail",defaultMessage:"Email will be sent to your registered email address"},pushAlerts:{id:"app.myprofile.push-alerts",defaultMessage:"In-app / Push Alerts"},pushAlertsDetail:{id:"app.myprofile.push-alerts-detail",defaultMessage:"These alerts are notified within the RPM web app."},reminderAlerts:{id:"app.myprofile.reminder-alerts",defaultMessage:"Reminder Alerts"},reminderAlertsDetail:{id:"app.myprofile.reminder-alerts-detail",defaultMessage:"All reminders will be sent via SMS/Email/Calendar"},nursingTitle:{id:"app.myprofile.nursing-title",defaultMessage:"Nursing"},physicalTherapyTitle:{id:"app.myprofile.physical-therapy-title",defaultMessage:"Physical Therapy"},occupationalTherapyTitle:{id:"app.myprofile.occupational-therapy-title",defaultMessage:"Occupational Therapy"},speechAndLanguagePathologyTitle:{id:"app.myprofile.speech-and-language-pathology-title",defaultMessage:"Speech and Language Pathology"},medicalCounsellingTitle:{id:"app.myprofile.medical-counselling-title",defaultMessage:"Medical Counselling"},healthAideTitle:{id:"app.myprofile.health-aide-title",defaultMessage:"Health Aide"},nursing:{id:"app.myprofile.nursing",defaultMessage:"Physical assessments, which include monitoring of vital signs, administer oral and intravenous medications as well as monitoring of cardiac and respiratory status"},physicalTherapy:{id:"app.myprofile.physical-therapy",defaultMessage:"Assist patients to condition muscles and regain strength"},occupationalTherapy:{id:"app.myprofile.occupational-therapy",defaultMessage:"Assist patients to perform functional skills such as bathing, eating, cooking, and many other skills"},speechAndLanguagePathology:{id:"app.myprofile.speech-and-language-pathology",defaultMessage:"Assist patients to regain their ability to speak, swallow, and eat after a stroke or other neurological injuries"},medicalCounselling:{id:"app.myprofile.medical-counselling",defaultMessage:"Assistance with medications, provision of counseling, assistance with financial matters, transportation, and in accessing educational and treatment resources"},healthAide:{id:"app.myprofile.health-aide",defaultMessage:"Assist patients with their activities of daily living while patients are limited in mobility and strength which includes tasks such as bathing, grooming, and preparing meals"},cardiacCareTitle:{id:"app.myprofile.cardiac-care-title",defaultMessage:"Cardiac Care"},diabetesCareTitle:{id:"app.myprofile.diabetes-care-title",defaultMessage:"Diabetes Care"},smokingCessationTitle:{id:"app.myprofile.smoking-cessation-title",defaultMessage:"Smoking Cessation"},respiteCareTitle:{id:"app.myprofile.respite-care-title",defaultMessage:"Respite Care"},homemakingTitle:{id:"app.myprofile.homemaking-title",defaultMessage:"Homemaking"},cardiacCare:{id:"app.myprofile.cardiac-care",defaultMessage:"Assist patients with cardiac disease to manage their disease and to help slow down progression of their disease, monitor the cardiac status, prompt efficient treatment that will prevent re- hospitalization"},diabetesCare:{id:"app.myprofile.diabetes-care",defaultMessage:"Assist patient with diabetes and their families in learning to manage their diabetes, educate diet, exercise, self- blood glucose monitoring, and about complications of uncontrolled diabetes"},smokingCessation:{id:"app.myprofile.smoking-cessation",defaultMessage:"Provide nicotine replacement therapy"},respiteCare:{id:"app.myprofile.respite-care",defaultMessage:"Assist patients with Adult Care, Alzheimer\u2019s Care, Hospital Support"},homemaking:{id:"app.myprofile.homemaking",defaultMessage:"Provide patients with daily assistance including meal preparation, housekeeping, laundary & maintaining chores"},goToDashBoard:{id:"app.myprofile.go-to-dashboard",defaultMessage:"Go to Dashboard"},edit:{id:"app.myprofile.edit",defaultMessage:"Edit Profile"},myProfile:{id:"app.myprofile.my-profile",defaultMessage:"My Profile"},personal:{id:"app.myprofile.personal",defaultMessage:"Personal"},email:{id:"app.myprofile.email",defaultMessage:"Email"},verified:{id:"app.myprofile.verified",defaultMessage:"Verified"},notVerified:{id:"app.myprofile.not-verified",defaultMessage:"Not Verified"},mobile:{id:"app.myprofile.mobile",defaultMessage:"Mobile"},fullName:{id:"app.myprofile.full-name",defaultMessage:"Full name"},dob:{id:"app.myprofile.dob",defaultMessage:"Date of Birth"},gender:{id:"app.myprofile.gender",defaultMessage:"Gender"},work:{id:"app.myprofile.work",defaultMessage:"Work"},speciality:{id:"app.myprofile.speciality",defaultMessage:"Speciality"},licenseNumber:{id:"app.myprofile.license-number",defaultMessage:"License Number"},bio:{id:"app.myprofile.bio",defaultMessage:"Bio"},addressLine1:{id:"app.myprofile.address-line1",defaultMessage:"Flat / House / Floor / Building"},addressLine2:{id:"app.myprofile.address-line2",defaultMessage:"Street / Locality / Area"},zipcode:{id:"app.myprofile.zipcode",defaultMessage:"PO box / Zipcode"},services:{id:"app.myprofile.services",defaultMessage:"Services"},medicalServices:{id:"app.myprofile.medical-services",defaultMessage:"Medical Services"},homeHealthCare:{id:"app.myprofile.home-health-care",defaultMessage:"Home Health Care"},specialCare:{id:"app.myprofile.special-care",defaultMessage:"Special Care"},nonMedicalServices:{id:"app.myprofile.non-medical-services",defaultMessage:"Non-medical Services"},contacts:{id:"app.myprofile.contacts",defaultMessage:"Contacts"},caseDoctor:{id:"app.myprofile.case-doctor",defaultMessage:"Case Doctor"},careCoach:{id:"app.myprofile.care-coach",defaultMessage:"Care Coach"},notAssigned:{id:"app.myprofile.not-assigned",defaultMessage:"Not Assigned"},relativeName:{id:"app.myprofile.relative-name",defaultMessage:"Relative Name"},relativeNo:{id:"app.myprofile.relative-no",defaultMessage:"Relative Mobile"},isEmergencyContactSet:{id:"app.myprofile.is-emergency-contact-set",defaultMessage:"Contact Relative for Emergency"},emergencyContactName:{id:"app.myprofile.emergency-contact-name",defaultMessage:"Emergency Contact Name"},emergencyContactNo:{id:"app.myprofile.emergency-contact-no",defaultMessage:"Emergency Contact Mobile"},medical:{id:"app.myprofile.medical",defaultMessage:"Medical"},basic:{id:"app.myprofile.basic",defaultMessage:"Basic"},chiefComplaint:{id:"app.myprofile.chief-complaint",defaultMessage:"Chief Complaint"},noAllergies:{id:"app.myprofile.no-allergies",defaultMessage:"You have \u201cNo Allergies\u201d"},noSurgeries:{id:"app.myprofile.no-surgeries",defaultMessage:"You have \u201cNo surgeries/Fractures\u201d"},noOtherCondition:{id:"app.myprofile.no-other-condition",defaultMessage:"You have mentioned \u201cNo Other Conditions\u201d"},allergies:{id:"app.myprofile.allergies",defaultMessage:"Allergies"},otherCondition:{id:"app.myprofile.other-condition",defaultMessage:"Other Condition"},bodyTemperature:{id:"app.myprofile.body-temperature",defaultMessage:"Body Temperature"},respirationRate:{id:"app.myprofile.respiration-rate",defaultMessage:"Respiration Rate"},breathePerMinute:{id:"app.myprofile.breathe-per-minute",defaultMessage:"breathe per minute"},pulseRate:{id:"app.myprofile.pulse-rate",defaultMessage:"Pulse Rate"},bpm:{id:"app.myprofile.bpm",defaultMessage:"bpm"},bloodPressure:{id:"app.myprofile.blood-pressure",defaultMessage:"Blood Pressure"},bpUnit:{id:"app.myprofile.bp-unit",defaultMessage:"systolic/diastolic in mmHg"},clinicalReadings:{id:"app.myprofile.clinical-readings",defaultMessage:"Clinical Readings"},settings:{id:"app.myprofile.settings",defaultMessage:"Settings"},accounts:{id:"app.myprofile.accounts",defaultMessage:"Accounts"},notifications:{id:"app.myprofile.notifications",defaultMessage:"Notifications"},consentForm:{id:"app.edit-profile.settingSection.consentForm",defaultMessage:"Consent Form"},idProof:{id:"app.edit-profile.settingSection.Idproof",defaultMessage:"ID Proof"},uploadedOn:{id:"app.edit-profile.settingSection.uploadedOn",defaultMessage:"Uploaded on"},hospital:{id:"app.edit-profile.contactSection.hospital",defaultMessage:"Hospital"},insurance:{id:"app.edit-profile.InsuranceSection.insurance",defaultMessage:"Insurance"},insuranceProvider:{id:"app.edit-profile.InsuranceSection.provider",defaultMessage:"Medical Insurance Provider"},insurancePolicy:{id:"app.edit-profile.InsuranceSection.policy",defaultMessage:"Insurance Policy"},insuranceExpiresOn:{id:"app.edit-profile.InsuranceSection.validTill",defaultMessage:"Valid Till"}}),Ka="doctor",Xa="careCoach",Ja="patient",Za="programAdmin",$a=function(e){return 0===e.length},en=function(e){var t=e.gotoDashBoard,a=e.gotoEditProfile,n=e.intl.formatMessage;return o.a.createElement("div",{className:"pull-right"},o.a.createElement(C.a,{className:"iqvia-outline-btn",ghost:!0,onClick:function(){t()}},n(Qa.goToDashBoard)),o.a.createElement(C.a,{type:"primary",className:"ml10 iqvia-primary-btn",onClick:a},n(Qa.edit)))},tn="updatedAt",an=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).openConsentForm=function(e){var t=a.props;(0,t.openDocumentsVerification)(t.user_data.basicInfo._id,e)},a.openIdProof=function(e){e.preventDefault(),a.props.history.push(oe.H.ID_PROOF)},a.getMenuBar=function(e){var t=null;switch(e){case Ka:t=$e.Menubar;break;case Xa:t=pt.Menubar;break;case Ja:t=ea.Menubar;break;case Za:t=ia.Menubar}return t},a.getTags=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach(function(e,a){$a(e)||t.push(o.a.createElement("span",{className:"iqvia-tag mr8",key:a},e))}),t},a.getInputElement=function(e,t){var a=[];return Object(E.a)(t,function(t,n){a.push(o.a.createElement("div",{key:n,className:"mt8"},o.a.createElement("div",{className:"fontSize12 label-color"},e[n]),o.a.createElement("div",{className:"flex baseline mr30"},o.a.createElement("span",{className:" fontsize16 mr8"},t),o.a.createElement("span",{className:" fontsize12 subdued"},e.suffix))))}),a},a.getReadingAttributeForTest=function(e,t){var n=[];return Object(E.a)(t,function(t,r){r!==tn&&n.push(o.a.createElement("div",{key:r,className:"mb20"},o.a.createElement("div",{className:"fontsize14 medium"},e[r].label),o.a.createElement("div",{className:"flex"},a.getInputElement(e[r].content,t))))}),n},a.getClinicalReadings=function(e,t){var n=[],r=a.state.testTemplate;return r&&e.forEach(function(e,s){n.push(o.a.createElement("div",{key:s,className:"mt16"},o.a.createElement("div",{className:"fontsize14 mt10 mb10 ",style:{fontFamily:"AvenirNext-Bold"}},r[t].label),o.a.createElement("div",null,a.getReadingAttributeForTest(r[t].content,e))))}),n},a.openChangePassword=function(e){e.preventDefault(),a.props.history.push("/change-password")},a.handleOpenChangePasswordModal=function(){var e=a.props;(0,e.openChangePassword)(e.user_data.basicInfo._id)},a.gotoMyProfile=function(e){e.preventDefault(),a.props.history.push("/my-profile")},a.state={testTemplate:{}},a.gotoDashBoard=a.gotoDashBoard.bind(Object(v.a)(Object(v.a)(a))),a.gotoEditProfile=a.gotoEditProfile.bind(Object(v.a)(Object(v.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.getData)()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.clinicalTestTemplates_data!==e.clinicalTestTemplates_data){var a=this.props,n=a.clinicalTestTemplates_data,r=a.user_data.programIds[0].id;this.setState({testTemplate:n[r]})}}},{key:"gotoDashBoard",value:function(){this.props.history.push(oe.H.DASHBOARD.HOME)}},{key:"gotoEditProfile",value:function(){this.props.history.push(oe.H.EDIT_PROFILE)}},{key:"render",value:function(){var e=this,t=this.props,a=t.user_data,n=t.isLoading,r=void 0===n||n,s=t.citySelector,i=t.countrySelector,l=t.care_coaches,c=t.case_doctors,d=t.hospital_data,m=void 0===d?{}:d,u=t.medicals_data,p=void 0===u?{}:u,f=t.insurance_provider_data,h=void 0===f?{}:f,v=t.intl,g=v.formatMessage,b=v.locale;if(r)return o.a.createElement("div",null);var E,y,D=a.basicInfo,j=void 0===D?{}:D,S=a.work,M=void 0===S?{}:S,w=a.settings,A=void 0===w?{}:w,P=a.personalInfo,T=void 0===P?{}:P,I=a.programIds,x=void 0===I?[]:I,_=a.documents,z=void 0===_?{}:_,F=a.insurance,B=(F=void 0===F?{}:F).provider,L=F.policy,V=F.expiresOn;(V&&(E=new R.a(V).format("DD/MM/YYYY")),B)&&(y=h[B].name);var U,G,Q=z.idProof,K=void 0===Q?[]:Q,X=z.consentForm,J=void 0===X?[]:X,Z=(K[0]||{}).uploadedOn,$=(J[0]||{}).uploadedOn;Z&&(U=new R.a(Z).format("DD/MM/YYYY hh:mm A")),$&&(G=new R.a($).format("DD/MM/YYYY hh:mm A"));var ee={},ae={},ne={};if(x.length>0){var re=x[0],se=re.careCoach,ie=re.doctor,le=re.hospitalId;ee=l[se]||{},ae=c[ie]||{},ne=m[le]}var ce=j.category,oe=j.name,de=j.profilePicLink,me=void 0===de?W.a:de,ue=T.homeAddress,pe=void 0===ue?{}:ue,fe=T.contactNo,he=void 0===fe?{}:fe,ve=T.email,ge=T.dob,be=T.gender,Ee=A.isCalendarSynced,ye=void 0!==Ee&&Ee,Ne=A.preferences,Oe=(Ne=void 0===Ne?{}:Ne).smsAlerts,ke=void 0!==Oe&&Oe,Ce=Ne.emailAlerts,De=void 0!==Ce&&Ce,je=Ne.pushAlerts,Se=void 0!==je&&je,Me=Ne.reminderAlerts,we=void 0!==Me&&Me,Ae=M.organizationName,Pe=M.speciality,Te=M.officeAddress,Ie=void 0===Te?{}:Te,xe=M.licenseNumber,_e=M.about,Re=M.services,ze=void 0===Re?"":Re,Fe=Ie.addressLine1,Be=Ie.addressLine2,Le=Ie.city,He=void 0!==Le&&Le,Ve=Ie.country,Ye=void 0!==Ve&&Ve,Ue=Ie.zipCode,Ge=pe.addressLine1,Qe=pe.addressLine2,Ke=pe.city,Xe=void 0!==Ke&&Ke,Je=pe.country,Ze=void 0!==Je&&Je,$e=pe.zipCode,et=Ze?i(Ze):"",tt=Xe?s(Ze,Xe):"";console.log("ajsbfkjashfkjasf",tt);var at=Ye?i(Ye):"",nt=He?s(Ye,He):"",rt=this.getMenuBar(ce),st=a.services,it=void 0===st?{}:st,lt=a.personalInfo,ct=(lt=void 0===lt?{}:lt).contacts,ot=void 0===ct?{}:ct,dt=R()(ge),mt="";if(dt.isValid()){var ut=R()().get("year")-dt.get("year");mt="".concat(dt.format("DD/MM/YYYY"),", ").concat(ut,"  years old")}var pt=he.countryCode,ft=void 0===pt?"+91":pt,ht=he.phoneNumber,vt=void 0===ht?"":ht,gt=[];gt.push(o.a.createElement("div",{key:"1",className:"content-space-between full-width flex align-items-center settings clickable",onClick:this.handleOpenChangePasswordModal},o.a.createElement("div",{className:"fontsize14"},g(Qa.changePassword)),o.a.createElement("img",{alt:"",style:{marginRight:"-4px"},src:Ha.a}))),!0===We.a.CALENDAR_SYNC&&gt.push(o.a.createElement("div",{key:"2",className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("div",{className:"fontsize14"},g(Qa.calendarSync)),o.a.createElement("img",{alt:"",src:ye?Ya.a:qa.a}))),ce===Ja&&(gt.push(o.a.createElement("div",{key:"3",onClick:function(t){return e.openConsentForm("ContentForm")},className:"content-space-between full-width flex align-items-center"},o.a.createElement("div",{className:"full-width"},o.a.createElement("div",null,g(Qa.consentForm)),o.a.createElement("div",{className:"fontsize12 cool-grey"},"".concat(g(Qa.uploadedOn)," ").concat(G," "))),o.a.createElement("img",{alt:"",style:{marginRight:"-4px"},src:Ha.a}))),gt.push(o.a.createElement("div",{key:"4",onClick:function(t){return e.openConsentForm("IdProof")},className:"content-space-between full-width flex align-items-center"},o.a.createElement("div",{className:"full-width"},o.a.createElement("div",null,g(Qa.idProof)),o.a.createElement("div",{className:"fontsize12 cool-grey"},"".concat(g(Qa.uploadedOn)," ").concat(U," "))),o.a.createElement("img",{alt:"",style:{marginRight:"-4px"},src:Ha.a}))));var bt=[];bt.push(o.a.createElement("div",{key:1,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("div",{className:"fontsize14"},g(Qa.smsAlerts)),o.a.createElement("img",{alt:"",src:ke?Ya.a:qa.a})),o.a.createElement("div",{className:" fontsize12 subdued"},g(Qa.smsAlertsDetail)))),bt.push(o.a.createElement("div",{key:2,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("div",{className:"fontsize14",onClick:function(e){}},g(Qa.emailAlerts)),o.a.createElement("img",{alt:"",src:De?Ya.a:qa.a})),o.a.createElement("div",{className:" fontsize12 subdued"},g(Qa.emailAlertsDetail)))),bt.push(o.a.createElement("div",{key:3,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("p",{className:"fontsize14"},g(Qa.pushAlerts)),o.a.createElement("img",{alt:"",src:Se?Ya.a:qa.a})),o.a.createElement("div",{className:" fontsize12 subdued"},g(Qa.pushAlertsDetail)))),bt.push(o.a.createElement("div",{key:4,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("div",null,g(Qa.reminderAlerts)),o.a.createElement("img",{alt:"",src:we?Ya.a:qa.a})),o.a.createElement("div",{className:"subdued"},g(Qa.reminderAlertsDetail))));var Et=it.homeHealthCare,yt=void 0===Et?{}:Et,Nt=it.specialCare,Ot=void 0===Nt?{}:Nt,kt=it.nonMedicalServices,Ct=void 0===kt?{}:kt,Dt=[{title:g(Qa.nursingTitle),value:yt.nursing||!1,subtitle:g(Qa.nursing)},{title:g(Qa.physicalTherapyTitle),value:yt.physicalTherapy||!1,subtitle:g(Qa.physicalTherapy)},{title:g(Qa.occupationalTherapyTitle),value:yt.occupationalTherapy||!1,subtitle:g(Qa.occupationalTherapy)},{title:g(Qa.speechAndLanguagePathologyTitle),value:yt.speechPathology||!1,subtitle:g(Qa.speechAndLanguagePathology)},{title:g(Qa.medicalCounsellingTitle),value:yt.medicalCounselling||!1,subtitle:g(Qa.medicalCounselling)},{title:g(Qa.healthAideTitle),value:yt.healthAide||!1,subtitle:g(Qa.healthAide)}],jt=[{title:g(Qa.cardiacCareTitle),value:Ot.cardiacCare||!1,subtitle:g(Qa.cardiacCare)},{title:g(Qa.diabetesCareTitle),value:Ot.diabetesCare||!1,subtitle:g(Qa.diabetesCare)},{title:g(Qa.smokingCessationTitle),value:Ot.smokingCessation||!1,subtitle:g(Qa.smokingCessation)}],St=[{title:g(Qa.respiteCareTitle),value:Ct.respiteCare||!1,subtitle:g(Qa.respiteCare)},{title:g(Qa.homemakingTitle),value:Ct.homeMaking||!1,subtitle:g(Qa.homemaking)}],Mt=[];Dt.forEach(function(e,t){Mt.push(o.a.createElement("div",{key:t,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("div",{className:"fontsize14"},e.title),o.a.createElement("img",{alt:"",src:e.value?Ya.a:qa.a})),o.a.createElement("div",{className:" fontsize12 subdued"},e.subtitle)))});var wt=[];jt.forEach(function(e,t){wt.push(o.a.createElement("div",{key:t,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("div",{className:"fontsize14"},e.title),o.a.createElement("img",{alt:"",src:e.value?Ya.a:qa.a})),o.a.createElement("div",{className:" fontsize12 subdued"},e.subtitle)))});var At=[];St.forEach(function(e,t){At.push(o.a.createElement("div",{key:t,className:"full-width"},o.a.createElement("div",{className:"content-space-between full-width flex align-items-center settings"},o.a.createElement("div",{className:"fontsize14"},e.title),o.a.createElement("img",{alt:"",src:e.value?Ya.a:qa.a})),o.a.createElement("div",{className:"fontsize12 subdued"},e.subtitle)))});var Tt=ot.relatives,It=void 0===Tt?{}:Tt,xt=ot.emergencyContact,_t=void 0===xt?{}:xt,Rt=ot.useRelativeAsEmergencyContact,zt=void 0!==Rt&&Rt,Ft=It.name,Bt=It.contactNo,Lt=void 0===Bt?{}:Bt,Ht=It.relation,Vt=Lt.countryCode,Yt=void 0===Vt?"":Vt,Ut=Lt.phoneNumber,qt=void 0===Ut?"":Ut,Gt=_t.name,Wt=_t.contactNo,Qt=void 0===Wt?{}:Wt,Kt=Qt.countryCode,Xt=void 0===Kt?"":Kt,Jt=Qt.phoneNumber,Zt=void 0===Jt?"":Jt,$t=p.basicCondition,ea=void 0===$t?{}:$t,ta=p.vitals,aa=void 0===ta?{}:ta,na=p.clinicalReadings,ra=void 0===na?[]:na,sa=ea.chiefComplaint,ia=void 0===sa?"":sa,la=ea.allergies,ca=void 0===la?"":la,oa=ea.surgeriesOrFracture,da=void 0===oa?"":oa,ma=ea.others,ua=void 0===ma?"":ma,pa=aa.temperatureUnit,fa=void 0===pa?"c":pa,ha=aa.temperature,va=aa.respirationRate,ga=aa.pulse,ba=aa.bloodPressure,Ea="";if(ha){var Na=parseInt(ha);Ea="c"===fa?ha+"\u2103 / "+Math.round(100*(9*Na/5+32))/100+"\u2109":100*Math.round(5*(Na-32)/9)/100+"\u2103 / "+ha+"\u2109"}var Oa=Object.keys(ra),ka=this.state.testTemplate,Ca=[];Object(Pt.a)(ka)||(Ca=Oa.map(function(t){var a=[];return a.push(ra[t].data),e.getClinicalReadings(a,t)}));var Da=this.getTags(ca.split(",")),ja=this.getTags(da.split(",")),Sa=this.getTags(ua.split(",")),Ma=this.getTags(ze.split(","));return o.a.createElement("div",{id:"my-profile"},o.a.createElement(N.a,null),o.a.createElement(O.a,null,o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:12,xl:12,xxl:12,className:"h100"},o.a.createElement(O.a,{className:"fixed_header_sticky h100"},o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:2,xl:2,xxl:2,className:"h100"},o.a.createElement("div",{className:"flex align-items-center justify-content-start h100 fontsize22 regular pl20"},g(Qa.myProfile))),o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:7,xl:7,xxl:7,className:"h100 menubar"},o.a.createElement(rt,null)),o.a.createElement(k.a,{xs:0,sm:0,md:0,lg:3,xl:3,xxl:3,className:"h100"},o.a.createElement("div",{className:"pull-right flex align-items-center justify-content-center h100 pr20"},o.a.createElement(C.a,{className:"iqvia-outline-btn",ghost:!0,onClick:this.gotoDashBoard},g(Qa.goToDashBoard)),o.a.createElement(C.a,{type:"primary",className:"ml10 iqvia-primary-btn",onClick:this.gotoEditProfile},g(Qa.edit))))))),o.a.createElement("div",{className:"flex column align-items-center"},o.a.createElement("div",{className:" main-iqvia-container flex row align-items-center justify-content-center pb-100 my_profile_wrapper "},o.a.createElement(O.a,{type:"flex",align:"middle",justify:"center",className:"full-width"},o.a.createElement(k.a,{xs:12,sm:12,md:7,lg:0,xl:0,xxl:0,className:"mt30"},o.a.createElement("div",{className:"fontsize22 pb10 "},g(Qa.myProfile))),o.a.createElement(k.a,{xs:12,sm:12,md:7,lg:7,xl:7,xxl:7},o.a.createElement("div",{id:"personal"},o.a.createElement(H.Element,{name:"personal"},o.a.createElement("div",{className:"bold pb10 fontsize18"},g(Qa.personal)),o.a.createElement("div",{className:"flex align-items-center justify-content-center relative",style:{margin:"20px 0"}},o.a.createElement("div",{className:"block br50 relative",style:{width:"100px",height:"100px"}},o.a.createElement("img",{alt:"",src:me,className:"block w100"}))),o.a.createElement("div",null,o.a.createElement("label",{className:"flex"},o.a.createElement("div",{className:"mr-10 label-color fontsize12"},g(Qa.email)),o.a.createElement("img",{alt:"",style:{width:"13px",marginRight:"5px"},src:Y.a}),o.a.createElement("div",{className:"fontsize12",style:{color:"#43b02a"}},g(Qa.verified))),o.a.createElement("div",{className:"fontsize16 "},ve)),o.a.createElement("div",{className:"mt16"},o.a.createElement("label",{className:"flex row align-items-center justify-content-start  mb5"},o.a.createElement("div",{className:"mr-10 fontsize12 label-color"},g(Qa.mobile)),o.a.createElement("img",{alt:"",style:{width:"13px",marginRight:"5px"},src:!0===he.verified?Y.a:q.a}),!0===he.verified?o.a.createElement("div",{className:"fontsize12",style:{color:"#43b02a"}},g(Qa.verified)):o.a.createElement("div",{className:"fontsize12",style:{color:"#fe8a12"}},g(Qa.notVerified))),o.a.createElement(te.b,{countryCode:ft,phoneNumber:vt})),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.fullName)),o.a.createElement("div",{className:"fontsize16 "},oe)),ce===Ja&&o.a.createElement("div",null,o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.dob)),o.a.createElement("div",{className:"fontsize16 "},mt)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.gender)),o.a.createElement("div",{className:"fontsize16 "},"M"===be?"Male":"Female"))),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.addressLine1)),o.a.createElement("div",{className:"fontsize16 "},Ge)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.addressLine2)),o.a.createElement("div",{className:"fontsize16 "},Qe)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.zipcode)),o.a.createElement("div",{className:"fontsize16 "},$e)),o.a.createElement("div",{className:"mt16"},Xe&&Ze&&o.a.createElement("div",{className:"fontsize14 medium"},tt+", "+et)))),ce===Ja&&o.a.createElement("div",{id:"insurance"},o.a.createElement(H.Element,{name:"insurance"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},g(Qa.insurance)),o.a.createElement("div",{className:"pb16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.insuranceProvider)),o.a.createElement("div",{className:"fontsize16 "},y)),o.a.createElement("div",{className:"pb16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.insurancePolicy)),o.a.createElement("div",{className:"fontsize16 "},L)),o.a.createElement("div",{className:"pb16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.insuranceExpiresOn)),o.a.createElement("div",{className:"fontsize16 "},E)))),ce!==Ja&&o.a.createElement("div",{id:"work"},o.a.createElement(H.Element,{name:"work"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},g(Qa.work)),o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize12 label-color"},ce===Za||ce===Xa?"Organisation":"Hospital"),o.a.createElement("div",{className:"fontsize16 "},Ae)),ce!==Za&&o.a.createElement("div",null,o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.speciality)),o.a.createElement("div",{className:"fontsize16 "},Pe)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.licenseNumber)),o.a.createElement("div",{className:"fontsize16 "},xe)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.bio)),o.a.createElement("p",{className:""},_e))),ce===Xa&&o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},"Services"),o.a.createElement("div",{className:"fontsize14 mt8"},Ma)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.addressLine1)),o.a.createElement("div",{className:"fontsize16 "},Fe)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.addressLine2)),o.a.createElement("div",{className:"fontsize16 "},Be)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.zipcode)),o.a.createElement("div",{className:"fontsize16 "},Ue)),o.a.createElement("div",{className:"mt16"},He&&Ye&&o.a.createElement("div",{className:"fontsize14 medium"},nt+", "+at)))),ce===Ja&&o.a.createElement("div",null,o.a.createElement("div",{id:"contact"},o.a.createElement(H.Element,{name:"contact"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},g(Qa.contacts)),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"mb0 label-color fontsize12"},g(Qa.caseDoctor)),Object(Pt.a)(ae)?o.a.createElement("div",{className:"fontsize16 blacks"},g(Qa.notAssigned)):o.a.createElement("div",{className:"flex row justify-content-space-between align-items-center"},o.a.createElement("div",{className:"fontsize16 black"},ae.name),o.a.createElement("div",null,o.a.createElement("div",null)))),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",null,o.a.createElement("div",{className:"mb0 label-color fontsize12"},g(Qa.careCoach)),Object(Pt.a)(ee)?o.a.createElement("div",{className:"fontsize16 blacks"},g(Qa.notAssigned)):o.a.createElement("div",{className:"flex row justify-content-space-between align-items-center"},o.a.createElement("div",{className:"fontsize16 black"},ee.name),o.a.createElement("div",null,o.a.createElement("div",null))))),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",null,o.a.createElement("div",{className:"mb0 label-color fontsize12"},g(Qa.hospital)),Object(Pt.a)(ne)?o.a.createElement("div",{className:"fontsize16 blacks"},g(Qa.notAssigned)):o.a.createElement("div",{className:"flex row justify-content-space-between align-items-center"},o.a.createElement("div",{className:"fontsize16 black"},ne.name),o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement("img",{alt:"",className:"call-message pr4",src:Ba.a}),o.a.createElement("img",{alt:"",className:"call-message",src:Wa.a})))))),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",{className:"content-space-between"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.relativeName)),o.a.createElement("div",{className:"fontsize14 dark medium "},Ft&&Ht)),o.a.createElement("div",{className:"fontsize16 "},Ft),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.relativeNo)),o.a.createElement("div",{className:""},o.a.createElement(te.b,{countryCode:Yt,phoneNumber:qt})))),o.a.createElement("div",{className:"mt20"},o.a.createElement("div",null,o.a.createElement("div",{className:"content-space-between"},o.a.createElement("div",{className:"fontsize14 label-color medium"},g(Qa.isEmergencyContactSet)),o.a.createElement("img",{alt:"",src:zt?Ya.a:qa.a})),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.emergencyContactName)),o.a.createElement("div",{className:"fontsize16 "},Gt)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.emergencyContactNo)),o.a.createElement("div",{className:""},o.a.createElement(te.b,{countryCode:Xt,phoneNumber:Zt}))))))),o.a.createElement("div",{id:"medical"},o.a.createElement(H.Element,{name:"medical"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},g(Qa.medical)),o.a.createElement("div",{className:"fontsize16 medium"},g(Qa.basic)),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.chiefComplaint)),o.a.createElement("div",{className:"fontsize16 "},ia)),o.a.createElement("div",{className:"mt10"},0===Da.length?o.a.createElement("div",{className:"fontsize14 pt8 label-color"},g(Qa.noAllergies)):o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.allergies)),o.a.createElement("div",{className:"mt16 pb24 "},o.a.createElement("div",{className:"fontsize14"},Da)))),o.a.createElement("div",{className:"mt10"},0===ja.length?o.a.createElement("div",{className:"fontsize14 pt8 label-color"},g(Qa.noAllergies)):o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.noSurgeries)),o.a.createElement("div",{className:"mt16 pb24 "},o.a.createElement("div",{className:"fontsize14"},ja)))),o.a.createElement("div",{className:"mt10"},0===Sa.length?o.a.createElement("div",{className:"fontsize14 pt8 label-color"},g(Qa.noOtherCondition)):o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.otherCondition)),o.a.createElement("div",{className:"mt16 pb24 "},o.a.createElement("div",{className:"fontsize14"},Sa))))),o.a.createElement("div",{className:"mt30"},o.a.createElement("div",{className:"fontsize16 medium"},"Vital"),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.bodyTemperature)),o.a.createElement("div",{className:"flex baseline "},o.a.createElement("span",{className:"fontsize16 mr8",style:{color:"#ff530d"}},Ea))),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.respirationRate)),va&&o.a.createElement("div",{className:"flex baseline "},o.a.createElement("span",{className:"fontsize16 mr8",style:{color:"#ff530d"}},va),o.a.createElement("span",{className:"fontsize12 subdued"},g(Qa.breathePerMinute)))),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.pulseRate)),ga&&o.a.createElement("div",{className:"flex baseline "},o.a.createElement("span",{className:"fontsize16 mr8",style:{color:"#ff530d"}},ga),o.a.createElement("span",{className:"fontsize12 subdued"},g(Qa.bpm)))),o.a.createElement("div",{className:"mt10"},o.a.createElement("div",{className:"fontsize12 label-color"},g(Qa.bloodPressure)),ba&&o.a.createElement("div",{className:"flex baseline "},o.a.createElement("span",{className:"fontsize16 mr8",style:{color:"#ff530d"}},ba),o.a.createElement("span",{className:"fontsize12 subdued"},g(Qa.bpUnit)))))),Ca.length>0&&o.a.createElement("div",{className:"mt30"},o.a.createElement("div",{className:"content-space-between bold mt30"},o.a.createElement("div",{className:"medium fontsize16"},g(Qa.clinicalReadings))),o.a.createElement("div",{className:"mt16"},o.a.createElement("div",null,Ca)))))),o.a.createElement("div",{id:"setting",className:"mb210"},o.a.createElement(H.Element,{name:"setting"},o.a.createElement("div",{className:"bold mt40 pb16 fontsize18"},g(Qa.settings)),o.a.createElement("div",null,o.a.createElement("h4",{className:"medium mt10"},g(Qa.accounts)),o.a.createElement(qe.a,{span:24,bordered:!0,dataSource:gt,renderItem:function(e){return o.a.createElement(qe.a.Item,null,e)}})),o.a.createElement("div",{className:"mt24"},o.a.createElement("h4",{className:"medium"},g(Qa.notifications)),o.a.createElement(qe.a,{span:24,bordered:!0,dataSource:bt,renderItem:function(e){return o.a.createElement(qe.a.Item,null,e)}})))))))),o.a.createElement(O.a,{className:"stick-bottom",style:{backgroundColor:"white",borderTop:"solid 1px #d4d7d9"}},o.a.createElement(k.a,{xs:12,sm:12,md:12,lg:0,xl:0,xxl:0,className:"nav-menu-flex"},o.a.createElement(rt,null)),o.a.createElement(k.a,{xs:12,sm:12,md:12,lg:0,xl:0,xxl:0},o.a.createElement("div",{className:"pt10 pb10 pr10 pl10 clearfix"},o.a.createElement(en,{gotoDashBoard:this.gotoDashBoard,gotoEditProfile:this.gotoEditProfile,intl:{formatMessage:g,locale:b}})))),o.a.createElement(ya,null))}}]),t}(c.Component),nn=Object(y.d)(an),rn=a(246),sn=Object(wa.a)(Object(Z.b)(function(e){var t=e.users,a=e.auth,n=e.countryCities,r=e.page.editProfile,s=e.medicals,i=e.insuranceProviders,l=e.hospital,c=e.programs,o=e.clinicalTestTemplates,d=Object(Ia.c)(),m=Object(rn.b)(),u=Object(rn.a)(),p=Object(xa.a)(),f=Object(Ia.b)(),h=Object(Ia.a)();return{user_data:d(t,a.authenticated_user),insurance_provider_data:i,hospital_data:l,medicals_data:p(s,a.authenticated_user),case_doctors:f(t,a.authenticated_user),care_coaches:h(t,a.authenticated_user),countrySelector:function(e){return m(n,e)},citySelector:function(e,t){return u(n,e,t)},isLoading:r.isLoading,programs:c,clinicalTestTemplates_data:o}},function(e){return{getData:function(){return e(Object(Pa.f)())},openChangePassword:function(t){return e(Object(Ta.i)(oe.n.CHANGE_PASSWORD,t))},openDocumentsVerification:function(t,a){return e(Object(Ta.i)(oe.n.DOCUMENTS_MODAL,t,a))}}})(nn)),ln=a(289),cn=a(248),on=a(278),dn=a.n(on),mn=a(1290),un=a.n(mn),pn=(a(342),a(4)),fn=Object(y.c)({allSurveys:{id:"app.surveyDetail.allSurveys",defaultMessage:"All Surveys"},endSurvey:{id:"app.surveyDetail.endSurvey",defaultMessage:"End Survey"},downloadReport:{id:"app.SurveyDetail.downloadReport",defaultMessage:"Download Report"},sendToMorePatients:{id:"app.surveyDetail.sendToMorePatients",defaultMessage:"Send to more Patients"},survey:{id:"app.surveyDetail.survey",defaultMessage:"Survey:"},sortBy:{id:"app.surveyDetail.sortBy",defaultMessage:"SortBy:"},name:{id:"app.surveyDetail.name",defaultMessage:"Name"},surveySentDate:{id:"app.surveyDetail.surveySentDate",defaultMessage:"Survey Sent Date"},sendSurvey:{id:"app.surveyDetail.sendSurvey",defaultMessage:"Send Survey"},patientSelected:{id:"app.surveyDetail.patientSelected",defaultMessage:"Patient(s) selected"},result:{id:"app.surveyDetail.result",defaultMessage:"Result"},previewQuestionnaire:{id:"app.surveyDetail.previewQuestionnaire",defaultMessage:"Preview Questionnaire"}}),hn=a(5),vn=a(276).Parser,gn=a(277),bn=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).downloadReport=function(){var e=a.props.match,t=(e=void 0===e?{}:e).params,n=(t=void 0===t?{}:t).surveyId;if(n)Object(pn.a)({method:oe.y.GET,url:hn.f.downloadSurveyReport(n)}).then(function(e){var t=e.payload,a=(t=void 0===t?{}:t).data,r=void 0===a?{}:a,s=[],i="";for(var l in r){var c=r[l],o=[];o.push("Patient Name");var d=[];d.push(l);for(var m=0;m<c.length;m++){o.push("Q"+(m+1));var u=c[m].response;u.id&&u.value?d.push(u.value):d.push(u)}s.push(Object(At.a)({},d));var p=o.map(function(e){return e});i=new vn({fields:p}).parse()}var f=new vn({header:!1}).parse(s);gn(i+"\n"+f,"".concat(n,"_survey_report.csv"))})},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleGoBack,a=e.selectedPatient,n=e.showSendSurveyBarToggle,r=e.handleOnSentSurvey,s=e.handleEndSurvey,i=e.status,l=void 0===i?"":i,d=e.changeContent,m=e.intl.formatMessage,u=e.surveys,p=void 0===u?{}:u,f=this.props.match.params.surveyId,h=p.participantsId,v=void 0===h?{}:h,g=(v[f]?v[f].completed:[]).length<=0,b=a.length,E=l!==oe.C.COMPLETED?o.a.createElement(Je.a,null,o.a.createElement(Je.a.Item,{key:"1",onClick:function(e){s()}},m(fn.endSurvey)),o.a.createElement(Je.a.Item,{key:"2",onClick:this.downloadReport,disabled:g},m(fn.downloadReport))):o.a.createElement(Je.a,null,o.a.createElement(Je.a.Item,{key:"2",onClick:this.downloadReport,disabled:g},m(fn.downloadReport)));return console.log("menu",E),o.a.createElement("div",{className:"profileHead"},o.a.createElement("div",{className:"MenuOption"},o.a.createElement(Je.a,{mode:"horizontal",defaultSelectedKeys:["Result"],className:"menu-options"},o.a.createElement(Je.a.Item,{className:"fontsize14 bold",key:"Result"},o.a.createElement("a",{onClick:function(e){return d("Result")}},m(fn.result))),l!==oe.C.COMPLETED&&o.a.createElement(Je.a.Item,{className:"fontsize14  bold",key:"Send to more patients"},o.a.createElement("a",{onClick:function(e){return d("Send to more patients")}},m(fn.sendToMorePatients))))),b>0?o.a.createElement("div",{className:"flex align-items-center justify-content-space-between mt16"},o.a.createElement("div",{className:"flex align-items-center"},o.a.createElement("div",{className:"mr10 ml24",onClick:function(e){n(!1)}},o.a.createElement("img",{alt:"",src:dn.a,className:"multiselect"})),o.a.createElement("div",{className:"mt1"},b," ",m(fn.patientSelected))),o.a.createElement("div",{className:"mr24"},o.a.createElement(C.a,{type:"primary",className:"iqvia-btn",onClick:r},m(fn.sendSurvey)))):o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"flex justify-content-space-between h100"},o.a.createElement("div",{className:"flex align-items-center ml24"},o.a.createElement("img",{alt:"",src:ca.a,className:"backButton clickable mr8",onClick:t}),o.a.createElement("span",{className:"previousLocation"},m(fn.allSurveys))),o.a.createElement(cn.a,{overlay:E,trigger:["click"],placement:"topRight"},o.a.createElement("div",{className:"flex align-items-center justify-content-center mr16 more_options"},o.a.createElement("img",{src:un.a,alt:"moreOptions"}))))))}}]),t}(c.Component),En=Object(y.d)(bn),yn=a(255),Nn=a(237),On=a(329),kn=a(183),Cn=a.n(kn),Dn=(a(254),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).onChange=function(){var e=a.props,t=e.showDischargeBarToggle,n=e.onPatientCardSelect,r=e.onPatientCardDeselect;a.setState(function(e){return{checked:!e.checked}},function(){a.state.checked?n(a.props.data.id):r(a.props.data.id),t()})},a.isChecked=function(e){var t=a.props.patientDischargedList;return t?-1!==t.indexOf(e):!(!a.props.selectedPatient||-1===a.props.selectedPatient.indexOf(e))},a.cardClicked=function(){var e=a.props,t=e.data,n=e.handleOnClick,r=e.surveyId;r&&n&&n(r,t.id)},a.openPatient=function(){var e=a.props,t=e.data;e.handleOnClick&&a.props.history.push("/".concat(oe.j.PATIENT,"/").concat(t.id))},a.state={checked:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t,a){e.uncheckAll!==this.props.uncheckAll&&this.props.uncheckAll&&this.setState({checked:!1})}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.checkbox,n=e.disabled,r=e.wantCheckBox,s=void 0===r||r;return o.a.createElement(On.a,{key:this.state.checked,xs:12,sm:12,md:6,lg:6},o.a.createElement(Nn.a,{className:"m patient-mobile ".concat(t.type&&t.type===oe.E.ENROLLED&&this.state.checked?"selected":""),onClick:this.cardClicked,key:this.state.checked},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"flex align-items-center"},o.a.createElement("img",{alt:"",src:t.profilePicLink||Cn.a,className:"patientDp mr16"}),o.a.createElement("div",{className:"".concat(t.type&&t.type===oe.E.DISCHARGED?"subdued":"dark"," patientInfo clickable"),onClick:this.openPatient},t.title?t.title.length<13?t.title:t.title.substr(0,13)+"...":""," ","(",t.age," ",t.gender,")"),t.checkbox&&s?o.a.createElement("div",{className:"selectPatient"},o.a.createElement(Ge.a,{onChange:this.onChange,checked:a||this.isChecked(t.id),disabled:n})):"",t.type&&t.type===oe.E.INACTIVE?o.a.createElement("div",{className:"selectPatient"},o.a.createElement("img",{src:ee.a,alt:"Patient Not enrolled"})):""),o.a.createElement("div",null,o.a.createElement("ul",{className:"patients "},o.a.createElement("li",null,o.a.createElement("span",{className:"fontsize12 dark"},t.doctor)),o.a.createElement("li",null,o.a.createElement("span",{className:"fontsize12 label-color"},t.hospital)))))))}}]),t}(c.Component)),jn=Object(wa.a)(Dn),Sn=a(218),Mn=Object(y.c)({program:{id:"app.surveyDetail.program",defaultMessage:"Program"},surveys:{id:"app.surveyDetail.surveys",defaultMessage:"Survey start"},endDate:{id:"app.SurveyDetail.endDate",defaultMessage:"End date"},chooseFrom:{id:"app.surveyDetail.chooseFrom",defaultMessage:"Choose from"},showing:{id:"app.surveyDetail.showing",defaultMessage:"Showing:"},sortBy:{id:"app.surveyDetail.sortBy",defaultMessage:"SortBy:"},all:{id:"app.surveyDetail.all",defaultMessage:"All"},enrolled:{id:"app.surveyDetail.enrolled",defaultMessage:"Enrolled"},inactive:{id:"app.surveyDetail.inactive",defaultMessage:"Inactive"},discharged:{id:"app.surveyDetail.discharged",defaultMessage:"Discharged"},name:{id:"app.surveyDetail.name",defaultMessage:"Name"},location:{id:"app.surveyDetail.location",defaultMessage:"Location"},dateAdded:{id:"app.surveyDetail.dateAdded",defaultMessage:"Date Added"},patientAt:{id:"app.surveyDetail.patientAt",defaultMessage:"patient at"},programAt:{id:"app.surveyDetail.programAt",defaultMessage:"program at"},programIn:{id:"app.surveyDetail.programIn",defaultMessage:"program"},questionnairePreview:{id:"app.surveyDetail.questionnairePreview",defaultMessage:"Questionnaire Preview"},questions:{id:"app.surveyDetail.questions",defaultMessage:"Questions"},toComplete:{id:"app.surveyDetail.toComplete",defaultMessage:"to complete"}}),wn=x.a.Option;function An(e){return e&&e<R()().endOf("day")}var Pn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).getProgramsOption=function(){var e=a.props,t=e.programs_data,n=e.availableProgram,r=e.selectedsurvey;if(Object(Pt.a)(r)){var s=[];return n&&n.forEach(function(e){var a=t[e],n=a.name,r=a.expiresOn;R()().diff(r,"years",!0)<0&&s.push(o.a.createElement(wn,{key:e,value:e},n))}),s}var i=r.program,l=(Object(Pt.a)(t)?{}:t[i]).name;return o.a.createElement(wn,{key:i,value:i},l)},a.handleSearchChange=function(e){e.preventDefault(),a.setState({query:e.target.value}),a.getpatient(e.target.value)},a.getProgramPatient=function(e){var t=[],n=a.props,r=n.users,s=n.hospitals_data,i=n.user_data;return e.forEach(function(e){var a;a=Object(Sn.a)({users:r,hospitals:s,currentUser:i,patient:r[e]?r[e]:""}),t.push(a)}),t},a.getParentNode=function(e){return e.parentNode},a.state={query:"",patients:[],surveyEndDate:null},a.getpatient=Object(yn.a)(a.getpatient.bind(Object(v.a)(Object(v.a)(a))),1e3),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidUpdate",value:function(e,t){if(this.props.selectedProgram!==e.selectedProgram){var a=this.props,n=a.programs_data,r=a.selectedProgram,s=(""!==r?n[r]:[]).patients;this.setState({patients:s})}if(this.props.selectedsurvey!==e.selectedsurvey){var i=this.props.selectedsurvey;if(!Object(Pt.a)(i)){var l=i.startDate,c=void 0===l?null:l,o=i.endDate,d=void 0===o?null:o;this.setState({surveyEndDate:d,surveyStartDate:c})}}if(this.props.programs_data!==e.programs_data){var m=this.props,u=m.programs_data,p=m.selectedProgram,f=(""!==p?u[p]:[]).patients;this.setState({patients:f})}}},{key:"getpatient",value:function(e){(0,this.props.handleSearch)(e)}},{key:"render",value:function(){var e,t=this.props,a=t.handleOnCheck,n=t.handleOnSelect,r=t.selectedProgram,s=void 0===r?"":r,i=t.programs_data,l=t.handleSelectChange,d=t.handleSortByChange,m=t.selectedPatient,u=t.intl.formatMessage,p=t.uncheckAll,f=t.showSendSurveyBarToggle,h=t.handleDateChange,v=t.selectedsurvey,g=t.startDate,b=t.endDate,E=this.state.patients,y=void 0===E?[]:E,N=this.getProgramsOption,C=this.getProgramPatient,D=this.handleSearchChange,M=R()(),w=[],A=s,P=[];if(!Object(Pt.a)(v)){var T=v.participants,I=void 0===T?[]:T,_=v.program,z=void 0===_?"":_;w=I,A=z;var F=(i[z]?i[z]:[]).patients;P=F?C(F):[]}var B=N();y.length>0&&(M=R()(),e=null,P=C(y));var L="";if(""!==s){var H=i[s].patients;H&&(L=H.length)}var V="",Y="";if(""!==s){var U=i[s];if(U){var q=U.name,G=U.targetLocation,W=(void 0===G?{}:G).country;V=q,Y=void 0===W?"":W}}return g&&(M=R()(g)),b&&(e=R()(b)),o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"patients-selection"},o.a.createElement(O.a,{gutter:{sm:24,md:24},className:"w100"},o.a.createElement(k.a,{sm:12,md:6},o.a.createElement("div",{className:"w100 mb8"},o.a.createElement("div",{className:"fontsize12 label-color mb8"},u(Mn.program)),o.a.createElement(x.a,{className:"select-program w100",onChange:n,suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrow-img-program-select"}),value:A,disabled:!Object(Pt.a)(v),getPopupContainer:this.getParentNode},B))),o.a.createElement(k.a,{sm:12,md:6},o.a.createElement("div",{className:"flex align-items-center justify-content-center mb8"},o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize12 label-color mb8 "},u(Mn.surveys)),o.a.createElement("div",{className:"range-picker "},o.a.createElement(j.a,{format:"DD/MM/YYYY",size:"small",separator:"-",showToday:!1,className:"",suffixIcon:null,disabled:!0,defaultValue:R()(),value:M,getCalendarContainer:this.getParentNode}))),o.a.createElement("div",null,o.a.createElement("div",{className:"fontsize12 label-color mb8 ml16"},u(Mn.endDate)," ",o.a.createElement("span",{className:"warning-color fontsize12"},"*")),o.a.createElement("div",{className:"range-picker ml16"},o.a.createElement(j.a,{format:"DD/MM/YYYY",size:"small",separator:"-",showToday:!1,className:"",suffixIcon:null,allowClear:!1,onChange:h,value:e,disabledDate:An,getCalendarContainer:this.getParentNode})))))),o.a.createElement("div",{className:"mt24 mb16"},""!==s&&o.a.createElement("div",{className:"fontsize18 bold dark mt24 mb16"},u(Mn.chooseFrom)," ",L,u(Mn.patientAt)," ",V,u(Mn.programAt)," ",Y,u(Mn.programIn))),o.a.createElement(O.a,{gutter:{sm:12,md:24},className:"w100"},o.a.createElement(k.a,{sm:12,md:4},o.a.createElement(S.a,{className:"survey-detail-input w100 mb16",placeholder:"Search patients",prefix:o.a.createElement("img",{alt:"",src:Ut.a,className:"search-icons"}),onChange:D})),o.a.createElement(k.a,{sm:6,md:4},o.a.createElement("div",{className:" survey-detail-select flex align-items-center "},o.a.createElement("div",{className:"fontsize14 medium dark pl8 "},u(Mn.showing)),o.a.createElement(x.a,{optionFilterProp:"children",suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrow-img"}),defaultValue:"All",className:"flex align-items-center flex-grow-1",onChange:l,getPopupContainer:this.getParentNode},o.a.createElement(wn,{key:"All"},u(Mn.all)),o.a.createElement(wn,{key:"Enrolled"},u(Mn.enrolled)),o.a.createElement(wn,{key:"Discharged"},u(Mn.discharged))))),o.a.createElement(k.a,{sm:6,md:4},o.a.createElement("div",{className:" survey-detail-select flex align-items-center"},o.a.createElement("div",{className:"fontsize14 medium dark pl8"},u(Mn.sortBy)," "),o.a.createElement(x.a,{optionFilterProp:"children",suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrow-img"}),onChange:d,defaultValue:"name",className:"flex align-items-center flex-grow-1",getPopupContainer:this.getParentNode},o.a.createElement(wn,{key:"name"},u(Mn.name)),o.a.createElement(wn,{key:"createdAt"},u(Mn.dateAdded)))))),o.a.createElement("div",{className:"the-cards flex align-items-center flex-wrap"},o.a.createElement(O.a,{gutter:8,className:"w100"},P.map(function(e,t){var n=!1,r=!1;return m&&m.includes(e.id)&&(n=!0),-1!==w.findIndex(function(t){return t.participantId===e.id})&&(r=!0,n=!0),o.a.createElement(jn,{key:e.id,data:e,onPatientCardSelect:a,onPatientCardDeselect:a,uncheckAll:p,showDischargeBarToggle:f,classname:"patient-cards",selectedPatient:m,handleOnClick:!0,checkbox:n,disabled:r})})))))}}]),t}(c.Component),Tn=Object(y.d)(Pn),In=S.a.TextArea,xn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(In,{disabled:!0})}}]),t}(c.Component),_n=xn,Rn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.data.options;return o.a.createElement(c.Fragment,null,e&&e.map(function(e){var t=e.id,a=e.value;return o.a.createElement("div",{key:t},t,". ",a)}))}}]),t}(c.Component),zn=Rn,Fn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.data.options;return o.a.createElement(c.Fragment,null,e&&e.map(function(e){var t=e.id,a=e.value;return o.a.createElement("div",{key:t},t,". ",a)}))}}]),t}(c.Component),Bn=Fn,Ln=S.a.TextArea,Hn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.onTextChange,n=t._id;return o.a.createElement(Ln,{onChange:function(e){var t=e.target.value;a(n,t)}})}}]),t}(c.Component),Vn=Hn,Yn=I.a.Group,Un=I.a.Button,qn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.questionIndex,n=e.index,r=e.onRadioChange,s=t.options,i=t._id;return o.a.createElement(c.Fragment,null,o.a.createElement(Yn,{className:"radio-group-tab",buttonStyle:"solid",disabled:n>a},s&&s.map(function(e){var t=e.id,a=e.value;return o.a.createElement(Un,{key:t,className:"full-width",value:t,onChange:function(e){return r(i,t,a)}},a)})))}}]),t}(c.Component),Gn=qn,Wn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.index,n=e.questionIndex,r=e.onCheckboxChange,s=t.options,i=t._id;return o.a.createElement(c.Fragment,null,s&&s.map(function(e){var t=e.id,s=e.value;return o.a.createElement("div",{key:t,className:"flex align-items-center ml16  mt16 mb16"},o.a.createElement(Ge.a,{className:"mr16",disabled:a>n,onChange:function(e){return r(i,t,s)}}),o.a.createElement("div",{className:"fontsize16 dark"},s))}))}}]),t}(c.Component),Qn=Wn,Kn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.patientResponse,n=void 0===a?{}:a,r=t._id,s=Object.keys(n).filter(function(e){var t=n[e].questionId;return(void 0===t?"":t)===r}),i=(n[s]?n[s]:{}).response,l=void 0===i?"":i;return o.a.createElement("div",null,l)}}]),t}(c.Component),Xn=Kn,Jn=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.patientResponse,n=void 0===a?{}:a,r=t._id,s=Object.keys(n).filter(function(e){var t=n[e].questionId;return(void 0===t?"":t)===r}),i=(n[s]?n[s]:{}).response,l=void 0===i?{}:i,d=l.id,m=l.value;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{key:d},d,". ",m))}}]),t}(c.Component),Zn=Jn,$n=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.patientResponse,n=void 0===a?{}:a,r=t._id,s=Object.keys(n).filter(function(e){var t=n[e].questionId;return(void 0===t?"":t)===r}),i=(n[s]?n[s]:{}).response,l=void 0===i?[]:i;return o.a.createElement(c.Fragment,null,l&&l.map(function(e){var t=e.id,a=e.value;return o.a.createElement("div",{key:t},t,". ",a)}))}}]),t}(c.Component),er=$n,tr=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).getOptionComponent=function(e,t){var n=e.type,r=a.props,s=r.index,i=r.questionIndex,l=r.onTextChange,c=r.onCheckboxChange,d=r.onRadioChange,m=r.patientResponse,u=void 0===m?{}:m;switch(n){case oe.s.TEXT:return t===oe.h.READONLY?o.a.createElement(_n,null):t===oe.h.WRITABLE?o.a.createElement(Vn,{data:e,onTextChange:l}):o.a.createElement(Xn,{data:e,patientResponse:u});case oe.s.RADIO:return t===oe.h.READONLY?o.a.createElement(zn,{data:e}):t===oe.h.WRITABLE?o.a.createElement(Gn,{data:e,index:s,questionIndex:i,onRadioChange:d}):o.a.createElement(Zn,{data:e,patientResponse:u});case oe.s.CHECKBOX:return t===oe.h.READONLY?o.a.createElement(Bn,{data:e}):t===oe.h.WRITABLE?o.a.createElement(Qn,{data:e,index:s,questionIndex:i,onCheckboxChange:c}):o.a.createElement(er,{data:e,patientResponse:u})}},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=void 0===t?{}:t,n=e.index,r=e.displayType,s=this.getOptionComponent,i=a.statement,l=a.type,d=s(a,r);return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:""},o.a.createElement("div",{className:r===oe.h.WRITABLE?"fontsize22 dark mb8":"fontsize14 dark bold"},"Q",n+1,". ",i," "),o.a.createElement("span",null,l===oe.s.CHECKBOX&&r===oe.h.READONLY&&"Check all that apply",l===oe.s.CHECKBOX&&r===oe.h.RESPONSE&&"Check all that apply")),o.a.createElement("div",{className:"fontsize16 label-color"},l===oe.s.CHECKBOX&&r===oe.h.WRITABLE&&"You can select multiple choices"),o.a.createElement("div",{className:r===oe.h.RESPONSE?"mb16  mt24":" mb16"},d))}}]),t}(c.Component),ar=tr,nr=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchSurveyTemplates)()}},{key:"render",value:function(){var e=this.props,t=e.surveytemplateId,a=e.questions,n=e.surveytemplates,r=void 0===n?[]:n,s=e.intl.formatMessage,i=[],l="",d=0;if(r[t]){var m=r[t];i=m.questions,l=m.description,d=m.time_to_complete}return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"survey-content"},o.a.createElement("div",{className:"fontsize18 bold dark "},s(Mn.questionnairePreview)),o.a.createElement("div",{className:"fonstsize12 dark mb8"},i.length," ",s(Mn.questions)," \u2022"," ",d," ",s(Mn.toComplete)),o.a.createElement("div",{className:"fontsize14 dark mb24"},l),!Object(Pt.a)(a)&&a.map(function(e,t){var a=e._id;return o.a.createElement(c.Fragment,{key:a},o.a.createElement(ar,{data:e,displayType:"readonly",index:t}))})))}}]),t}(c.Component),rr=(Object(y.d)(nr),function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.surveytemplateId,e.handleOnCheck),a=e.handleOnSelect,n=e.selectedProgram,r=e.handleSelectChange,s=e.handleSortByChange,i=e.selectedPatient,l=e.uncheckAll,d=e.showSendSurveyBarToggle,m=e.surveys,u=e.surveyId,p=e.endDate,f=e.startDate;return o.a.createElement(c.Fragment,null,o.a.createElement(Tn,Object.assign({handleOnCheck:t,handleOnSelect:a},this.props,{selectedProgram:n,handleSelectChange:r,handleSortByChange:s,selectedPatient:i,uncheckAll:l,showSendSurveyBarToggle:d,handleRangeChange:d,selectedsurvey:m[u]?m[u]:{},startDate:f,endDate:p})))}}]),t}(c.Component)),sr=rr,ir=a(214),lr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchPaticipantForSurveyBasedOnStatus,t=this.props.match.params.surveyId;this.setState({surveyId:t}),e(t,"COMPLETED")}},{key:"render",value:function(){var e=this.props,t=e.users,a=e.completedParticipant,n=e.user_data,r=e.hospital,s=e.handleOnClick,i=this.state.surveyId,l=[];return t&&!Object(Pt.a)(t)&&a&&a.forEach(function(e){var a;a=Object(Sn.a)({users:t,hospitals_data:r,currentUser:n,patient:t[e]}),l.push(a)}),o.a.createElement("div",{className:"flex align-items-center flex-wrap inprogress-participants w100"},o.a.createElement(O.a,{gutter:8,className:"w100"},l.map(function(e){return o.a.createElement(jn,{key:e.id,data:e,surveyId:i,handleOnClick:s,wantCheckBox:!1})})," "))}}]),t}(c.Component),cr=lr,or=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.fetchPaticipantForSurveyBasedOnStatus,t=this.props.match.params.surveyId;this.setState({surveyId:t}),e(t,"INPROGRESS")}},{key:"render",value:function(){var e=this.props,t=e.users,a=e.inprogressParticipant,n=e.user_data,r=e.hospitals_data,s=this.state.surveyId,i=[];return t&&!Object(Pt.a)(t)&&a&&a.forEach(function(e){var a;a=Object(Sn.a)({users:t,hospitals:r,currentUser:n,patient:t[e]}),i.push(a)}),o.a.createElement("div",{className:"flex align-items-center flex-wrap inprogress-participants w100"},o.a.createElement(O.a,{gutter:8,className:"w100"},i.map(function(e){return o.a.createElement(jn,{key:e.id,data:e,surveyId:s,wantCheckBox:!1})})," "))}}]),t}(c.Component),dr=or,mr=x.a.Option,ur=ir.a.TabPane,pr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleOnClick=function(e,t){a.props.history.replace("/survey/".concat(e,"/participant/").concat(t,"/response"))},a.handleSearchChange=function(e){a.setState({query:e.target.value}),a.getCompletedParticipants(e.target.value),a.getCompletedParticipants(e.target.value),a.getInprogressParticipants(e.target.value)},a.handleSortByChange=function(e){a.setState({sortBy:e},function(){a.sortParticipantsBy(e)})},a.sortByDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.props.match.params.surveyId,n=(a.props.surveys[t]||{}).participants;return e.sort(function(e,t){var a=n.findIndex(function(t){return t.participantId===e}),r=n.findIndex(function(e){return e.participantId===t}),s=n[a]||{},i=n[r]||{},l=s.surveySentDate,c=i.surveySentDate;return l<c?1:l>c?-1:0})},a.sortByName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.props.users,n=void 0===t?{}:t;return e.sort(function(e,t){var a=(n[e]||{}).basicInfo,r=(a=void 0===a?{}:a).name,s=void 0===r?"":r,i=(n[t]||{}).basicInfo,l=(i=void 0===i?{}:i).name,c=void 0===l?"":l;return s.toLowerCase()<c.toLowerCase()?-1:s.toLowerCase()>c.toLowerCase()?1:0})},a.sortParticipantsBy=function(e){var t=a.state,n=t.inprogress,r=void 0===n?[]:n,s=t.completed,i=void 0===s?[]:s;switch(e){case oe.b.NAME:a.setState({inprogress:a.sortByName(r),completed:a.sortByName(i)});break;case"Survey Sent Date":a.setState({inprogress:a.sortByDate(r),completed:a.sortByDate(i)})}},a.state={completed:[],inprogress:[],query:"",patientStatus:"Completed",sortBy:"Name"},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(this.props.surveys!==e.surveys){var n=this.props.match.params.surveyId,r=this.props,s=r.surveys,i=r.patientStatus,l=s.participantsId,c=void 0===l?{}:l,o=c[n]?c[n].completed:[],d=c[n]?c[n].inprogress:[];this.setState({completed:o,inprogress:d,patientStatus:i},function(){a.sortParticipantsBy("Name")})}}},{key:"getCompletedParticipants",value:function(e){var t,a=this.props.match.params.surveyId,n=this.props,r=n.surveys,s=n.users,i=r.participantsId,l=void 0===i?{}:i;t=(l[a]?l[a].completed:[]).filter(function(t){var a=s[t].basicInfo,n=(a=void 0===a?{}:a).name,r=void 0===n?"":n;return!!new RegExp("("+e+")","gi").test(r)}),this.setState({completed:t})}},{key:"getInprogressParticipants",value:function(e){var t,a=this.props.match.params.surveyId,n=this.props,r=n.surveys,s=n.users,i=r.participantsId,l=void 0===i?{}:i;t=(l[a]?l[a].inprogress:[]).filter(function(t){var a=s[t].basicInfo,n=(a=void 0===a?{}:a).name,r=void 0===n?"":n;return!!new RegExp("("+e+")","gi").test(r)}),this.setState({inprogress:t})}},{key:"render",value:function(){var e=this.props,t=e.changeStatus,a=e.surveys,n=e.intl.formatMessage,r=e.programs_data,s=void 0===r?{}:r,i=e.selectedProgram,l=this.handleOnClick,d=this.handleSearchChange,m=this.handleSortByChange,u=this.state,p=u.completed,f=void 0===p?[]:p,h=u.inprogress,v=void 0===h?[]:h,g=(a[this.props.match.params.surveyId]||{}).updatedAt,b=R()(g).format("DD/MM/YYYY"),E=R()(g).format("LT"),y=f,N=v,C=f.length,D=v.length,j=C+D,M="";Object(Pt.a)(s)||(M=(s[i]||{}).name);return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"result-completed p16 w100"},o.a.createElement(O.a,null,o.a.createElement("div",{className:"survey-header w100"},o.a.createElement("div",{className:" mt24 fontsize18 dark bold"},"Results for ".concat(j," patients of \u201c").concat(M," at Dubai\u201d program")),o.a.createElement("div",{className:"fontsize12 label-color mt8 mb16"},"Last sent on ",b,", ",E),o.a.createElement(O.a,{gutter:{sm:12,md:24}},o.a.createElement(k.a,{sm:12,md:6},o.a.createElement(S.a,{className:"survey-input mb12",placeholder:"Search participants",prefix:o.a.createElement("img",{alt:"",src:Ut.a,className:"search-icons mr16"}),onChange:d})),o.a.createElement(k.a,{sm:12,md:6},o.a.createElement("div",{className:"sortBy flex align-items-center"},o.a.createElement("div",{className:"fontsize14 bold dark pl8 "},n(fn.sortBy)),o.a.createElement(x.a,{optionFilterProp:"children",suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrow-img"}),defaultValue:n(fn.name),className:"flex align-items-center flex-grow-1",onChange:m},o.a.createElement(mr,{key:n(fn.surveySentDate)},n(fn.surveySentDate)),o.a.createElement(mr,{key:n(fn.name)},n(fn.name)))))))),o.a.createElement(O.a,{className:"result-content"},o.a.createElement(ir.a,{className:"tabstitle fontsize14 w100",tabBarStyle:{color:"#7f888d",fontFamily:"AvenirNext-Medium"},onChange:t},o.a.createElement(ur,{tab:"Completed(".concat(C,")"),key:"1",className:"tabscontent flex "},o.a.createElement(cr,Object.assign({},this.props,{completedParticipant:y,handleOnClick:l,className:"flex align-items-center"}))),o.a.createElement(ur,{tab:"Inprogress(".concat(D,")"),key:"2",className:"tabscontent flex"},o.a.createElement(dr,Object.assign({},this.props,{inprogressParticipant:N,className:"flex align-items-center"})))))))}}]),t}(c.Component),fr=Object(y.d)(pr),hr=x.a.Option,vr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).changeContent=function(e){a.setState({contentIs:e})},a.changeStatus=function(e){"1"===e?a.setState({patientStatus:"Completed"}):"2"===e&&a.setState({patientStatus:"Inprogress"})},a.showSendSurveyBarToggle=function(e){e||a.setState({patientSelectedForDischarge:{}}),a.setState({showDischarge:e,uncheckAll:!e})},a.handleSearch=function(e){a.setState({query:e,selectedPatient:[]},a.fetchPatientList)},a.handleOnCheck=function(e){var t=a.state.selectedPatient;if(t.includes(e)){var n=t.indexOf(e);n>-1&&a.setState(function(e,t){var a=e.selectedPatient;return a.splice(n,1),a.length>0?{selectedPatient:a,uncheckAll:!0}:{selectedPatient:a}})}else a.setState(function(t,a){var n=t.selectedPatient;return n.push(e),{selectedPatient:n,uncheckAll:!1}})},a.handleOnSelect=function(e){a.setState({selectedProgram:e,selectedPatient:[]});var t=a.state,n=t.filterBasedOn,r=t.sortBasedOn,s=t.query;(0,a.props.fetchProgramPatient)(e,n,r,s)},a.handleSelectChange=function(e){a.setState(function(t,a){return{filterBasedOn:e,selectedPatient:[]}},a.fetchPatientList)},a.fetchPatientList=function(){var e=a.state,t=e.filterBasedOn,n=e.sortBasedOn,r=e.selectedProgram,s=e.query;(0,a.props.fetchProgramPatient)(r,t,n,s)},a.formatPaticipants=Object(T.a)(P.a.mark(function e(){var t,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.selectedPatient,n=t.map(function(e){return{participantId:e,participantCategory:"patient",status:"INPROGRESS",surveySentDate:R()()}}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)})),a.handleOnSentSurvey=Object(T.a)(P.a.mark(function e(){var t,n,r,s,i,l;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.endDate,r=t.surveyId,s=a.props.updateSurveys,(i={}).endDate=n,e.next=6,a.formatPaticipants();case 6:l=e.sent,i.participants=l,s(i,r).then(function(e){!0===e?a.props.history.replace("/surveys/Inprogress"):a.setState({is_error:!0})});case 9:case"end":return e.stop()}},e,this)})),a.handleSortByChange=function(e){a.setState({sortBasedOn:e},a.fetchPatientList)},a.handleOnPreviewClick=function(){var e=a.state.templateId;a.props.history.push("/survey/".concat(e,"/questionnaire"))},a.handleRangeChange=function(e,t){var n=e[0],r=e[1],s={};n&&(s=Object(At.a)({},s,{startDate:R()(n)})),r&&(s=Object(At.a)({},s,{endDate:R()(r)})),a.setState(s)},a.handleUnselectAll=function(){a.setState({selectedPatient:[],uncheckAll:!0})},a.handleEndSurvey=function(){var e=a.state,t=e.surveyId,n=e.selectedProgram;(0,a.props.openEndSurveyModal)(t,n)},a.getProgramsOption=function(){var e=a.props.programs_data,t=e?Object.keys(e):[],n=[];return t.forEach(function(t){var a=e[t].name;n.push(o.a.createElement(hr,{key:t},a))}),n},a.state={contentIs:"Result",selectedPatient:[],selectedProgram:"",filterBasedOn:"All",sortBasedOn:"name",uncheckAll:!1,startDate:"",endDate:"",templateId:"",surveyId:"",patientStatus:"Completed",query:""},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchSurveys)(this.state.patientStatus)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.surveys!==e.surveys){var a=this.props.match.params.surveyId,n=this.props,r=n.surveys,s=n.fetchQuestions,i=n.fetchProgramsData,l=n.fetchProgramPatient,c=r[a]?r[a]:{},o=c.template,d=void 0===o?{}:o,m=c.program,u=c.startDate,p=void 0===u?"":u,f=c.endDate,h=void 0===f?"":f,v=this.state,g=v.filterBasedOn,b=v.sortBasedOn,E=v.query,y=d.templateId;this.setState({templateId:y,selectedProgram:m,surveyId:a,startDate:p,endDate:h}),s(y),i(),l(m,g,b,E)}}},{key:"render",value:function(){var e=this.handleOnCheck,t=this.getProgramsOption,a=this.handleOnSelect,n=this.handleSelectChange,r=this.handleSortByChange,s=this.showSendSurveyBarToggle,i=this.handleRangeChange,l=this.handleOnSentSurvey,d=this.handleEndSurvey,m=this.changeContent,u=this.changeStatus,p=this.handleSearch,f=this.props,h=f.surveys,v=f.user_data,g=f.match,b=f.handleGoBack,E=this.state,y=E.selectedProgram,O=E.selectedPatient,k=E.uncheckAll,D=E.templateId,j=E.surveyId,S=E.startDate,M=E.endDate,w=E.contentIs,A=E.patientStatus,P=this.props.intl.formatMessage,T=(h[j]?h[j]:{}).status,I=v.basicInfo;(I=void 0===I?{}:I).category;return""!==D&&D,o.a.createElement(c.Fragment,null,o.a.createElement(N.a,{setTabDashboard:this.props.setTabDashboard}),o.a.createElement("div",{className:"m"},o.a.createElement("div",{className:"surveyDetail"},o.a.createElement(En,Object.assign({handleGoBack:b,selectedPatient:O,showSendSurveyBarToggle:this.handleUnselectAll,handleOnSentSurvey:l,handleEndSurvey:d,contentIs:w,changeContent:m,match:g,status:T},this.props)),o.a.createElement("div",{className:"previewQuestionnaire"},o.a.createElement(C.a,{onClick:this.handleOnPreviewClick},o.a.createElement("span",{className:"dark fontsize14 medium"},P(fn.previewQuestionnaire)))),"Result"===w?o.a.createElement(fr,Object.assign({},this.props,{changeStatus:u,patientStatus:A,surveyId:j,selectedProgram:y})):o.a.createElement("div",{className:"patient-pane w100"},T!==oe.C.COMPLETED&&o.a.createElement(sr,Object.assign({},this.props,{handleOnCheck:e,getProgramsOption:t,handleOnSelect:a,handleSelectChange:n,handleSortByChange:r,showSendSurveyBarToggle:s,handleRangeChange:i,surveys:h,selectedPatient:O,selectedProgram:y,uncheckAll:k,surveyId:j,startDate:S,endDate:M,handleSearch:p}))))))}}]),t}(c.Component),gr=Object(y.d)(vr),br=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleGoBack=function(e){e.preventDefault(),a.props.history.goBack()},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchSurveysById)(this.props.match.params.surveyId)}},{key:"render",value:function(){var e=this.props.user_data.basicInfo,t=((e=void 0===e?{}:e).category,this.handleGoBack);return o.a.createElement(gr,Object.assign({},this.props,{handleGoBack:t}))}}]),t}(c.Component),Er=br,yr=a(16),Nr=a(34),Or=a(31),kr=a(21),Cr=Object(wa.a)(Object(Z.b)(function(e){var t=e.programs,a=e.users,n=e.auth,r=e.hospitals,s=e.surveytemplates,i=e.surveys,l=e.page,c=(l=void 0===l?{}:l).createSurvey,o=void 0===c?{}:c;return{user_data:Object(Ia.c)()(a,n.authenticated_user),users:a,programs_data:t,hospitals_data:r,surveytemplates_data:s,questions:o.questions,surveytemplates:s,surveys:i}},function(e){return{fetchProgramPatient:function(t,a,n,r){return e(Object(yr.i)(t,a,n,{q:r,status:"!".concat(oe.E.INACTIVE)}))},fetchProgramsData:function(){return e(Object(yr.k)())},fetchQuestions:function(t){return e(Object(Nr.c)(t))},fetchSurveys:function(t){return e(Object(kr.j)(t))},fetchSurveyTemplates:function(){return e(Object(Or.c)())},updateSurveys:function(t,a){return e(Object(kr.l)(t,a))},endSurveys:function(t){return e(Object(kr.f)(t))},fetchSurveysById:function(t){return e(Object(kr.k)(t))},addResponse:function(t,a,n){return e(Object(kr.c)(t,a,n))},fetchPaticipantForSurveyBasedOnStatus:function(t,a){return e(Object(kr.h)(t,a))},openEndSurveyModal:function(t,a){return e(Object(Ta.i)(oe.n.END_SURVEY,t,null,a))}}})(Er)),Dr=Object(y.c)({program:{id:"app.surveyDetail.program",defaultMessage:"Program"},surveys:{id:"app.surveyDetail.surveys",defaultMessage:"Survey start"},endDate:{id:"app.SurveyDetail.endDate",defaultMessage:"end date"},chooseFrom:{id:"app.surveyDetail.chooseFrom",defaultMessage:"Choose from"},showing:{id:"app.surveyDetail.showing",defaultMessage:"Showing:"},sortBy:{id:"app.surveyDetail.sortBy",defaultMessage:"SortBy:"},all:{id:"app.surveyDetail.all",defaultMessage:"All"},enrolled:{id:"app.surveyDetail.enrolled",defaultMessage:"Enrolled"},inactive:{id:"app.surveyDetail.inactive",defaultMessage:"Inactive"},discharged:{id:"app.surveyDetail.discharged",defaultMessage:"Discharged"},name:{id:"app.surveyDetail.name",defaultMessage:"Name"},surveySentDate:{id:"app.surveyDetail.surveySentDate",defaultMessage:"Survey Sent Date"},patientAt:{id:"app.surveyDetail.patientAt",defaultMessage:"patient at"},programAt:{id:"app.surveyDetail.programAt",defaultMessage:"program at"},programIn:{id:"app.surveyDetail.programIn",defaultMessage:"program"},questionnairePreview:{id:"app.surveyDetail.questionnairePreview",defaultMessage:"Questionnaire Preview"},questions:{id:"app.surveyDetail.questions",defaultMessage:"Questions"},toComplete:{id:"app.surveyDetail.toComplete",defaultMessage:"to complete"},sendSurvey:{id:"app.surveyDetail.sendSurvey",defaultMessage:"Send Survey"},patientsSelected:{id:"app.surveyDetail.patientsSelected",defaultMessage:"Patient(s) selected"},previewQuestionnaire:{id:"app.surveyDetail.previewQuestionnaire",defaultMessage:"Preview Questionnaire"}}),jr=Dr,Sr=(a(1292),function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.handleGoBack,n=t.selectedPatient,r=t.showSendSurveyBarToggle,s=t.handleOnSentSurvey,i=t.surveytemplateId,l=t.surveytemplates,c=void 0===l?[]:l,d=t.intl.formatMessage,m=t.endDate,u="",p=!1;if(c[i]){var f=c[i],h=f.title,v=f.createdAt;u=h,e=R()().diff(v,"days",!0)}e>=0&&e<=7&&(p=!0);var g=n.length;return o.a.createElement("div",{className:"profileHead"},g>0?o.a.createElement("div",{className:"flex align-items-center justify-content-space-between mt16"},o.a.createElement("div",{className:"flex align-items-center"},o.a.createElement("div",{className:"mr10 ml24 radioBox-19-20  clickable",onClick:function(e){r()}},o.a.createElement("img",{alt:"",src:dn.a})),o.a.createElement("div",{className:"mt1"},g," ",d(jr.patientsSelected))),o.a.createElement("div",{className:"mr24"},o.a.createElement(C.a,{type:"primary",className:"iqvia-btn",onClick:s,disabled:""===m},d(jr.sendSurvey)))):o.a.createElement("div",{className:"back-location flex align-items-center"},o.a.createElement("img",{alt:"",src:ca.a,className:"backButton clickable mr16",onClick:a}),o.a.createElement("span",{className:"ml16"},"All Surveys"),o.a.createElement("span",{className:"previousLocation ml16"},u),p&&o.a.createElement("span",{className:p?"newSurvey":""},"New")))}}]),t}(c.Component)),Mr=Object(y.d)(Sr),wr=x.a.Option,Ar=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).updateBrowserhistory=function(){var e=a.state.templateId,t=a.props.history,n=t.location;(0,t.replace)(n.pathname,{templateId:e})},a.showSendSurveyBarToggle=function(e){e||a.setState(a.updateBrowserhistory),a.setState({uncheckAll:!e},a.updateBrowserhistory)},a.handleOnCheck=function(e){var t=a.state.selectedPatient;if(t.includes(e)){var n=t.indexOf(e);n>-1&&a.setState(function(e,t){var a=e.selectedPatient;return a.splice(n,1),a.length>0?{selectedPatient:a,uncheckAll:!0}:{selectedPatient:a}})}else a.setState(function(t,a){var n=t.selectedPatient;return n.push(e),{selectedPatient:n,uncheckAll:!1}})},a.handleOnSelect=function(e){a.setState({selectedProgram:e}),a.setState({selectedPatient:[]},a.fetchPatientList)},a.handleSelectChange=function(e){a.setState(function(t,a){return{filterBasedOn:e,selectedPatient:[]}},a.fetchPatientList)},a.handleSortByChange=function(e){a.setState(function(t,a){return{sortBasedOn:e}},a.fetchPatientList)},a.handleSearch=function(e){a.setState({query:e,selectedPatient:[]},a.fetchPatientList)},a.fetchPatientList=function(){var e=a.state,t=e.filterBasedOn,n=e.sortBasedOn,r=e.selectedProgram,s=e.query;(0,a.props.fetchProgramPatient)(r,t,n,s)},a.formatPaticipants=Object(T.a)(P.a.mark(function e(){var t,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.selectedPatient,n=t.map(function(e){return{participantId:e,participantCategory:"patient",status:"INPROGRESS",surveySentDate:R()()}}),e.abrupt("return",n);case 3:case"end":return e.stop()}},e,this)})),a.handleOnSentSurvey=Object(T.a)(P.a.mark(function e(){var t,n,r,s,i,l,c,o;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.startDate,r=t.endDate,s=t.selectedProgram,i=t.templateId,l=a.props.createSurveys,(c={}).startDate=n,c.endDate=r,c.template=i,c.program=s,e.next=9,a.formatPaticipants();case 9:o=e.sent,c.participants=o,l(c).then(function(e){!0===e?a.props.history.replace("/surveys/Inprogress"):a.setState({is_error:!0})});case 12:case"end":return e.stop()}},e,this)})),a.handleGoBack=function(e){e.preventDefault(),a.props.history.goBack()},a.handleDateChange=function(e){a.setState({endDate:e})},a.getProgramsOption=function(){var e=a.props.programs_data,t=e?Object.keys(e):[],n=[];return t.forEach(function(t){var a=e[t].name;n.push(o.a.createElement(wr,{key:t},a))}),n},a.handleUnselectAll=function(){a.setState({selectedPatient:[],uncheckAll:!0})},a.handleOnPreviewClick=function(){var e=a.props.match.params.templateId;a.props.history.push("/survey/".concat(e,"/questionnaire"))},a.state={selectedPatient:[],selectedProgram:"",filterBasedOn:"All",sortBasedOn:"name",uncheckAll:!1,startDate:R()(),endDate:"",templateId:"",is_error:!1,query:""},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchProgramsData,a=e.fetchQuestions,n=e.fetchSurveyTemplates,r=e.getValidProgramForSurvey;n();var s=this.props.match.params.templateId;Object(Pt.a)(s)||(this.setState({templateId:s},this.updateBrowserhistory),a(s),t().then(function(e){e&&r(s)}))}},{key:"render",value:function(){var e=this.handleOnCheck,t=this.handleOnSelect,a=this.handleGoBack,n=this.handleSelectChange,r=this.handleSortByChange,s=this.showSendSurveyBarToggle,i=this.handleDateChange,l=this.handleOnSentSurvey,d=this.handleUnselectAll,m=this.handleSearch,u="",p=this.state,f=p.selectedProgram,h=p.selectedPatient,v=p.uncheckAll,g=p.templateId,b=p.startDate,E=p.endDate,y=p.is_error,O=this.props.intl.formatMessage;return""!==g&&(u=g),o.a.createElement(c.Fragment,null,o.a.createElement(N.a,{setTabDashboard:this.props.setTabDashboard}),o.a.createElement("div",{className:"createSurvey"},o.a.createElement(Mr,Object.assign({handleGoBack:a,selectedPatient:h,showSendSurveyBarToggle:d,handleOnSentSurvey:l,is_error:y,endDate:E,surveytemplateId:u},this.props)),o.a.createElement("div",{className:"previewQuestionnaire"},o.a.createElement(C.a,{onClick:this.handleOnPreviewClick},o.a.createElement("span",{className:"dark fontsize14 medium"},O(jr.previewQuestionnaire)))),o.a.createElement("div",{span:6,className:"patient-pane w100"},o.a.createElement(Tn,Object.assign({handleOnCheck:e,handleOnSelect:t},this.props,{selectedProgram:f,handleSelectChange:n,handleSortByChange:r,selectedPatient:h,uncheckAll:v,showSendSurveyBarToggle:s,handleDateChange:i,startDate:b,endDate:E,handleSearch:m})))))}}]),t}(c.Component),Pr=Object(y.d)(Object(wa.a)(Ar)),Tr=Object(wa.a)(Object(Z.b)(function(e){var t=e.programs,a=e.users,n=e.auth,r=e.hospitals,s=e.surveytemplates,i=e.page,l=(i=void 0===i?{}:i).createSurvey,c=void 0===l?{}:l,o=e.surveys;return{user_data:Object(Ia.c)()(a,n.authenticated_user),users:a,programs_data:t,hospitals_data:r,surveytemplates_data:s,questions:c.questions,surveytemplates:s,availableProgram:c.availableProgram,is_error:o.is_error,error:kr.e.error}},function(e){return{fetchProgramPatient:function(t,a,n,r){return e(Object(yr.i)(t,a,n,{q:r,status:"!".concat(oe.E.INACTIVE)}))},fetchProgramsData:function(){return e(Object(yr.k)())},fetchQuestions:function(t){return e(Object(Nr.c)(t))},fetchSurveyTemplates:function(){return e(Object(Or.c)())},createSurveys:function(t){return e(Object(kr.d)(t))},getValidProgramForSurvey:function(t){return e(Object(Nr.d)(t))}}})(Pr)),Ir=a(39),xr=(a(734),a(8)),_r=a(216),Rr=a.n(_r),zr=a(559),Fr=Object(y.c)({careCoachProgramHeading:{id:"app.dashboard.carecoach.program.heading",defaultMessage:"Programs"},careCoachActiveProgram:{id:"app.dashboard.carecoach.program.active",defaultMessage:"Active"},careCoachExpiredProgram:{id:"app.dashboard.carecoach.program.expired",defaultMessage:"Expired"},careCoachSortProgramByRecentUpdated:{id:"app.dashboard.carecoach.program.sort.recentUpdated",defaultMessage:"Recently Updated"},careCoachExpiredSortProgramByName:{id:"app.dashboard.carecoach.program.sort.name",defaultMessage:"Name"},careCoachExpiredSortProgramByDate:{id:"app.dashboard.carecoach.program.sort.dateAdded",defaultMessage:"Date Added"},dashboardAppointments:{id:"common.dashboard.appointments",defaultMessage:"Appointments"},dashboardReminders:{id:"common.dashboard.reminders",defaultMessage:"Reminders"},dashboardViewAll:{id:"common.dashboard.view.all",defaultMessage:"View All"},dateSent:{id:"CareCoach.dashboard.dateSent",defaultMessage:"Date Sent"},name:{id:"CareCoach.dashboard.name",defaultMessage:"Name"},category:{id:"CareCoach.dashboard.category",defaultMessage:"Category"},survey:{id:"CareCoach.dashboard.survey",defaultMessage:"Surveys"},sortBy:{id:"CareCoach.dashboard.sortBy",defaultMessage:"Sort By"},dashboardSurveys:{id:"common.dashboard.surveys",defaultMessage:"Recently Sent Surveys"},dashboardPatientSurveys:{id:"common.dashboard.patientSurveys",defaultMessage:"Recent Surveys"},newAppointment:{id:"app.header.newAppointment",defaultMessage:"New Appointment/ Reminder"},newPatient:{id:"app.header.newPatient",defaultMessage:"New Patient"},newDoctor:{id:"app.header.newDoctor",defaultMessage:"New Doctor"},reportAdverseEvent:{id:"app.header.reportAdverseEvent",defaultMessage:"Report Adverse Event"}}),Br=Fr,Lr=(a(505),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleUpdateVital=function(e){var t=a.props,n=t.auth,r=(n=void 0===n?{}:n).authenticated_user,s=t.users,i=(void 0===s?{}:s)[r].basicInfo,l=(void 0===i?{}:i).category,c=void 0===l?"":l;c===oe.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(e,"/Medical-Details"),state:{currentMedicalField:"Vital"}}):c===oe.D.PATIENT&&a.props.history.push("/medicals/Vital")},a.handleUpdateClinicalReading=function(e){var t=a.props,n=t.auth,r=(n=void 0===n?{}:n).authenticated_user,s=t.users,i=(void 0===s?{}:s)[r].basicInfo,l=(void 0===i?{}:i).category,c=void 0===l?"":l;c===oe.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(e,"/Medical-Details"),state:{currentMedicalField:"Clinical-Reading"}}):c===oe.D.PATIENT&&a.props.history.push("/medicals/Clinical-Reading")},a.handleUpdateMedication=function(e){var t=a.props,n=t.auth,r=(n=void 0===n?{}:n).authenticated_user,s=t.users,i=(void 0===s?{}:s)[r].basicInfo,l=(void 0===i?{}:i).category,c=void 0===l?"":l;c===oe.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(e,"/Medical-Details"),state:{currentMedicalField:"Medication"}}):c===oe.D.PATIENT&&a.props.history.push("/medicals/Medication")},a.getCurrentWeek=function(){var e=a.state.currentDate,t=Rr.a.format(Rr.a.startOfWeek(e),"YYYY-MM-DD"),n=Rr.a.format(Rr.a.endOfWeek(e),"YYYY-MM-DD"),r=a.props.auth.authenticated_user;a.props.fetchEventsData(r,t,n)},a.prevWeek=function(){a.setState(function(e,t){return{currentDate:Rr.a.subWeeks(e.currentDate,1),selectedDate:Rr.a.startOfWeek(Rr.a.subWeeks(e.currentDate,1))}},function(){a.getCurrentWeek()})},a.nextWeek=function(){a.setState(function(e,t){return{currentDate:Rr.a.addWeeks(e.currentDate,1),selectedDate:Rr.a.startOfWeek(Rr.a.addWeeks(e.currentDate,1))}},function(){a.getCurrentWeek()})},a.onDateClick=function(e){a.setState({selectedDate:e})},a.goToCalendarDashboard=function(){(0,a.props.setTabDashboard)(oe.f.CALENDAR,{show:"appointments"})},a.renderDateDots=function(e){var t=[],n=a.state.selectedDate,r=!Rr.a.isSameDay(e,n),s=a.props.events,i=(s=void 0===s?{}:s).events,l=void 0===i?{}:i,c=s.scheduleEventListByDate,d=void 0===c?{}:c;if(e=Rr.a.format(e,"YYYY-MM-DD"),d){var m=d[e]||[],u=0;m.forEach(function(e){if(4===u)return!1;var a=l[e];a.eventType===oe.m.APPOINTMENT&&(u++,a.status===oe.k.STATUS.COMPLETED?t.push(o.a.createElement("div",{key:a.id,className:"dot silver ml2 mr2 ".concat(r?"":"invisble")})):a.status===oe.k.STATUS.PASSED?t.push(o.a.createElement("div",{key:a.id,className:"dot orange ml2 mr2 ".concat(r?"":"invisble")})):t.push(o.a.createElement("div",{key:a.id,className:"dot dark ml2 mr2 ".concat(r?"":"invisble")})))})}return t},a.state={currentDate:new Date,selectedDate:new Date},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.getCurrentWeek(),this.timer=setInterval(function(){return e.pollItems()},5e3)}},{key:"pollItems",value:function(){var e=Object(T.a)(P.a.mark(function e(){var t,a,n,r,s,i=this;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.pollEventsData,n=t.events,r=(n=void 0===n?{}:n).lastUpdatedAt,s=r,e.next=6,a().then(function(e){var t=i.props.events.lastUpdatedAt;Rr.a.isAfter(t,s)&&i.getCurrentWeek()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"renderHeader",value:function(){var e=this.formatMessage;return o.a.createElement("div",{className:"appointment-header"},o.a.createElement("div",{className:"header-title"},e(Br.dashboardAppointments)),o.a.createElement("div",{className:"header-sub-title clickable",onClick:this.goToCalendarDashboard},e(Br.dashboardViewAll)))}},{key:"renderDays",value:function(){for(var e=[],t=Rr.a.startOfWeek(this.state.currentDate),a=0;a<7;a++)e.push(o.a.createElement("div",{className:"col col-center pointer",key:a},Rr.a.format(Rr.a.addDays(t,a),"dd").slice(0,-1)));return o.a.createElement("div",{className:"dashboard-days dashboard-row"},e)}},{key:"renderDates",value:function(){for(var e=this,t=[],a=this.state,n=a.selectedDate,r=a.currentDate,s=Rr.a.startOfWeek(r),i=function(a){var r=s;t.push(o.a.createElement("div",{className:"week-dates ".concat(Rr.a.isToday(r)?"isSelected":Rr.a.isSameDay(r,n)?"isFadeSelected":""),key:a,onClick:function(){return e.onDateClick(Rr.a.parse(r))}},Rr.a.format(r,"D"))),s=Rr.a.addDays(s,1)},l=0;l<7;l++)i(l);return o.a.createElement("div",{className:"date-section"},o.a.createElement("div",{className:"dashboard-dates"},o.a.createElement(w.a,{className:"dashboard-icons",type:"left",onClick:this.prevWeek}),o.a.createElement("div",{className:"dates-row clickable"},t),o.a.createElement(w.a,{className:"dashboard-icons",type:"right",onClick:this.nextWeek})))}},{key:"renderEvents",value:function(){var e=this.state,t=e.selectedDate,a=e.currentDate,n=this.props,r=n.events,s=(r=void 0===r?{}:r).events,i=void 0===s?{}:s,l=r.scheduleEventListByDate,d=void 0===l?{}:l,m=n.auth.authenticated_user,u=Rr.a.format(t,"YYYY-MM-DD"),p=Rr.a.format(Rr.a.startOfWeek(a),"YYYY-MM-DD"),f=Rr.a.format(Rr.a.endOfWeek(a),"YYYY-MM-DD"),h=[];if(d){var v=d[u]||[],g=0;v.forEach(function(e){if(4===g)return!1;if(i[e]&&i[e].eventType===oe.m.APPOINTMENT){g++;var t=i[e];t.calendarStartingDate=p,t.calendarEndingDate=f,h.push(i[e])}})}var b=[];return h.forEach(function(e){var t=e.id,a=e.eventType===oe.m.APPOINTMENT?o.a.createElement(zr.a,{id:t,calendarUserId:m,modal:!0}):null;null!==a&&b.push(o.a.createElement(c.Fragment,{key:e.id},o.a.createElement("div",{className:"black pr16 fontsize16"},a)))}),o.a.createElement("div",{className:"mobile-card-wrapper hide-scroll"},b)}},{key:"renderCurrentSelectedDate",value:function(){var e=this.state.selectedDate;return o.a.createElement("div",{className:"date-display"},Rr.a.isToday(e)&&o.a.createElement("div",{className:"today"},o.a.createElement("div",null,"Today "),o.a.createElement("div",{className:"dot silver ml2 mr2"})),Rr.a.format(e,"ddd, D MMM YYYY"))}},{key:"renderDots",value:function(){for(var e=this,t=[],a=this.state.currentDate,n=Rr.a.startOfWeek(a),r=function(a){var r=n;t.push(o.a.createElement("div",{className:"week-dots ",key:a,onClick:function(){return e.onDateClick(Rr.a.parse(r))}},Rr.a.isToday(r)?null:e.renderDateDots(r))),n=Rr.a.addDays(n,1)},s=0;s<7;s++)r(s);return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"dots-wrapper"},t),o.a.createElement("div",null,o.a.createElement("hr",{className:"line"})))}},{key:"render",value:function(){this.formatMessage;return o.a.createElement(c.Fragment,null,this.renderHeader(),this.renderDays(),this.renderDates(),this.renderDots(),this.renderCurrentSelectedDate(),this.renderEvents())}}]),t}(c.Component)),Hr=Object(y.d)(Lr),Vr=Object(Z.b)(function(e){return{events:e.events,users:e.users,auth:e.auth}},function(e){return{fetchEventsData:function(t,a,n){return e(Object(xr.x)(t,a,n))},pollEventsData:function(){return e(Object(xr.y)())}}})(Hr),Yr=a(385),Ur=a(872),qr=a(563),Gr=Je.a.Item,Wr="oneTime",Qr="repeating",Kr=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.goToCalendarDashboard=function(){(0,a.props.setTabDashboard)(oe.f.CALENDAR,{show:"reminders"})},a.selectMenu=function(e){e.key===Qr?a.setState({selectedMenu:Qr}):e.key===Wr&&a.setState({selectedMenu:Wr})},a.renderEventsDates=function(e){return o.a.createElement("div",{className:"date-display"},Rr.a.isToday(e)&&o.a.createElement("div",{className:"today"},o.a.createElement("div",null,"Today "),o.a.createElement("div",{className:"dot silver"})),Rr.a.format(e,"ddd, D MMM YYYY"))},a.state={currentDate:new Date,selectedDate:new Date,selectedMenu:Wr},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"renderHeader",value:function(){var e=this.formatMessage;return o.a.createElement("div",{className:"appointment-header"},o.a.createElement("div",{className:"header-title"},e(Br.dashboardReminders)),o.a.createElement("div",{className:"header-sub-title clickable",onClick:this.goToCalendarDashboard},e(Br.dashboardViewAll)))}},{key:"renderMenu",value:function(){return o.a.createElement("div",{className:"reminder-menu"},o.a.createElement(Je.a,{className:"black",onSelect:this.selectMenu,mode:"horizontal",defaultSelectedKeys:[Wr]},o.a.createElement(Gr,{key:Wr},"One-Time"),o.a.createElement(Gr,{key:Qr},"Repeating")))}},{key:"filterOneTimeEvents",value:function(){var e=this.props.events,t=(e=void 0===e?{}:e).events,a=void 0===t?{}:t,n=Object(Ur.a)(a,function(e){return e.eventType===oe.m.REMINDER&&"none"===e.data.repeat});return this.pickRemindersByDate(n)}},{key:"filterRepeatingEvents",value:function(){var e=this.props.events,t=(e=void 0===e?{}:e).events,a=void 0===t?{}:t,n=Object(Ur.a)(a,function(e){return e.eventType===oe.m.REMINDER&&"none"!==e.data.repeat});return this.pickRemindersByDate(n)}},{key:"pickRemindersByDate",value:function(e){var t=this,a=this.props.events,n=(a=void 0===a?{}:a).scheduleEventListByDate,r=void 0===n?{}:n,s=[],i=0,l={};if(Object.keys(r).sort().forEach(function(e){l[e]=r[e]}),l){var c=function(a){var n=[],r=l[a];Object(Yr.a)(r,function(t){if(4===i)return!1;e[t]&&(i++,n.push(e[t]))}),s.push(t.renderEvents(n,a))};for(var o in l)c(o)}return s}},{key:"renderEvents",value:function(e,t){var a=this.props.auth.authenticated_user,n=[],r=0;return Object(Yr.a)(e,function(e){var t=e.id;if(4===r)return!1;r++;var s=o.a.createElement(qr.a,{id:t,calendarUserId:a,modal:!0});n.push(o.a.createElement(c.Fragment,{key:e.id},o.a.createElement("div",{className:"black pb10 pt10 fontsize16"},s)))}),o.a.createElement(c.Fragment,{key:t},e&&0!==e.length&&this.renderEventsDates(t),o.a.createElement("div",{className:"mobile-card-wrapper hide-scroll"},n))}},{key:"render",value:function(){var e=this.state.selectedMenu;this.formatMessage;return o.a.createElement(c.Fragment,null,this.renderHeader(),this.renderMenu(),e===Wr&&this.filterOneTimeEvents(),e===Qr&&this.filterRepeatingEvents(),this.renderEvents())}}]),t}(c.Component),Xr=Object(y.d)(Kr),Jr=Object(Z.b)(function(e){return{events:e.events,users:e.users,auth:e.auth}},function(e){return{fetchEventsData:function(t,a,n){return e(Object(xr.x)(t,a,n))}}})(Xr),Zr=function(e){var t=e.data,a=void 0===t?{}:t,n=e.handleOnClick,r=e.programs_data,s=e.handleOnDownload,i=e.isDashboard,l=a.endDate,c=a.startDate,d=a.participants,m=void 0===d?[]:d,u=a.status,p=void 0===u?"":u,f=a.program,h=a.template,v=void 0===h?{}:h,g=a.participantCompletedSurvey,b=void 0===g?[]:g,E=a.surveyId,y=void 0===E?"":E,N=v.title,O=m.length,k=(r[f]?r[f]:{}).name,D=R()(c).format("DD/MM/YYYY"),j=R()(l).format("DD/MM/YYYY");return o.a.createElement("div",{className:"survey-card-mobile mr16 mb16 clickable",onClick:function(e){return n(y)}},o.a.createElement("div",{className:"card-content"},i?"":o.a.createElement("div",{className:" flex align-items-center justify-content-space-between mb8 ".concat(p===oe.C.COMPLETED?"inprogress":"completed")},o.a.createElement("div",{className:"fontsize12 dark ml10 Inprogressnow  flex align-items-center justify-content-center"},p.toLowerCase()),o.a.createElement("div",null,(p===oe.C.COMPLETED||p===oe.C.INPROGRESS)&&b.length>0?o.a.createElement(C.a,{type:"primary",className:i?"download-report-btn":"download-report-btn ml40",ghost:!0,onClick:function(e){e.stopPropagation(),s(y)}},"Download Report"):o.a.createElement(C.a,{className:i?"download-report-btn":"download-report-btn ml40",onClick:function(e){return e.stopPropagation(),!1},style:{backgroundColor:"rgba(212, 215, 217, 0.3)",color:"black"},disabled:!0},"Download Report"))),o.a.createElement("div",{className:"".concat(i?"survey-card-header":"")},i?o.a.createElement("div",{className:"survey-card-header-right"},o.a.createElement("div",{className:"in-progress-container ".concat(p===oe.C.COMPLETED||p===oe.C.INPROGRESS?"inprogress":"completed")},p.toLowerCase()),o.a.createElement("div",{className:"survey-header-button"},(p===oe.C.COMPLETED||p===oe.C.INPROGRESS)&&b.length>0?o.a.createElement(C.a,{type:"primary",ghost:!0,onClick:function(e){e.stopPropagation();var t=(a||{})._id,n=void 0===t?{}:t;n&&s(n)}},"Download Report"):o.a.createElement(C.a,{onClick:function(e){return e.stopPropagation(),!1},style:{backgroundColor:"rgba(212, 215, 217, 0.3)",color:"black"},disabled:!0},"Download Report"))):"",o.a.createElement("span",{className:"fontsize14 mr8 bold dark"},N)),o.a.createElement("span",{className:"fontsize14 dark medium mb4 "},b.length," of ",O," recipients completed"),o.a.createElement("div",null,"Sent to ",k," at Dubai program\u2019s patients"),o.a.createElement("div",{className:"fontsize12 label-color mt8"},D,"-",j)))},$r=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.surveyData,a=e.handleOnClick,n=t.template,r=t._id;return o.a.createElement("div",{className:"patient-survey-card"},o.a.createElement("div",{className:"patient-survey-card-head"},o.a.createElement("div",{className:"patient-survey-card-head-left"},o.a.createElement("div",null,n.title),o.a.createElement("div",{className:"patient-survey-card-sub-heading"},o.a.createElement("div",{className:"text"},n.questions.length," "," Questions"),o.a.createElement("div",{className:"dot dark mr8"}),o.a.createElement("div",{className:"text"},n.time_to_complete," to complete"))),o.a.createElement("div",{className:"patient-survey-card-head-right"},o.a.createElement(C.a,{type:"primary",ghost:!0,size:"small",onClick:function(e){e.stopPropagation(),a(r)}},"Take Survey"))),o.a.createElement("div",{className:"patient-survey-card-body"},o.a.createElement("div",null,n.description)))}}]),t}(c.Component),es=$r,ts=a(276).Parser,as=a(277),ns=function(e){if(e)Object(pn.a)({method:oe.y.GET,url:hn.f.downloadSurveyReport(e)}).then(function(t){var a=t.payload,n=(a=void 0===a?{}:a).data,r=void 0===n?{}:n,s=[],i=[];for(var l in r){var c=r[l];(i=[]).push("Patient Name");var o=[];o.push(l);for(var d=0;d<c.length;d++){i.push("Q"+(d+1));var m=c[d].response;m.id&&m.value?o.push(m.value):o.push(m)}s.push(Object(At.a)({},o))}var u=i.map(function(e){return e}),p=new ts({fields:u}).parse(),f=new ts({header:!1}).parse(s);as(p+"\n"+f,"".concat(e,"_survey_report.csv"))})},rs=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchSurveys)("completed")}},{key:"render",value:function(){var e=this.props,t=e.surveys_data,a=e.programs_data,n=e.handleOnClick,r=e.completeSurveyIds,s=void 0===r?[]:r;return o.a.createElement(c.Fragment,null,s.map(function(e){var r=e._id;return t[r]?o.a.createElement(k.a,{xs:12,sm:12,md:6,key:r},o.a.createElement(Zr,{data:t[r],id:r,programs_data:a,handleOnClick:n,handleOnDownload:ns})):null}))}}]),t}(c.Component),ss=rs,is=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.goToSurveyDashboard=function(){(0,a.props.setTabDashboard)(oe.f.SURVEYS)},a.handleOnClick=function(e){a.props.history.replace("/survey/".concat(e))},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchRecentlySentSurveys,a=e.users,n=e.loggedInUser,r=e.fetchProgramsData,s=a[n]||{},i=s.programId,l=void 0===i?{}:i,c=s.basicInfo.category;if(c===oe.D.PATIENT){t(l,["INPROGRESS"])}else c===oe.D.CARE_COACH&&(r(),t(l))}},{key:"renderHeader",value:function(){var e=this.formatMessage,t=this.goToSurveyDashboard,a=this.props,n=(a.users[a.loggedInUser]||{}).basicInfo,r=(n=void 0===n?{}:n).category;return o.a.createElement("div",{className:"appointment-header"},o.a.createElement("div",{className:"header-title"},r===oe.D.CARE_COACH?e(Br.dashboardSurveys):e(Br.dashboardPatientSurveys)),o.a.createElement("div",{className:"header-sub-title ".concat(r===oe.D.PATIENT?"invisible":"clickable"),onClick:t},e(Br.dashboardViewAll)))}},{key:"renderSurveysForCareCoach",value:function(){var e=this.handleOnClick,t=this.props,a=t.surveys,n=t.programs,r=a.recentlyAdded,s=[];return r&&r.forEach(function(t){s.push(o.a.createElement(Zr,{key:t,data:a[t],id:t,programs_data:n,handleOnClick:function(){return e(t)},isDashboard:!0,handleOnDownload:ns}))}),o.a.createElement("div",{className:"survey-body hide-scroll"},s)}},{key:"renderSurveysForPatient",value:function(){var e=this.handleOnClick,t=this.props,a=t.surveys,n=t.loggedInUser,r=a.recentlyAdded,s=[];return r&&r.forEach(function(t){((a[t]||{}).participantCompletedSurvey||[]).indexOf(n.toString())<0&&s.push(o.a.createElement(es,{key:t,surveyData:a[t],id:t,handleOnClick:function(){return e(t)}}))}),o.a.createElement("div",{className:"survey-body hide-scroll"},s)}},{key:"render",value:function(){var e=this.props,t=(e.users[e.loggedInUser]||{}).basicInfo,a=(t=void 0===t?{}:t).category;return o.a.createElement(c.Fragment,null,this.renderHeader(),a===oe.D.CARE_COACH?this.renderSurveysForCareCoach():"",a===oe.D.PATIENT?this.renderSurveysForPatient():"")}}]),t}(c.Component),ls=Object(y.d)(is),cs=Object(Z.b)(function(e){var t=e.surveys,a=e.users,n=e.auth,r=e.programs;return{surveys:t,users:a,loggedInUser:n.authenticated_user,programs:r}},function(e){return{fetchRecentlySentSurveys:function(t,a){return e(Object(kr.i)(t,a))},fetchProgramsData:function(){return e(Object(yr.k)())}}})(ls),os=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={isDashBoard:!0},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"setDefaultState",value:function(){this.setState({appointments:[]})}},{key:"render",value:function(){var e=this.props,t=e.history,a=e.location,n=e.setTabDashboard,r=e.user_data,s=(r=void 0===r?{}:r).basicInfo,i=(s=void 0===s?{}:s).category,l=void 0===i?oe.D.PATIENT:i,d={history:t,location:a,setTabDashboard:n};return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"dashboard-home"},o.a.createElement("div",{className:"mobile-appointment-section"},o.a.createElement(Vr,d)),o.a.createElement("div",{className:"mobile-reminder-section"},o.a.createElement(Jr,d)),l!==oe.D.DOCTOR&&o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"mobile-appointment-section"},o.a.createElement(cs,d)),o.a.createElement("div",{className:"mobile-reminder-section"}))))}}]),t}(c.Component),ds=os,ms=(a(735),Object(y.c)({appointments:{id:"mobile.calendar.appointments",defaultMessage:"Appointments"},reminder:{id:"mobile.calendar.reminder",defaultMessage:"Reminder"},syncCalendar:{id:"mobile.calendar.syncCalendar",defaultMessage:"Sync Calendar"},show:{id:"mobile.calendar.show",defaultMessage:"Show"},cancel:{id:"calendarCard.appointment.cancel",defaultMessage:"Cancel Appointment"},reschedule:{id:"calendarCard.appointment.reschedule",defaultMessage:"Reschedule Appointment"},editNotes:{id:"calendarCard.appointment.editNotes",defaultMessage:"Edit Notes"},updateVitals:{id:"calendarCard.appointment.updateVitals",defaultMessage:"Update Vitals"},updateMedication:{id:"calendarCard.appointment.updateMedication",defaultMessage:"Update Medication"},updateClinicalReadings:{id:"calendarCard.appointment.updateClinicalReadings",defaultMessage:"Update Clinical Readings"},doneButton:{id:"calendarCard.appointment.doneButton",defaultMessage:"Mark as done"},undoButton:{id:"calendarCard.appointment.undoButton",defaultMessage:"Undo"},joinCallButton:{id:"calendarCard.appointment.joinCallButton",defaultMessage:"Join Call"},addNotes:{id:"calendarCard.reminder.addNotes",defaultMessage:"Add Notes"},editReminder:{id:"calendarCard.reminder.editReminder",defaultMessage:"Edit Reminder"},deleteReminder:{id:"calendarCard.reminder.deleteReminder",defaultMessage:"Delete Reminder"},scheduledBy:{id:"calendarCard.appointment.scheduledBy",defaultMessage:"Scheduled by"},markAsDoneBy:{id:"calendarCard.appointment.markAsDoneBy",defaultMessage:"Mark as done by"}})),us=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).onDateClick=function(){var e=a.props;(0,e.onDateClick)(e.date)},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.date,a=e.events;this.setState({currentDate:t,events:a})}},{key:"renderDots",value:function(){var e=[],t=this.props.events,a=0;return t.forEach(function(t){if(4===a)return!1;t.eventType!==oe.m.APPOINTMENT&&t.eventType!==oe.m.REMINDER||(a++,t.status===oe.k.STATUS.COMPLETED?e.push(o.a.createElement("div",{key:t.id,className:"mobile-dot silver ml2 mr2"})):t.status===oe.k.STATUS.PASSED?e.push(o.a.createElement("div",{key:t.id,className:"mobile-dot orange ml2 mr2"})):e.push(o.a.createElement("div",{key:t.id,className:"mobile-dot dark ml2 mr2"})))}),o.a.createElement("div",{className:"cell-dots-wrapper"},e)}},{key:"render",value:function(){var e=this.props,t=e.date,a=e.isSelected,n=e.disabled,r=this.onDateClick;return o.a.createElement("div",{className:"cell",onClick:r,key:t},o.a.createElement("div",{className:"digits ".concat(n?"disable-date":""," ").concat(a?"selected-digit":"")},Rr.a.format(t,"D")),this.renderDots())}}]),t}(c.Component),ps=us,fs=o.a.createElement("img",{alt:"",src:Te.a}),hs=x.a.Option,vs=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.fetchEventsAgain=function(){var e=a.state.currentMonth,t=Rr.a.startOfMonth(e),n=Rr.a.endOfMonth(t),r=Rr.a.startOfWeek(t),s=Rr.a.endOfWeek(n);a.props.fetchEventsData(Rr.a.format(r,"YYYY-MM-DD"),Rr.a.format(s,"YYYY-MM-DD"))},a.changeMonth=function(e){var t=JSON.parse(e),n=Rr.a.getYear(a.state.currentMonth),r=new Date(n,parseInt(t.month),1);a.setState({currentMonth:r,selectedDate:r},a.fetchEventsAgain)},a.getMonthsData=function(){var e=Object(_.monthsShort)(),t=Rr.a.getYear(a.state.currentMonth),n=[];for(var r in e){var s=e[r],i={month:r,year:t};n.push(o.a.createElement(hs,{key:r,value:JSON.stringify(i)},s+" "+t))}return n},a.onDateClick=function(e){a.setState({selectedDate:e})},a.nextMonth=function(){a.setState({currentMonth:Rr.a.addMonths(a.state.currentMonth,1)},function(){var e=new Date(Rr.a.getYear(this.state.currentMonth),Rr.a.getMonth(this.state.currentMonth),1);this.setState({selectedDate:e},this.fetchEventsAgain)})},a.prevMonth=function(){a.setState({currentMonth:Rr.a.subMonths(a.state.currentMonth,1)},function(){var e=new Date(Rr.a.getYear(this.state.currentMonth),Rr.a.getMonth(this.state.currentMonth),1);this.setState({selectedDate:e},this.fetchEventsAgain)})},a.onChangeReminderStatus=function(e){a.setState({showReminder:e.target.checked})},a.onChangeAppointmentStatus=function(e){a.setState({showAppointment:e.target.checked})},a.handleUpdateVital=function(e){var t=a.props,n=t.auth,r=t.users,s=((void 0===r?{}:r)[n]||{}).basicInfo,i=(void 0===s?{}:s).category,l=void 0===i?"":i;l===oe.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(e,"/Medical-Details"),state:{currentMedicalField:"Vital"}}):l===oe.D.PATIENT&&a.props.history.push("/medicals/Vital")},a.handleUpdateClinicalReading=function(e){var t=a.props,n=t.auth,r=t.users,s=((void 0===r?{}:r)[n]||{}).basicInfo,i=(void 0===s?{}:s).category,l=void 0===i?"":i;l===oe.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(e,"/Medical-Details"),state:{currentMedicalField:"Clinical-Reading"}}):l===oe.D.PATIENT&&a.props.history.push("/medicals/Clinical-Reading")},a.handleUpdateMedication=function(e){var t=a.props,n=t.auth,r=t.users,s=((void 0===r?{}:r)[n]||{}).basicInfo,i=(void 0===s?{}:s).category,l=void 0===i?"":i;l===oe.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(e,"/Medical-Details"),state:{currentMedicalField:"Medication"}}):l===oe.D.PATIENT&&a.props.history.push("/medicals/Medication")},a.handleOk=function(e){a.setState({modalVisible:!1})},a.handleCancel=function(e){(0,a.props.handleModalVisible)(!1),a.setState({modalVisible:!1})},a.renderDateAndLine=function(){var e=a.state.selectedDate;return o.a.createElement("div",{className:"date-and-line"},Rr.a.format(e,"DD MMM YYYY"))};var r=e.show;return a.state={currentMonth:new Date,selectedDate:new Date,visible:!1,cardClicked:!1,modalVisible:!1,showReminder:"appointments"!==r,showAppointment:"reminders"!==r},a.fetchEventsAgain=a.fetchEventsAgain.bind(Object(v.a)(Object(v.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchEventsAgain(),this.timer=setInterval(function(){return e.pollItems()},5e3)}},{key:"componentDidUpdate",value:function(e,t){e.id!==this.props.id&&this.fetchEventsAgain()}},{key:"pollItems",value:function(){var e=Object(T.a)(P.a.mark(function e(){var t,a,n,r,s,i=this;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,a=t.pollEventsData,n=t.events,r=(n=void 0===n?{}:n).lastUpdatedAt,s=r,e.next=6,a().then(function(e){var t=i.props.events.lastUpdatedAt;Rr.a.isAfter(t,s)&&i.fetchEventsAgain()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),this.timer=null}},{key:"renderHeader",value:function(){var e=this.state,t=e.showAppointment,a=e.showReminder,n=this.onChangeAppointmentStatus,r=this.onChangeReminderStatus,s=this.formatMessage;return o.a.createElement("div",{className:"calendar-header background-gray"},o.a.createElement("div",{className:"calendar-header-top"},o.a.createElement("div",{className:"left"},!0===We.a.CALENDAR_SYNC&&o.a.createElement(C.a,{className:"sync-btn"},s(ms.syncCalendar))),o.a.createElement("div",{className:"right"},o.a.createElement(x.a,{defaultValue:Rr.a.format(this.state.currentMonth,"MMM YYYY"),className:"month-dropdown",suffixIcon:fs,onChange:this.changeMonth,value:Rr.a.format(this.state.currentMonth,"MMM YYYY")},this.getMonthsData()),o.a.createElement(w.a,{className:"mr10 ml20 clickable",type:"left",onClick:this.prevMonth}),o.a.createElement(w.a,{className:"mr10 clickable",type:"right",onClick:this.nextMonth}))),o.a.createElement("div",{className:"calendar-header-bottom"},o.a.createElement("div",{className:"show"},s(ms.show)),o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox",checked:t,onChange:n},o.a.createElement("span",{className:"fontsize14 medium dark"},s(ms.appointments))),o.a.createElement(Ge.a,{className:"calendar_sync_line settings-checkbox",checked:a,onChange:r},o.a.createElement("span",{className:"fontsize14 medium  dark"},s(ms.reminder)))))}},{key:"renderDays",value:function(){for(var e=[],t=Rr.a.startOfWeek(this.state.currentMonth),a=0;a<7;a++)e.push(o.a.createElement("div",{className:"days",key:a},Rr.a.format(Rr.a.addDays(t,a),"dd").slice(0,-1)));return o.a.createElement("div",{className:"calendar-row border-bottom background-gray"},e)}},{key:"renderCells",value:function(){for(var e=this,t=this.state,a=t.currentMonth,n=t.selectedDate,r=Rr.a.startOfMonth(a),s=Rr.a.endOfMonth(r),i=Rr.a.startOfWeek(r),l=Rr.a.endOfWeek(s),c=[],d=[],m=i,u=this.props.events,p=(u=void 0===u?{}:u).scheduleEventListByDate,f=u.events;m<=l;){for(var h=function(t){var a=[],i=Rr.a.format(m,"YYYY-MM-DD"),l=e.state,c=l.showAppointment,u=l.showReminder;if(p){var h=p[i]||[];h.length>0&&h.forEach(function(e){var t=f[e];t&&(c&&u?a.push(f[e]):c&&!u?t.eventType===oe.m.APPOINTMENT&&a.push(f[e]):u&&!c&&t.eventType===oe.m.REMINDER&&a.push(f[e]))})}var v=m,g=Rr.a.isBefore(v,r)||Rr.a.isAfter(v,s);d.push(o.a.createElement(ps,{key:v,date:v,events:a,onDateClick:e.onDateClick,isSelected:Rr.a.isSameDay(v,n),disabled:g})),m=Rr.a.addDays(m,1)},v=0;v<7;v++)h();c.push(o.a.createElement("div",{className:"calendar-row white tall",key:m},d)),d=[]}return c}},{key:"renderEvents",value:function(){var e=this.state,t=e.selectedDate,a=e.showAppointment,n=e.showReminder,r=this.props,s=r.events,i=(s=void 0===s?{}:s).events,l=void 0===i?{}:i,d=s.scheduleEventListByDate,m=void 0===d?{}:d,u=r.calendarUserId,p=Rr.a.format(t,"YYYY-MM-DD"),f=[];m&&(m[p]||[]).forEach(function(e){if(l[e]){var t=l[e];f.push(t)}});var h=[];return f.forEach(function(e){var t=e.id,r=e.eventType===oe.m.REMINDER&&n?o.a.createElement(qr.a,{id:t,calendarUserId:u,modal:!0}):a&&e.eventType===oe.m.APPOINTMENT?o.a.createElement(zr.a,{id:t,calendarUserId:u,modal:!0}):null;null!==r&&h.push(o.a.createElement(c.Fragment,{key:e.id},o.a.createElement("div",{className:"black pr16 fontsize16"},r)))}),o.a.createElement("div",{className:"mobile-card-wrapper hide-scroll"},h)}},{key:"render",value:function(){return o.a.createElement("div",{className:"m calendar-full"},this.renderHeader(),this.renderDays(),this.renderCells(),this.renderDateAndLine(),this.renderEvents())}}]),t}(c.Component),gs=Object(y.d)(vs),bs=Object(Z.b)(function(e){var t=e.events,a=e.users,n=e.auth;return{events:t,users:a,viewerId:(n=void 0===n?{}:n).authenticated_user}},function(e){return{fetchEventsData:function(t){return function(a,n){return e(Object(xr.x)(t,a,n))}},pollEventsData:function(){return e(Object(xr.y)())}}},function(e,t,a){var n=a.calendarUserId,r=a.match,s=e.users,i=e.events,l=e.viewerId,c=t.fetchEventsData,o=t.pollEventsData;return{calendarUserId:n,viewer:s[l]||{},events:i,fetchEventsData:c(n),pollEventsData:o,show:r.params?r.params.show:"all",match:r}})(gs),Es=(a(1297),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).goToAppointmentHistory=function(){a.props.history.push("/appointment-history")},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user_data.basicInfo._id;(0,e.fetchAppointmentsHistory)(t)}},{key:"render",value:function(){var e=this.props.user_data.basicInfo._id;return o.a.createElement("div",{className:"my-calendar"},o.a.createElement("div",{className:"calendar-component hide-scroll"},o.a.createElement(bs,Object.assign({myCalendar:!0},this.props,{calendarUserId:e}))),o.a.createElement("div",{className:"appointment-history-button",onClick:this.goToAppointmentHistory},"View Appointment History"))}}]),t}(c.Component)),ys=Es,Ns=a(227),Os=a(736),ks=a.n(Os),Cs=a(737),Ds=a.n(Cs),js=a(738),Ss=a.n(js),Ms=a(739),ws=a.n(Ms),As=function(e){var t=e.data,a=e.handleOnClick,n=R()(t.createdAt).format("DD MMM YYYY"),r=R()(t.expireOn).format("DD MMM YYYY"),s="".concat(n,"-").concat(r);return"Active"===t.Valid&&(s="Expires on ".concat(r)),o.a.createElement(On.a,{key:t.title,xs:12,sm:12,md:6,lg:6},o.a.createElement(Nn.a,{className:"programs clickable",key:t.title,onClick:function(e){a(oe.j.PROGRAM,t.id)}},o.a.createElement("div",{className:"".concat(t.Valid,"now")},o.a.createElement("span",{className:"fontsize12"},t.Valid)),o.a.createElement("h4",{className:"programData"},t.title),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("span",{className:"fontsize12 programData"},o.a.createElement("img",{alt:"",src:ks.a,className:"cardImg"}),t.city,", ",t.country)),o.a.createElement("li",null,o.a.createElement("span",{className:"fontsize12 programData"},o.a.createElement("img",{alt:"",className:"cardImg",src:ws.a}),s)),o.a.createElement("li",null,o.a.createElement("span",{className:"fontsize12 programData"},o.a.createElement("img",{alt:"",className:"cardImg",src:Ds.a}),t.products," Products")),o.a.createElement("li",null,o.a.createElement("span",{className:"fontsize12 programData"},o.a.createElement("img",{alt:"",className:"cardImg",src:Ss.a}),t.patients," Patients")))))},Ps=(a(740),x.a.Option),Ts=ir.a.TabPane,Is=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={currentFilterType:oe.b.NAME,active_programs:[],expired_programs:[]},a.getProgramResult=a.getProgramResult.bind(Object(v.a)(Object(v.a)(a))),a.setProgramExpiredActiveState=a.setProgramExpiredActiveState.bind(Object(v.a)(Object(v.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.program_data;(0,e.getMyPrograms)(),Object(Pt.a)(t)||this.setProgramExpiredActiveState()}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.program_data,r=a.getMyPrograms,s=e.program_data;Object(Ns.a)(s,n)||(Object(Pt.a)(n)?r():this.setProgramExpiredActiveState())}},{key:"sortResults",value:function(e){switch(this.state.currentFilterType){case oe.b.RECENTLY_UPDATED:return e.sort(function(e,t){return R()(e.updatedAt).diff(t.updatedAt)}),e;case oe.b.NAME:return e.sort(function(e,t){var a=e.name.toLowerCase(),n=t.name.toLowerCase();return a<n?-1:a>n?1:0}),e;case oe.b.DATE_ADDED:return e.sort(function(e,t){return R()(e.activeFrom).diff(t.activeFrom)}),e;default:return e}}},{key:"setProgramExpiredActiveState",value:function(){var e=this.props.program_data,t=[],a=[];Object.keys(e).forEach(function(n,r){var s=e[n];"Active"===(R()(s.expiresOn).isAfter(new Date)?"Active":"Expired")?t.push(s):a.push(s)}),t=this.sortResults(t),a=this.sortResults(a),this.setState({active_programs:t,expired_programs:a})}},{key:"getProgramResult",value:function(){var e=this,t=this.props.intl.formatMessage,a=0,n=0,r=this.state.active_programs.map(function(t,n){var r=t.patients,s=(void 0===r?[]:r).length,i={};return a+=1,i.Valid="Active",i.title=t.name,i.city=t.targetLocation.city,i.country=t.targetLocation.country,i.patients=s,i.products=t.products.length,i.createdAt=t.createdAt,i.expireOn=t.expiresOn,o.a.createElement(As,{data:i,key:"act-".concat(n),handleOnClick:function(){e.props.history.push("/program/".concat(t._id))}})}),s=this.state.expired_programs.map(function(t,a){var r={};return n+=1,r.Valid="Expired",r.title=t.name,r.city=t.targetLocation.city,r.country=t.targetLocation.country,r.patients="37",r.products=t.products.length,r.createdAt=t.createdAt,r.expireOn=t.expiresOn,o.a.createElement(As,{data:r,key:"ex-".concat(a),handleOnClick:function(){e.props.history.push("/program/".concat(t._id))}})});return o.a.createElement(ir.a,{className:"tab-title fontsize14 w100",defaultActiveKey:"1",onChange:this.callback,tabBarStyle:{color:"#7f888d",fontFamily:"AvenirNext-Medium"}},o.a.createElement(Ts,{tab:"".concat(t(Br.careCoachActiveProgram)," (").concat(a,")"),key:"1",className:"tabscontent flex"},o.a.createElement(O.a,{className:"full-width",gutter:8},r)),o.a.createElement(Ts,{tab:"".concat(t(Br.careCoachExpiredProgram)," (").concat(n,")"),key:"2",className:"tabscontent flex"},o.a.createElement(O.a,{className:"full-width",gutter:8},s)))}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"care-coach-program"},o.a.createElement("div",{className:"program-heading-container"},o.a.createElement("div",{className:"heading"},t(Br.careCoachProgramHeading)),o.a.createElement(x.a,{optionFilterProp:"children",className:"select",onChange:function(t){e.setState({currentFilterType:t},function(){e.setProgramExpiredActiveState()})},value:"Sort by: ".concat(this.state.currentFilterType),suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrowImg"})},o.a.createElement(Ps,{value:oe.b.NAME},t(Br.careCoachExpiredSortProgramByName)),o.a.createElement(Ps,{value:oe.b.DATE_ADDED},t(Br.careCoachExpiredSortProgramByDate)))),o.a.createElement("div",{className:"program-body-container"},this.getProgramResult())))}}]),t}(c.Component),xs=Object(y.d)(Is),_s=a(279),Rs=a.n(_s),zs=function(e){var t=e.data,a=e.id,n=e.handleOnClick,r=t.title,s=t.questions,i=t.description,l=t.time_to_complete,c=t.createdAt,d=R()().diff(c,"days",!0),m=!1;return d>=0&&d<=7&&(m=!0),o.a.createElement("div",{className:"survey-card-mobile mr16 mb16 clickable ",key:a,onClick:function(e){return n(a)}},o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"flex align-items-center justify-content-space-between"},o.a.createElement("div",{className:"fontsize14 bold dark mb8"},r),m&&o.a.createElement("div",{className:m?"newSurvey":""},"New")),o.a.createElement("div",{className:"fontsize14 dark medium mb4 flex align-itmes-center"},o.a.createElement("span",{className:"fontsize14 dark medium mb4 "},s.length," Question")," ",o.a.createElement("span",{className:"dot dark ml5 mr5 mt8"})," ",o.a.createElement("span",{className:"fontsize14 dark medium mb4 "},l," to complete")),o.a.createElement("div",null,o.a.createElement(Rs.a,{text:i?i.length<50?i:i.substr(0,50)+"...":"",maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"}))))},Fs=(a(1302),function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.surveytemplates,a=void 0===t?[]:t,n=e.handleOnClick,r=this.props.surveytemplatesId;return o.a.createElement(c.Fragment,null,r.map(function(e){return o.a.createElement(k.a,{sm:12,md:6,key:e},o.a.createElement(zs,{data:a[e],id:e,handleOnClick:n}))}))}}]),t}(c.Component)),Bs=Object(y.d)(Fs),Ls=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchSurveys)("inprogress")}},{key:"render",value:function(){var e=this.props,t=e.surveys_data,a=e.programs_data,n=e.handleOnClick,r=e.inprogressSurveyIds,s=void 0===r?[]:r;return o.a.createElement(c.Fragment,null,s.map(function(e){var r=e._id;return o.a.createElement(k.a,{xs:12,sm:12,md:6,key:r},o.a.createElement(Zr,{key:r,data:t[r],id:r,programs_data:a,handleOnClick:n,handleOnDownload:ns}))}))}}]),t}(c.Component),Hs=Ls,Vs=x.a.Option,Ys=ir.a.TabPane,Us=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleOnClick=function(e){a.props.history.replace("/create-survey/template/".concat(e))},a.handleOnClickInprogress=function(e){a.props.history.push("/survey/".concat(e))},a.handleOnTabChange=function(e){var t=a.props.fetchSurveys;e===oe.B.INPROGRESS?(a.setState({currentTab:oe.B.INPROGRESS}),t("inprogress"),a.props.history.replace("/surveys/Inprogress")):e===oe.B.COMPLETED?(a.setState({currentTab:oe.B.COMPLETED}),t("completed"),a.props.history.replace("/surveys/Completed")):(a.setState({currentTab:oe.B.ALL_TEMPLATES}),a.props.history.replace("/surveys"))},a.handleSortBy=function(e){a.state.currentTab===oe.B.ALL_TEMPLATES?a.sortTemplateBasedOn(e):a.sortSurveyBasedOn(e)},a.handleSearchChange=function(e){a.setState({query:e.target.value}),a.getSurveyTemplates(e.target.value),a.getInprogressSurvey(e.target.value),a.getCompleteSurvey(e.target.value)},a.sortSurveyByDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.props.surveys_data,n=void 0===t?{}:t;return e.sort(function(e,t){var a=e._id,r=(n[a]||{}).updatedAt,s=t._id,i=(n[s]||{}).updatedAt;return r<i?1:r>i?-1:0})},a.sortSurveyByName=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=a.props.surveys_data,n=void 0===t?{}:t;return e.sort(function(e,t){var a=e._id,r=(n[a]||{}).template,s=(r=void 0===r?{}:r).title,i=void 0===s?"":s,l=t._id,c=(n[l]||{}).template,o=(c=void 0===c?{}:c).title,d=void 0===o?"":o;return i<d?-1:i>d?1:0})},a.state={query:"",surveytemplatesId:[],currentTab:"AllTemplates",inprogressSurvey:[],completeSurvey:[],sortBy:""},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchProgramsData;(0,e.fetchCareCoachSurveys)(),t();var a=this.props.match.params.show;a&&!Object(Pt.a)(a)&&this.setState({currentTab:a})}},{key:"componentDidUpdate",value:function(e,t){if(this.props.surveytemplates!==e.surveytemplates){var a=this.props,n=a.surveytemplates,r=void 0===n?[]:n,s=a.inprogressSurvey,i=a.completeSurvey,l=Object.keys(r);this.setState({surveytemplatesId:l,completeSurvey:i,inprogressSurvey:s})}if(this.props.match.params!==e.match.params){var c=this.props.match.params.show;c&&!Object(Pt.a)(c)?this.setState({currentTab:c}):this.setState({currentTab:"AllTemplates"})}}},{key:"getSurveyTemplates",value:function(e){var t,a=this.props.surveytemplates;t=Object.keys(a).filter(function(t){var n=a[t].title;return!!new RegExp("("+e+")","gi").test(n)}),this.setState({surveytemplatesId:t})}},{key:"getCompleteSurvey",value:function(e){var t,a=this.props,n=a.surveys_data;t=a.completeSurvey.filter(function(t){var a=t._id,r=(n[a]||{}).template,s=(r=void 0===r?{}:r).title,i=void 0===s?"":s;return!!new RegExp("("+e+")","gi").test(i)}),this.setState({completeSurvey:t})}},{key:"getInprogressSurvey",value:function(e){var t,a=this.props,n=a.surveys_data;t=a.inprogressSurvey.filter(function(t){var a=t._id,r=(n[a]||{}).template,s=(r=void 0===r?{}:r).title,i=void 0===s?"":s;return!!new RegExp("("+e+")","gi").test(i)}),this.setState({inprogressSurvey:t})}},{key:"sortTemplateBasedOn",value:function(e){var t=this.props.surveytemplates,a=this.state.surveytemplatesId;switch(e){case oe.b.DATE_SENT:var n;n=a.sort(function(e,a){var n=t[e].createdAt,r=t[a].createdAt;return n<r?1:n>r?-1:0}),this.setState({surveytemplatesId:n});break;case oe.b.NAME:var r;r=a.sort(function(e,a){var n=t[e].title,r=t[a].title;return n<r?-1:n>r?1:0}),this.setState({surveytemplatesId:r})}}},{key:"sortSurveyBasedOn",value:function(e){var t=this.state,a=t.completeSurvey,n=void 0===a?[]:a,r=t.inprogressSurvey,s=void 0===r?[]:r;switch(e){case oe.b.DATE_SENT:this.setState({completeSurvey:this.sortSurveyByDate(n),inprogressSurvey:this.sortSurveyByDate(s)});break;case oe.b.NAME:this.setState({completeSurvey:this.sortSurveyByName(n),inprogressSurvey:this.sortSurveyByName(s)})}}},{key:"render",value:function(){var e=this.props,t=e.surveytemplates,a=void 0===t?{}:t,n=e.intl.formatMessage,r=this.state,s=r.surveytemplatesId,i=r.inprogressSurvey,l=r.completeSurvey,d=r.currentTab,m=this.handleOnClick,u=this.handleOnClickInprogress,p=this.handleSearchChange;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"survey mt24"},o.a.createElement(O.a,null,o.a.createElement("div",{className:"fontsize22 dark bold w100 mb16"},n(Br.survey))),o.a.createElement(O.a,{gutter:{sm:24,md:24},className:"w100"},o.a.createElement(k.a,{sm:12,md:6},o.a.createElement(S.a,{className:"survey-input mb12",placeholder:"Search Survey",prefix:o.a.createElement("img",{alt:"",src:Ut.a,className:"search-icons mr16"}),onChange:p})),o.a.createElement(k.a,{sm:12,md:6},o.a.createElement("div",{className:"sortBy flex align-items-center "},o.a.createElement("div",{className:"fontsize14 bold dark pl10"},n(Br.sortBy)),o.a.createElement(x.a,{optionFilterProp:"children",suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrow-img"}),defaultValue:n(Br.dateSent),className:"flex align-items-center flex-grow-1",onChange:this.handleSortBy},o.a.createElement(Vs,{key:n(Br.dateSent)},n(Br.dateSent)),o.a.createElement(Vs,{key:n(Br.name)},n(Br.name)))))),o.a.createElement(O.a,{className:"mt24"},o.a.createElement(ir.a,{className:"tabstitle fontsize14 w100",defaultActiveKey:"AllTemplates",tabBarStyle:{color:"#7f888d",fontFamily:"AvenirNext-Medium"},activeKey:d,onChange:this.handleOnTabChange},o.a.createElement(Ys,{tab:"All Templates (".concat(s.length,")"),key:"AllTemplates",className:"tabscontent flex flex-wrap"},o.a.createElement(O.a,{gutter:{sm:12,md:24},className:"w100"},o.a.createElement(Bs,{surveytemplates:a,surveytemplatesId:s,handleOnClick:m}))),o.a.createElement(Ys,{tab:"Inprogress (".concat(i.length,")"),key:"Inprogress",className:"tabscontent flex flex-wrap"},o.a.createElement(O.a,{gutter:{sm:12,md:24}},o.a.createElement(Hs,Object.assign({},this.props,{handleOnClick:u,inprogressSurveyIds:i})))),o.a.createElement(Ys,{tab:"Completed (".concat(l.length,")"),key:"Completed",className:"tabscontent flex flex-wrap"},o.a.createElement(O.a,{gutter:{sm:12,md:24}},o.a.createElement(ss,Object.assign({},this.props,{handleOnClick:u,completeSurveyIds:l}))))))))}}]),t}(c.Component),qs=Object(y.d)(Us),Gs=Object(wa.a)(Object(Z.b)(function(e){var t=e.programs,a=e.users,n=e.hospitals,r=e.surveytemplates,s=e.surveys;return{users:a,programs_data:t,hospitals_data:n,surveytemplates:r,surveys_data:s,is_survey_error:s.is_survey_error,is_survey_saved:s.is_survey_saved,survey_error:s.survey_error,success_msg:s.success_msg,completeSurvey:s.completed,inprogressSurvey:s.inprogress}},function(e){return{fetchSurveyTemplates:function(){return e(Object(Or.c)())},fetchCareCoachSurveys:function(){return e(Object(kr.g)())},fetchSurveys:function(t){return e(Object(kr.j)(t))},fetchProgramsData:function(){return e(Object(yr.k)())}}})(qs)),Ws=a(557),Qs=(a(1447),function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).onUpdate=function(e){a.setState({mode:e})},a.ChangeMedicalField=function(e){a.setState({currentMedicalField:e}),a.props.history.push("/medicals/".concat(e))},a.setBasicRef=function(e){a.BasicformRef=e},a.setVitalRef=function(e){a.VitalformRef=e},a.handleOnSubmit=function(){var e=a.state,t=e.currentMedicalField,n=e.medicalConditionId,r=e.userId,s="";t===oe.q.BASIC?s=a.BasicformRef.props.form:t===oe.q.VITAL?s=a.VitalformRef.props.form:t===oe.q.MEDICATION?s=a.MedicationformRef.props.form:t===oe.q.CLINICAL_READING&&(s=a.ClinicalReadingformRef.props.form),s.validateFields(function(e,i){if(!e){switch(t){case oe.q.BASIC:var l=i.allergies,c=i.surgeriesOrFracture,o=i.others,d=Object(At.a)({},i,{allergies:l.join(","),surgeriesOrFracture:c.join(","),others:o.join(",")});a.props.saveBasicConditionData(n,d,r);break;case oe.q.VITAL:var m=R()().format();i.updatedAt=m;var u=i;a.props.addVitalData(n,u,r);break;case oe.q.CLINICAL_READING:a.props.UpdateClinicalReadingData(n,i,r);break;case oe.q.MEDICATION:var p=R()().format();i.updatedAt=p,i.userId=r;var f=i.medicine,h=f[f.length-1];""!==h.product_id&&null!==h.product_id||i.medicine.pop();var v=i;a.props.addMedication(v,r)}s.resetFields(),a.setState({visible:!1})}}),a.setState({mode:oe.r.READ})};var r=a.props.match.params.show;return a.state={userId:"",currentMedicalField:r||"Basic",mode:"read",testSelected:""},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.id;this.setState({userId:e}),this.props.fetchPatient(e),this.props.fetchAdverseEvent(e);var t=this.props.match.params.show;t&&!Object(Pt.a)(t)&&this.setState({currentMedicalField:t})}},{key:"componentDidUpdate",value:function(e,t){this.props.is_loading!==e.is_loading&&this.setState({medicalConditionId:this.props.medicals_data._id})}},{key:"render",value:function(){var e=this.props,t=e.medicals_data,a=void 0===t?{}:t,n=e.products_data,r=e.medications_data,s=e.id,i=e.clinicalTestTemplates_data,l=e.user_data,c=e.adverseEvent,d=e.events,m=e.openHistoricalClinicalData,u=e.openVitalsData,p=e.openMedicationData,f=e.openPrescription,h=this.state,v=h.currentMedicalField,g=h.mode,b=this.ChangeMedicalField,E=this.onUpdate,y=this.setBasicRef,N=this.setVitalRef,O=this.handleOnSubmit,k="";if(l){var C=l.programIds;C&&(k=C[0].id)}return o.a.createElement("div",{className:"patient-medicals"},o.a.createElement(Ws.a,Object.assign({},this.props,{medicals_data:a,mode:g,products_data:n,medications_data:r,clinicalTestTemplates:i,setBasicRef:y,setVitalRef:N,programId:k,id:s,adverseEvent:c,events:d,pageIs:"patient-dashboard",ChangeMedicalField:b,currentMedicalField:v,user_data:l,openHistoricalClinicalData:m,openMedicationData:p,openVitalsData:u,openPrescription:f,handleOnUpdate:E,handleOnSubmit:O})))}}]),t}(c.Component)),Ks=Qs,Xs=a(20),Js=a(52),Zs=a(257),$s=a(523),ei=a(24),ti=Object(wa.a)(Object(Z.b)(function(e){var t=e.page,a=t.profileSetUp,n=t.patientProfile,r=void 0===n?{}:n,s=e.users,i=e.auth,l=e.programs,c=e.medicals,o=e.medications,d=e.products,m=e.clinicalTestTemplates,u=e.events,p=Object(Ia.c)(),f=Object(Zs.f)(),h=Object(xa.a)(),v=Object($s.a)();return{user_data:p(s,i.authenticated_user),id:i.authenticated_user,medications_data:o,medicals_data:h(c,i.authenticated_user),profileSetupData:a,auth_data:i,authenticated:i.authenticated,program_data:f(l),clinicalTestTemplates_data:m,is_loading:r.is_loading,adverseEvent:v(u,i.authenticated_user),products_data:d,events:u.events}},function(e){return{signOut:function(){e(Object(Xs.i)())},fetchPatient:function(t){return e(Object(Js.b)(t))},fetchAdverseEvent:function(t){e(Object(xr.u)(t))},openHistoricalClinicalData:function(t){return e(Object(Ta.i)(oe.n.HISTORICAL_CLINICAL_READING,t))},openVitalsData:function(t){return e(Object(Ta.i)(oe.n.HISTORICAL_VITALS_READING,t))},openMedicationData:function(t){return e(Object(Ta.i)(oe.n.HISTORICAL_MEDICATION_DATA,t))},openPrescription:function(t,a){return e(Object(Ta.i)(oe.n.PRESCRIPTION,t,null,a))},saveBasicConditionData:function(t,a,n){return e(Object(ei.g)(t,a,n))},addVitalData:function(t,a,n){return e(Object(ei.e)(t,a,n))},UpdateClinicalReadingData:function(t,a,n){return e(Object(ei.d)(t,a,n))},openClinicalReading:function(t,a,n){return e(Object(Ta.i)(oe.n.CLINICALREADING,t,a,n))},reportAdverseEvent:function(t){return e(Object(Ta.i)(oe.n.ADVERSE_EVENTS,null,null,t))}}})(Ks)),ai=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={},a.getTapMenuContent=a.getTapMenuContent.bind(Object(v.a)(Object(v.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"getTapMenuContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=this.props.setTabDashboard;switch(e){case oe.f.HOME:return o.a.createElement(ds,Object.assign({setTabDashboard:t},this.props));case oe.f.CALENDAR:return o.a.createElement(ys,this.props);case oe.f.PROGRAMS:return o.a.createElement(xs,this.props);case oe.f.MEDICALS:return o.a.createElement(ti,null);case oe.f.SURVEYS:return o.a.createElement(Gs,{setTabDashboard:t});default:return o.a.createElement("div",null)}}},{key:"render",value:function(){return this.getTapMenuContent(this.props.currentTab)}}]),t}(c.Component),ni=Object(y.d)(ai),ri=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleAddButtonClick=function(){a.setState(function(e,t){return{should_rotate:!e.should_rotate}})},a.state={should_rotate:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props,n=a.intl.formatMessage,r=a.category,s=a.openModal,i=this.state.should_rotate,l=o.a.createElement(Je.a,null,o.a.createElement(Je.a.Item,{onClick:function(e){s(oe.n.EVENT_MODAL),t.handleAddButtonClick()}},n(Br.newAppointment)),o.a.createElement(Je.a.Item,{onClick:function(e){s(oe.n.PATIENT_MODAL),t.handleAddButtonClick()}},n(Br.newPatient)),o.a.createElement(Je.a.Item,{onClick:function(e){s(oe.n.DOCTOR_MODAL),t.handleAddButtonClick()}},n(Br.newDoctor)),o.a.createElement(Je.a.Item,{onClick:function(e){s(oe.n.ADVERSE_EVENTS),t.handleAddButtonClick()}},n(Br.reportAdverseEvent))),c=o.a.createElement(Je.a,null,o.a.createElement(Je.a.Item,{onClick:function(e){s(oe.n.EVENT_MODAL),t.handleAddButtonClick()}},n(Br.newAppointment)),o.a.createElement(Je.a.Item,{onClick:function(e){s(oe.n.ADVERSE_EVENTS),t.handleAddButtonClick()}},n(Br.reportAdverseEvent)));switch(r){case oe.D.CARE_COACH:e=l;break;case oe.D.PATIENT:case oe.D.DOCTOR:e=c}return o.a.createElement(cn.a,{overlay:e,onVisibleChange:this.handleAddButtonClick,trigger:["click"]},o.a.createElement("div",{className:"dashboard_add_button flex align-items-center justify-content-center"},o.a.createElement(w.a,{type:"plus",rotate:i?"45":"0",style:{fontSize:"24px"}})))}}]),t}(c.Component),si=Object(y.d)(ri),ii=(a(1449),Object(y.c)({dashboard:{id:"app.header.dashboard",defaultMessage:"Dashboard"},mycalender:{id:"app.header.mycalender",defaultMessage:"My Calendar"},program:{id:"app.header.program",defaultMessage:"Programs"},surveys:{id:"app.header.surveys",defaultMessage:"Surveys"}})),li=ii,ci=Object(wa.a)(Object(y.d)(function(e){var t=e.intl.formatMessage,a=function(t){e.history.push({pathname:"/".concat(t)})};return o.a.createElement(Je.a,{mode:"horizontal",className:"menu",selectedKeys:[e.currentTab]},o.a.createElement(Je.a.Item,{key:oe.f.HOME,className:"fontsize14",onClick:function(){a(oe.f.HOME)}},t(li.dashboard)),o.a.createElement(Je.a.Item,{key:oe.f.CALENDAR,className:"fontsize14",onClick:function(){a(oe.f.CALENDAR)}},t(li.mycalender)),o.a.createElement(Je.a.Item,{key:oe.f.PROGRAMS,className:"fontsize14",onClick:function(){a(oe.f.PROGRAMS)}},t(li.program)),o.a.createElement(Je.a.Item,{key:oe.f.SURVEYS,className:"fontsize14",onClick:function(){a(oe.f.SURVEYS)}},t(li.surveys)))})),oi=Object(wa.a)(Object(y.d)(function(e){var t=e.intl.formatMessage,a=function(t){e.history.push({pathname:"/".concat(t)})};return o.a.createElement(Je.a,{mode:"horizontal",className:"menu",selectedKeys:[e.currentTab]},o.a.createElement(Je.a.Item,{key:oe.f.HOME,className:"menuItem dashboard fontsize14",onClick:function(){a(oe.f.HOME)}},t(li.dashboard)),o.a.createElement(Je.a.Item,{key:oe.f.CALENDAR,className:"menuItem mycalender fontsize14",onClick:function(){a(oe.f.CALENDAR)}},t(li.mycalender)),o.a.createElement(Je.a.Item,{key:oe.f.PROGRAMS,className:"menuItem program fontsize14",onClick:function(){a(oe.f.PROGRAMS)}},t(li.program)))})),di=Object(wa.a)(Object(y.d)(function(e){var t=e.intl.formatMessage,a=function(t){e.history.push({pathname:"/".concat(t)})};return o.a.createElement(Je.a,{mode:"horizontal",className:"menu",selectedKeys:[e.currentTab]},o.a.createElement(Je.a.Item,{key:oe.f.HOME,className:"menuItem dashboard fontsize14",onClick:function(){a(oe.f.HOME)}},t(li.dashboard)),o.a.createElement(Je.a.Item,{key:oe.f.CALENDAR,className:"menuItem mycalender fontsize14",onClick:function(){a(oe.f.CALENDAR)}},t(li.mycalender)),o.a.createElement(Je.a.Item,{key:oe.f.MEDICALS,className:"menuItem my-medical-detail fontsize14",onClick:function(){a(oe.f.MEDICALS)}},t(li.MyMedicalDetails)))})),mi=function(e){var t=e.user,a=(t=void 0===t?{}:t).basicInfo,n=(a=void 0===a?{}:a).category,r=e.currentTab;switch(n){case oe.D.DOCTOR:return o.a.createElement(oi,{currentTab:r});case oe.D.CARE_COACH:return o.a.createElement(ci,{currentTab:r});case oe.D.PATIENT:return o.a.createElement(di,{currentTab:r});default:return null}},ui=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleModalVisible=function(e){a.setState({modalVisible:e})};var r=a.props.location,l=(r=void 0===r?{}:r).state,c=void 0===l?{}:l;return a.state={currentTab:c&&c.defaultTab||oe.H.DASHBOARD.HOME,modalVisible:!1},a.setTabDashboard=a.setTabDashboard.bind(Object(v.a)(Object(v.a)(a))),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,a=(t=void 0===t?{}:t).url,n=void 0===a?[]:a,r=t.params,s=void 0===r?{}:r,i=e.getData,l=s.show?s.show:"";if(l===oe.m.ALL||l===oe.m.APPOINTMENTS||l===oe.m.REMINDERS)this.setTabDashboard(oe.f.CALENDAR,{show:l});else if(l===oe.B.INPROGRESS||l===oe.B.COMPLETED)this.setTabDashboard(oe.f.SURVEYS,{show:l});else if(l===oe.q.BASIC||l===oe.q.VITAL||l===oe.q.CLINICALREADING||l===oe.q.MEDICATION||l===oe.q.ADVERSEEVENTS)this.setTabDashboard(oe.f.MEDICALS,{show:l});else{var c=n.slice(1);this.setTabDashboard(c)}i()}},{key:"pushTabToHistory",value:function(e,t){this.props.history.push({pathname:t,state:{defaultTab:e}})}},{key:"setTabDashboard",value:function(e,t){switch(e){case oe.f.HOME:this.pushTabToHistory(e,oe.H.DASHBOARD.HOME);break;case oe.f.CALENDAR:var a=t?t.show:null;if(a){var n="/calendar/"+a;this.pushTabToHistory(e,n)}else{this.pushTabToHistory(e,"/calendar")}break;case oe.f.PROGRAMS:this.pushTabToHistory(e,oe.H.DASHBOARD.PROGRAMS);break;case oe.f.SURVEYS:var r=t?t.show:null;if(r){var s="/surveys/"+r;this.pushTabToHistory(e,s)}else{this.pushTabToHistory(e,"/surveys")}break;case oe.f.MEDICALS:var i=t?t.show:null;if(console.log("show-----------",i),i){var l="/medicals/"+i;this.pushTabToHistory(e,l)}else{this.pushTabToHistory(e,"/medicals")}break;default:this.setTabDashboard("dashboard"),this.pushTabToHistory("dashboard",oe.H.DASHBOARD.HOME)}this.setState({currentTab:e})}},{key:"componentDidUpdate",value:function(e,t,a){var n=e.match,r=(n=void 0===n?{}:n).path,s=this.props.match,i=(s=void 0===s?{}:s).path,l=s.params,c=void 0===l?{}:l;r!==i&&(Object(Pt.a)(c)?this.setTabDashboard(i.slice(1)):(console.log("newPAth----------",i),console.log("PPPPPPPPPPPP",c.show),console.log("------------------",i.substr(1,i.lastIndexOf("/")-1)),this.setTabDashboard(i.substr(1,i.lastIndexOf("/")-1),c)))}},{key:"render",value:function(){var e=this.props.user_data,t=void 0===e?{}:e,a=t.basicInfo,n=void 0===a?{}:a,r=n.category,s=void 0===r?"":r,i=this.setTabDashboard,l=this.handleModalVisible;return o.a.createElement(c.Fragment,null,o.a.createElement(N.a,Object.assign({setTabDashboard:this.setTabDashboard,signup:!1},this.props,{currentTab:this.state.currentTab})),o.a.createElement("div",{className:"home"},n&&o.a.createElement("div",{className:"content"},o.a.createElement(ni,Object.assign({currentTab:this.state.currentTab},this.props,{setTabDashboard:i,handleModalVisible:l}))),o.a.createElement(si,Object.assign({category:s},this.props)),o.a.createElement("div",{className:"footer"},o.a.createElement(mi,{user:t,currentTab:this.state.currentTab})),!this.state.modalVisible&&o.a.createElement(ya,{className:"dashboard-success-msg"})))}}]),t}(c.Component),pi=Object(y.d)(ui),fi=Object(wa.a)(Object(Z.b)(function(e){var t=e.page.profileSetUp,a=e.users,n=e.auth,r=e.programs,s=Object(Ia.c)(),i=Object(Zs.f)();return{user_data:s(a,n.authenticated_user),profileSetupData:t,auth_data:n,authenticated:n.authenticated,program_data:i(r)}},function(e){return{signOut:function(){e(Object(Xs.i)())},getMyPrograms:function(){e(Object(yr.k)())},getProgramPatients:function(){e(Object(yr.j)())},openModal:function(t){return e(Object(Ta.i)(t))},fetchAppointmentsHistory:function(t,a){return e(Object(xr.v)(t,a))},getDataOfCurrentUser:function(t){e(Object(Pa.f)(t))}}},function(e,t,a){var n=e.auth_data,r=(n=void 0===n?{}:n).authenticated_user,s=(t.getDataOfCurrentUser,Object(Ir.a)(t,["getDataOfCurrentUser"]));return Object(At.a)({},e,s,{getData:function(){return t.getDataOfCurrentUser(r)}},a)})(pi)),hi=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(m.a,null,o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.HOME,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.PROGRAMS,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.ONLY_CALENDAR,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.CALENDAR,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.DASHBOARD,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.ONLY_SURVEYS,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.SURVEYS,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.ONLY_MEDICALS,component:fi}),o.a.createElement(p.a,{exact:!0,path:oe.H.DASHBOARD.MEDICALS,component:fi}),o.a.createElement(p.a,{path:"",component:ln.a})))}}]),t}(c.Component),vi=Object(y.c)({dashboard:{id:"app.articles-details-dashboard",defaultMessage:"Dashboard"},allArticles:{id:"app.articles-details-all",defaultMessage:"All Articles"},sharedWith:{id:"app.articles-details-sharedWith",defaultMessage:"Shared with"},views:{id:"app.articles-details-views",defaultMessage:"Views"},source:{id:"app.articles-details-source",defaultMessage:"Source:"}}),gi=a(780),bi=(a(238),Object(y.c)({close:{id:"app.modal.close",defaultMessage:"Close"},save:{id:"app.modal.save",defaultMessage:"Save"}})),Ei=a(781),yi=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchProgramsData,a=e.fetchData,n=e.articleId;t(),a(n)}},{key:"render",value:function(){var e=this.props,t=e.article,a=void 0===t?{}:t,n=e.programs,r=e.users,s=e.hospitals,i=e.currentUser,l=e.close;return Object(Ei.a)({article:a,programs:n,users:r,currentUser:i}).map(function(e){var t=e.id,a=e.title,n=e.patients,c=void 0===n?[]:n;return o.a.createElement("div",{key:t,className:"mt16 mb48"},o.a.createElement("div",{className:"bold dark fontsize18 mt8 mb8"},a),o.a.createElement(O.a,{gutter:16,className:"w100 pt16"}," ",function(e){var t=e.users,a=void 0===t?{}:t,n=e.hospitals,r=void 0===n?{}:n,s=e.currentUser,i=e.patients,l=void 0===i?[]:i,c=e.close,d=[];return l.forEach(function(e){var t=a[e]||{},n=Object(Sn.a)({users:a,hospitals:r,currentUser:s,patient:t}),i=t.basicInfo,l=(i=void 0===i?{}:i)._id;d.push(o.a.createElement(jn,{key:l,data:n,className:"full-width i",handleOnClick:!0,onClickCard:c,wantCheckBox:!1}))}),d}({patients:c,users:r,currentUser:i,hospitals:s,close:l})))})}}]),t}(c.Component),Ni=Object(y.d)(yi),Oi=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleCancel=function(e){e&&e.preventDefault(),(0,a.props.close)()},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.footer=function(){var e=Object(v.a)(Object(v.a)(a)),t=e.formatMessage,n=e.handleCancel;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"flex align-items-center justify-content-end h72px mr24 ml24"},o.a.createElement("div",{className:"flex align-items-center justify-content-end"},o.a.createElement(C.a,{className:"iqvia-btn cancel mr8",onClick:n},t(bi.close)))))},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.isError;if(!t)return null;var n={visible:t||a,title:"Shared with",onCancel:this.handleCancel,wrapClassName:"m global-modal full-height",destroyOnClose:!0,bodyStyle:{height:"100%"},width:"100%",footer:(0,this.footer)()};return o.a.createElement(M.a,n,o.a.createElement("div",{className:"pl48 pr24 h100 overflow auto"},o.a.createElement(Ni,this.props)))}}]),t}(c.Component),ki=Object(y.d)(Oi),Ci=a(12),Di=a(309),ji=Object(Z.b)(function(e){var t=e.modal,a=t.show,n=t.modalType,r=t.entityId,s=e.articles,i=e.programs,l=e.users,c=e.hospitals,o=e.auth,d=Object(Di.a)(),m=Object(Ia.c)();return{show:a&&n===oe.n.ARTICLE_SHARE_WITH,article:d(s,r),programs:i,currentUser:m(l,o.authenticated_user),users:l,hospitals:c,articleId:r}},function(e){return{close:function(){return e(Object(Ta.g)())},fetchProgramsData:function(){return e(Object(yr.k)())},fetchData:function(t){return e(Object(Ci.g)(t))}}})(ki),Si=function(e){var t=e.data,a=e.onClick,n=t.basicInfo,r=(n=void 0===n?{}:n)._id,s=n.profilePicLInk,i=void 0===s?Cn.a:s;return o.a.createElement("div",{className:"clickable usr ml4 mr4",key:r,onClick:a(r)},o.a.createElement("img",{className:"usr",alt:"usr",src:i}))},Mi=Object(wa.a)(Object(y.d)(function(e){for(var t=e.article,a=void 0===t?{}:t,n=e.intl.formatMessage,r=e.history,s=e.shareWith,i=e.currentUser,l=(i=void 0===i?{}:i).basicInfo,d=(l=void 0===l?{}:l)._id,m=e.users,u=void 0===m?{}:m,p=(a.title,a.participants),f=void 0===p?{}:p,h=Object.keys(f)||[],v=function(e){return function(t){t.stopPropagation(),r.push(Object(gi.a)(e))}},g=[],b=0;b<2&&b<h.length;b++){var E=h[b],y=u[E]||{};E!==d&&g.push(Si({data:y,onClick:v}))}return g.length+1<h.length&&g.push(o.a.createElement("div",{className:"flex align-items-center justify-content-center clickable more slate-grey medium fontsize10 ml4 mr4",key:"more",onClick:s},"+".concat(h.length-1-g.length))),o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"flex justify-content-space-between h100 full-width"},o.a.createElement("div",{className:"flex align-items-center"},o.a.createElement("div",{className:"back mr8"},o.a.createElement("img",{alt:"",src:ca.a,className:"back clickable",onClick:r.goBack})),o.a.createElement("div",{className:"ml8 mr4 dark fontsize12"},n(vi.dashboard))),g.length>0&&o.a.createElement("div",{className:"flex align-items-center dark fontsize12",onClick:s},o.a.createElement("div",{className:"mr8 ml8"},n(vi.sharedWith)),g)),o.a.createElement(ji,null))})),wi=a(419),Ai=a.n(wi),Pi=a(420),Ti=a.n(Pi),Ii=a(782),xi=a.n(Ii),_i=a(29),Ri=Object(y.c)({cancel:{id:"app.modal.cancel",defaultMessage:"Cancel"},save:{id:"app.modal.save",defaultMessage:"Save"}}),zi=x.a.Option,Fi=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.getParentNode=function(e){return e.parentNode},a.handleSearchChange=function(e){e.preventDefault(),a.onSearch(e.target.value)},a.handleCardSelect=function(e){var t=e.id;(0,a.props.handleCheck)(!0,t)},a.handleCardDeSelect=function(e){(0,a.props.handleCheck)(!1,e)},a.handleOnProgramSelect=function(e){(0,a.props.deselectAll)(),console.log("e :",e),a.setState({program:e},a.fetchPatientList)},a.handleSelectAll=function(){var e=a.props,t=e.programs,n=void 0===t?{}:t,r=e.selectAll,s=a.state.program,i=(n[s]||{}).patients,l=void 0===i?[]:i;console.log("programs[program] :",n[s]),r(l)},a.fetchPatientList=function(){var e=a.state,t=e.program,n=e.query;(0,a.props.fetchPatient)(t,n)},a.getProgramsOption=function(){var e=a.props.programs,t=[];for(var n in e){var r=e[n];void 0!==r._id&&R()().isBefore(r.expiresOn)&&t.push(o.a.createElement(zi,{key:"".concat(r._id),value:r._id},r.name))}return t},a.getPatientCards=function(){var e=a.state.program,t=Object(v.a)(Object(v.a)(a)),n=t.handleCardSelect,r=t.handleCardDeSelect,s=a.props,i=s.selectedPatients,l=s.programs,c=s.users,d=void 0===c?{}:c,m=s.hospitals,u=void 0===m?{}:m,p=s.article,f=void 0===p?{}:p,h=s.currentUser,g=(l[e]||{}).patients,b=void 0===g?[]:g,E=f.participants,y=Object.keys(E),N=[];return b.forEach(function(e){var t=d[e]||{},a=Object(Sn.a)({users:d,hospitals:u,currentUser:h,patient:t}),s=t.basicInfo,l=(s=void 0===s?{}:s)._id,c=t.status,m=!1,p=!1;i.length>0&&i.includes(l)&&(m=!0),y.length>0&&y.includes(l)&&(m=!0,p=!0),l&&c===oe.E.ENROLLED&&N.push(o.a.createElement(jn,{key:l,data:a,onPatientCardSelect:n,onPatientCardDeselect:r,className:"full-width i",selectedPatient:i,handleOnClick:!1,checkbox:m,disabled:p}))}),N},a.state={query:"",program:""},a.onSearch=Object(yn.a)(a.onSearch.bind(Object(v.a)(Object(v.a)(a))),1e3),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchProgramsData)()}},{key:"onSearch",value:function(e){this.setState({query:e},this.fetchPatientList)}},{key:"render",value:function(){var e=this.props,t=e.selectedPatients,a=void 0===t?[]:t,n=e.deselectAll,r=e.programs,s=void 0===r?{}:r,i=e.users,l=void 0===i?{}:i,d=e.article,m=(d=void 0===d?{}:d).participants,u=void 0===m?{}:m,p=this.getProgramsOption,f=this.getPatientCards,h=this.handleOnProgramSelect,v=this.handleSearchChange,g=this.handleSelectAll,b=(s[this.state.program]||{}).patients,E=void 0===b?[]:b,y=Object.keys(u),N=E.filter(function(e){return!(y.length>0&&y.includes(e))&&(l[e]||{}).status===oe.E.ENROLLED}),k=a.length,C=N.length;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"full-width mt8 mb8"},o.a.createElement("div",{className:"relative"},o.a.createElement(x.a,{className:"full-width",placeholder:"Select program",suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrow-img-program-select"}),onChange:h,getPopupContainer:this.getParentNode},p()))),o.a.createElement("div",{className:"mt8 mb8  full-width"},o.a.createElement("div",{className:"mt16 mb16 flex justify-content-space-between align-items-center"},C>0&&o.a.createElement("div",{className:"flex justify-content-start align-items-center medium fontsize16 dark"},"".concat(k," of ").concat(C," patients selected")),o.a.createElement("div",{className:"flex justify-content-end align-items-center"},k>0&&o.a.createElement("div",{className:"dark clickable ml8 mr8",onClick:n},"Deselect all"),k!==C&&o.a.createElement("div",{className:"dark clickable",onClick:g},"Select all"))),o.a.createElement(S.a,{className:"",placeholder:"Search patients",onChange:v,prefix:o.a.createElement("img",{alt:"",src:Ut.a,className:"search-icons"})}),o.a.createElement(O.a,{gutter:16,className:"w100 pt16"},f())))}}]),t}(c.Component),Bi=Object(y.d)(Fi),Li=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.isSaveDisabled=function(){return a.state.patients.length<=0},a.handleCancel=function(e){e&&e.preventDefault(),(0,a.props.close)()},a.onShare=function(e){e.preventDefault();var t=a.props,n=t.share,r=t.articleId,s=t.fetchArticle;n({participants:a.state.patients,articleId:r}).then(function(e){e.status&&s(r)}).catch(function(e){})},a.deselectAll=function(){a.setState({patients:[]})},a.selectAll=function(e){var t=a.props,n=t.users,r=t.article.participants,s=void 0===r?{}:r,i=Object.keys(s),l=e.filter(function(e){return!(i.length>0&&i.includes(e))&&(n[e]||{}).status===oe.E.ENROLLED});a.setState({patients:l})},a.handleCheck=function(e,t){var n=a.state.patients;e?a.setState({patients:Object(_i.a)(n).concat([t])}):a.setState({patients:n.filter(function(e){return e!==t})})},a.footer=function(){var e=Object(v.a)(Object(v.a)(a)),t=e.formatMessage,n=e.handleCancel,r=e.isSaveDisabled,s=e.onShare;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"flex align-items-center justify-content-end h72px mr24 ml24"},o.a.createElement("div",{className:"flex align-items-center justify-content-end"},o.a.createElement(C.a,{className:"iqvia-btn cancel mr8",onClick:n},t(Ri.cancel)),o.a.createElement(C.a,{type:"primary iqvia-btn",onClick:s,disabled:r()},t(Ri.save)))))},a.state={patients:[]},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.change_password_error,n=e.is_changing_password_error,r=void 0!==n&&n,s=this.deselectAll,i=this.selectAll,l=this.handleCheck,c=this.state.patients;if(!t)return null;var d={visible:t,title:"Share with Patients",onCancel:this.handleCancel,wrapClassName:"m global-modal full-height",destroyOnClose:!0,bodyStyle:{height:"100%"},width:"100%",footer:(0,this.footer)()};return o.a.createElement(M.a,d,o.a.createElement("div",{className:"pl48 pr24 h100 overflow auto"},o.a.createElement(Bi,Object.assign({},this.props,{selectedPatients:c,handleCheck:l,selectAll:i,deselectAll:s})),r&&o.a.createElement("div",{className:"w100 absolute flex row align-items-center justify-content-start",style:{backgroundColor:"#fff8f5",bottom:"70px",height:"40px",marginLeft:"-48px"}},o.a.createElement("div",{style:{display:"block",width:"13px",marginLeft:"24px",textAlign:"center"}},o.a.createElement("img",{alt:"",src:ee.a,className:"w100",style:{display:"block"}})),o.a.createElement("div",{className:"fontsize12 medium warning-color ml8"},a.message))))}}]),t}(c.Component),Hi=Object(y.d)(Li),Vi=Object(Z.b)(function(e){var t=e.modal,a=t.show,n=t.modalType,r=t.entityId,s=e.auth,i=e.programs,l=e.users,c=e.hospitals,o=e.articles,d=Object(Ia.c)(),m=Object(Di.a)();return{show:a&&n===oe.n.ARTICLE_SHARE_TO_PATIENTS,programs:i,currentUser:d(l,s.authenticated_user),users:l,hospitals:c,articleId:r,article:m(o,r)}},function(e){return{close:function(){return e(Object(Ta.g)())},share:function(t){return e(Object(Ci.k)(t))},fetchProgramsData:function(){return e(Object(yr.k)())},fetchPatient:function(t,a){return e(Object(yr.i)(t,null,null,{q:a}))},fetchArticle:function(t){return e(Object(Ci.i)(t))}}})(Hi),Yi=(a(1451),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.fetchData=Object(T.a)(P.a.mark(function e(){var t,n;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.fetchData,e.prev=1,e.next=4,t();case 4:n=e.sent,n.status&&a.setState({loading:!1}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}},e,this,[[1,9]])})),a.getTitle=function(){var e=a.props.article,t=e.title,n=e.timeToRead,r=e.createdAt,s=e.views,i=void 0===s?[]:s,l=e.isFavourite,d=Object(v.a)(Object(v.a)(a)),m=d.onShare,u=d.onLike,p=R()(r).format("DD MMM YYYY"),f="".concat(n," min read"),h="".concat(i.length," views");return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"flex justify-content-space-between pb16 article-title"},o.a.createElement("div",{className:"flex column"},o.a.createElement("div",{className:"bold fontsize22 dark"},o.a.createElement(Rs.a,{text:t,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),o.a.createElement("div",{className:"flex align-items-center"},o.a.createElement("div",{className:"fontsize12 subdued mr4"},p),o.a.createElement("div",{className:"dot silver mr4"}),o.a.createElement("div",{className:"fontsize12 subdued mr4"},f),o.a.createElement("div",{className:"dot silver mr4"}),o.a.createElement("div",{className:"fontsize12 subdued mr4"},h))),o.a.createElement("div",{className:"mr8 ml8 flex justify-content-end"},o.a.createElement("div",{className:"like mr8"},o.a.createElement("img",{alt:"",onClick:u,src:l?Ti.a:Ai.a,className:"like clickable"})),o.a.createElement("div",{className:"share"},o.a.createElement("img",{alt:"",src:xi.a,className:"share clickable",onClick:m}))),o.a.createElement("div",{className:"pb16 vl"})),o.a.createElement(Vi,null))},a.getDescription=function(){var e=a.props.article,t=(e=void 0===e?{}:e).description;return o.a.createElement("div",{className:"dark fontsize14 mt8 mb8"},t)},a.getSource=function(){var e=a.props.article,t=(e=void 0===e?{}:e).url;return o.a.createElement("div",{className:"mt30 mb16 pb16 flex"},o.a.createElement("div",{className:" subdued mr4 "},a.formatMessage(vi.source)),o.a.createElement("div",{className:"flex-1"},o.a.createElement("a",{className:"dark medium full-width word-break-break-all",href:t},t)))},a.onShare=function(e){e.preventDefault(),(0,a.props.shareArticle)()},a.onLike=function(e){e.preventDefault(),(0,a.props.makeFavouriteUnfavourite)()},a.viewShareWith=function(e){e.preventDefault(),(0,a.props.shareWith)()},a.state={loading:!0},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e,t){var a=e.articleId;this.props.articleId!==a&&this.fetchData()}},{key:"render",value:function(){var e=this.state.loading,t=this.getTitle,a=this.getDescription,n=this.getSource,r=this.viewShareWith,s=this.props,i=s.article,l=void 0===i?{}:i,d=s.users,m=void 0===d?{}:d,u=s.currentUser,p=void 0===u?{}:u;return o.a.createElement(c.Fragment,null,!1===e&&o.a.createElement("div",{className:"article"},o.a.createElement("div",{className:"article-content"},t(),a(),n()),o.a.createElement("div",{className:"article-footer g-footer"},o.a.createElement(Mi,{article:l,shareWith:r,users:m,currentUser:p}))))}}]),t}(c.Component)),Ui=Object(y.d)(Yi),qi=Object(wa.a)(Object(Z.b)(function(e){return{articles:e.articles,users:e.users,auth:e.auth}},function(e){return{fetchData:function(t){return function(){return e(Object(Ci.i)(t))}},shareArticle:function(t){return function(){return e(Object(Ta.i)(oe.n.ARTICLE_SHARE_TO_PATIENTS,t,null,{}))}},shareWith:function(t){return function(){return e(Object(Ta.i)(oe.n.ARTICLE_SHARE_WITH,t,null,{}))}},makeFavouriteUnfavourite:function(t){return function(){return e(Object(Ci.j)(t))}}}},function(e,t,a){var n=a.articleId,r=e.articles,s=e.users,i=e.auth.authenticated_user,l=t.fetchData,c=t.shareArticle,o=t.shareWith,d=t.makeFavouriteUnfavourite,m=Object(Di.a)(),u=Object(Ia.c)(),p=m(r,n),f=d({articleId:n,isFavourite:!p.isFavourite});return Object(At.a)({article:p,fetchData:l(n),shareArticle:c(n),shareWith:o(n),users:s,currentUser:u(s,i),makeFavouriteUnfavourite:f},a)})(Ui)),Gi=a(783),Wi=Object(wa.a)(function(e){var t=e.articleData,a=t.title,n=t.description,r=t.views,s=t.timeToRead,i=t.isFavourite,l=t.createdAt,c=t._id,d=e.makeFavouriteUnfavourite,m=e.history,u=r?r.length:0;return o.a.createElement(On.a,{key:c,xs:12,sm:12,md:6,lg:6},o.a.createElement("div",{className:"article-card mr16 mb16"},o.a.createElement("div",{className:"card-content"},o.a.createElement("div",{className:"flex justify-content-space-between"},o.a.createElement("div",{className:"fontsize14 bold dark mb8 mr8 clickable",onClick:function(e){e.preventDefault(),m.push(Object(Gi.a)(c))}},o.a.createElement(Rs.a,{text:a,maxLine:"1",ellipsis:"...",trimRight:!0,basedOn:"letters"})),o.a.createElement("div",{className:"icon-fevourite clickable",onClick:function(e){e.stopPropagation(),d()}},o.a.createElement("img",{alt:"",src:i?Ti.a:Ai.a,className:"fevourite-icons"}))),o.a.createElement("div",null,o.a.createElement(Rs.a,{text:n,maxLine:"2",ellipsis:"...",trimRight:!0,basedOn:"letters"})),o.a.createElement("div",{className:"fontsize12 label-color mt8"},R()(l).format("DD/MM/YYYY"),o.a.createElement("span",{className:"pull-right"},s," min read ",o.a.createElement("span",{className:"dot dark ml5 mr5 mt8"})," ",u," views")))))}),Qi=Object(wa.a)(Object(Z.b)(function(e){return{articles:e.articles}},function(e){return{makeFavouriteUnfavourite:function(t){return function(){return e(Object(Ci.j)(t))}}}},function(e,t,a){var n=a.id,r=e.articles,s=r[n],i=!r[n].isFavourite;return{articleData:s,makeFavouriteUnfavourite:(0,t.makeFavouriteUnfavourite)({articleId:n,isFavourite:i})}})(Wi)),Ki=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.recommendedArticles,t=void 0===e?[]:e;return o.a.createElement(c.Fragment,null,t.map(function(e){var t=e._id;return o.a.createElement(Qi,{key:t,id:t})}))}}]),t}(c.Component),Xi=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.favoriteArticles,t=void 0===e?[]:e;return o.a.createElement(c.Fragment,null,t.map(function(e){var t=e._id;return o.a.createElement(Qi,{key:t,id:t})}))}}]),t}(c.Component),Ji=Object(y.c)({articleTitle:{id:"Article.dashboard.article",defaultMessage:"Dashboard"},sortBy:{id:"Article.dashboard.sortBy",defaultMessage:"Sort By"},dateAdded:{id:"Article.dashboard.sort.dateAdded",defaultMessage:"Date Added"},name:{id:"Article.dashboard.sort.name",defaultMessage:"Name"},popular:{id:"Article.dashboard.sort.popular",defaultMessage:"Most Popular"}}),Zi=(a(1453),x.a.Option),$i=ir.a.TabPane,el=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).pushFilteredArticles=function(e){var t=[],n=[];e.map(function(e){e.isFavourite?n.push(e):t.push(e)}),a.setState({recommendedArticles:t,favoriteArticles:n})},a.handleGoBack=function(e){e.preventDefault(),a.props.history.goBack()},a.handleOnClickArticle=function(e){},a.handleOnTabChange=function(e){e===oe.d.RECOMMENDED?a.setState({currentTab:oe.d.RECOMMENDED}):a.setState({currentTab:oe.d.FAVOURITES})},a.state={currentTab:"Recommended",recommendedArticles:[],favoriteArticles:[],sortBy:""},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchArticles)()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.articles!==e.articles){var a=this.props.articles;a=Object.values(a),this.pushFilteredArticles(a)}}},{key:"render",value:function(){var e=this.props.intl.formatMessage,t=this.state,a=t.currentTab,n=t.recommendedArticles,r=t.favoriteArticles,s=this.handleOnClickArticle,i=this.handleGoBack;return o.a.createElement("div",{className:"articles"},o.a.createElement("div",{className:"articles-content"},o.a.createElement(O.a,{gutter:8},o.a.createElement(k.a,{xs:12,xm:12,md:6,lg:6},o.a.createElement("div",{className:""},o.a.createElement("div",{className:"fontsize22 dark bold"},"Articles"))),o.a.createElement(k.a,{xs:12,xm:12,md:6,lg:6},o.a.createElement("div",{className:"sortBy flex align-items-center mr8"},o.a.createElement("div",{className:"fontsize14 bold dark pl8 "},e(Ji.sortBy)),o.a.createElement(x.a,{optionFilterProp:"children",suffixIcon:o.a.createElement("img",{alt:"",src:Te.a,className:"arrow-img"}),defaultValue:"Date Added",className:"flex align-items-center flex-1",onChange:this.handleSortBy},o.a.createElement(Zi,{key:"1"},e(Ji.dateAdded)),o.a.createElement(Zi,{key:"2"},e(Ji.popular)),o.a.createElement(Zi,{key:"3"},e(Ji.name)))))),o.a.createElement("div",{className:"mt40"},o.a.createElement(ir.a,{className:"tabstitle fontsize14 w100",defaultActiveKey:"Recommended",tabBarStyle:{color:"#7f888d",fontFamily:"AvenirNext-Medium"},activeKey:a,onChange:this.handleOnTabChange},o.a.createElement($i,{tab:"Recommended (".concat(n.length,")"),key:"Recommended",className:"tabscontent flex"},o.a.createElement(O.a,{gutter:8,className:"w100"},o.a.createElement(Ki,Object.assign({},this.props,{handleOnClick:s,recommendedArticles:n})))),o.a.createElement($i,{tab:"Favourites (".concat(r.length,")"),key:"Favourites",className:"tabscontent flex"},o.a.createElement(O.a,{gutter:8,className:"w100"},o.a.createElement(Xi,Object.assign({},this.props,{handleOnClick:s,favoriteArticles:r}))))))),o.a.createElement("div",{className:"articles-footer g-footer"},o.a.createElement("div",{className:"flex justify-content-space-between h100 full-width"},o.a.createElement("div",{className:"flex align-items-center"},o.a.createElement("div",{className:"back mr8"},o.a.createElement("img",{alt:"",src:ca.a,className:"back clickable",onClick:i})),o.a.createElement("div",{className:"ml8 mr4 dark fontsize12"},e(Ji.articleTitle))))))}}]),t}(c.Component),tl=Object(y.d)(el),al=Object(wa.a)(Object(Z.b)(function(e){return{articles:e.articles}},function(e){return{fetchArticles:function(){return e(Object(Ci.h)())}}})(tl)),nl=function(e){var t=e.match,a=(t=void 0===t?{}:t).params,n=(a=void 0===a?{}:a).articleId;return n?o.a.createElement(qi,{articleId:n}):o.a.createElement(ln.a,null)},rl=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(N.a,null),o.a.createElement(m.a,null,o.a.createElement(p.a,{exact:!0,path:oe.H.ARTICLE.ROOT,component:al}),o.a.createElement(p.a,{exact:!0,path:oe.H.ARTICLE.DETAILS,component:nl}),o.a.createElement(p.a,{path:"",component:ln.a})))}}]),t}(c.Component),sl=a(274),il=a(862),ll=(a(1455),a(388)),cl=a.n(ll),ol=a(389),dl=a.n(ol),ml=a(390),ul=a.n(ml),pl=a(391),fl=a.n(pl),hl=a(392),vl=a.n(hl),gl=a(393),bl=a.n(gl),El=a(398),yl=a.n(El),Nl=o.a.createElement("img",{className:"icons",alt:"",src:cl.a}),Ol=o.a.createElement("img",{className:"icons",alt:"",src:dl.a}),kl=o.a.createElement("img",{className:"icons",alt:"",src:ul.a}),Cl=o.a.createElement("img",{className:"icons",alt:"",src:fl.a}),Dl=o.a.createElement("img",{className:"icons",alt:"",src:vl.a}),jl=o.a.createElement("img",{className:"icons",alt:"",src:bl.a}),Sl=o.a.createElement("img",{className:"icons",alt:"",src:yl.a}),Ml=il.a.Item,wl=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).myHandler=function(){var e=document.getElementById("history-body"),t=e.scrollTop/(e.scrollHeight-e.clientHeight),n=a.state.end;if(1===t&&!n){var r=a.state.lastDate;a.fetchAppointmentsHistory(r)}},a.fetchAppointmentsHistory=function(e){var t=a.props.fetchAppointmentsHistory;a.setState({loading:!0}),t(e).then(function(e){var t=e.status,n=e.payload.data,r=(n=void 0===n?{}:n).historyIds;!0===t&&0===(void 0===r?[]:r).length?a.setState({loading:!1,end:!0}):!0===t?a.setState({loading:!1}):!1===t&&a.setState({loading:!1})})},a.getDifference=function(e,t){var a=Rr.a.differenceInMinutes(Rr.a.parse(t),Rr.a.parse(e));return a>60?a=Rr.a.differenceInHours(Rr.a.parse(t),Rr.a.parse(e))+" hr":a>0&&a<=60?a+=" min":a=null,a},a.renderIcon=function(e,t){switch(e){case oe.k.ACTIVITY_MODE.CALL:return t===oe.k.STATUS.PENDING||t===oe.k.STATUS.COMPLETED?kl:Cl;case oe.k.ACTIVITY_MODE.VISIT:return t===oe.k.STATUS.PENDING||t===oe.k.STATUS.COMPLETED?Nl:Ol;case oe.k.ACTIVITY_MODE.CHAT:return t===oe.k.STATUS.PASSED?jl:Dl;default:return Sl}},a.renderTimeLineItems=function(e){var t=a.props.id,n=e.data,r=n.participantOne,s=n.participantTwo,i=t&&r===t?s:r,l=i===t?" (You)":"",d=a.props.users,m=((void 0===d?{}:d)[i]||{}).basicInfo,u=(m=void 0===m?{}:m).profilePicLink,p=m.name,f=m.category,h=Rr.a.format(Rr.a.parse(e.startTime),"h:mm A"),v=e.startTime&&e.endTime?a.getDifference(e.startTime,e.endTime):null,g=e.data.activityMode,b=e.status,E=a.renderIcon(g,b),y=g.charAt(0).toUpperCase()+g.slice(1),N=f===oe.D.CARE_COACH?"Coach":f===oe.D.DOCTOR?"Doctor":"Patient";return o.a.createElement(c.Fragment,{key:e.id},o.a.createElement(Ml,{className:"time",dot:E},h,", ",v,o.a.createElement("div",{className:"activity-name"},N," ",y," ","  ",o.a.createElement("span",{className:"coach-avatar"},o.a.createElement(sl.a,{src:u}),p," ",l))))},a.renderEvents=function(){var e=void 0!==a.props.events?a.props.events.historyIds:{},t=void 0!==a.props.events?a.props.events.events:{},n=void 0!==a.props.events?a.props.events.appointmentHistory:{},r=[],s=[];for(var i in e){var l=Object(_i.a)(n[e[i]]).reverse(),d=Rr.a.format(Rr.a.parse(e[i]),"D MMM YYYY, dddd");s=[],r.push(o.a.createElement(c.Fragment,{key:d},o.a.createElement(Ml,{className:"main-date",dot:o.a.createElement("div",{className:"blue-dot"})},d),l.forEach(function(e){s.push(a.renderTimeLineItems(t[e]))}),s))}return r},a.renderEvents=a.renderEvents.bind(Object(v.a)(Object(v.a)(a))),a.state={lastDate:R()(),loading:!1,end:!0},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){document.getElementById("history-body").addEventListener("scroll",this.myHandler),this.fetchAppointmentsHistory()}},{key:"componentDidUpdate",value:function(e,t){if(this.props.events.historyIds!==e.events.historyIds){var a=this.props.events.historyIds,n=void 0===a?[]:a;if(n&&n.length>0){var r=n[n.length-1];this.setState({lastDate:r})}}}},{key:"render",value:function(){var e=this.state.loading;return o.a.createElement("div",{className:"history",id:"history"},o.a.createElement("div",{className:"history-title"},"My Appointments History"),o.a.createElement("div",{id:"history-body"},o.a.createElement(il.a,{className:"time-line"},this.renderEvents()),e&&o.a.createElement("div",null," ",o.a.createElement(w.a,{type:"loading",className:"ml10 dark pb10"}),o.a.createElement("span",{className:"dark ml8"},"Loading"))))}}]),t}(c.Component),Al=Object(Z.b)(function(e){return{events:e.events,users:e.users}},function(e){return{fetchAppointmentsHistory:function(t){return function(a){return e(Object(xr.v)(t,a))}}}},function(e,t,a){var n=a.userId,r=e.users,s=e.events;return{fetchAppointmentsHistory:(0,t.fetchAppointmentsHistory)(n),events:s,users:r,userId:n}})(wl),Pl=a(338),Tl=(a(524),Je.a.Item),Il=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).toggleHistory=function(){a.props.toggleHistory()},a.goBack=function(){a.props.goBack()},a.openAddAppointment=function(){a.props.openAddAppointment()},a.selectMenu=function(e){var t=e.key;a.props.selectMenu(t)},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.showHistory,a=e.currentTab,n=e.showCalendar,r=e.userData,s=(void 0===r?{}:r).basicInfo,i=(s=void 0===s?{}:s).category;return o.a.createElement("div",{className:"patient-details-footer"},!t&&o.a.createElement(c.Fragment,null,"calendar"===a&&n&&o.a.createElement("div",{className:"appointment-history-button",onClick:this.toggleHistory},"View Appointment History"),i!==oe.D.DOCTOR&&n&&o.a.createElement("div",{className:"menu-selection menu-black"},o.a.createElement(Je.a,{selectedKeys:[a],mode:"horizontal",onClick:this.selectMenu},o.a.createElement(Tl,{key:"calendar"},"Calendar"),o.a.createElement(Tl,{key:"Medical-Details"},"Medical Details")))),o.a.createElement("div",{className:"nav-bar"},o.a.createElement("div",{className:"nav-bar-left"},o.a.createElement("div",{className:"arrow-wrapper"},o.a.createElement(w.a,{type:"arrow-left",onClick:t?this.toggleHistory:this.goBack})),o.a.createElement("div",{className:"text"},t?"Patient Details":"All Programs")),!t&&o.a.createElement("div",{className:"nav-bar-right"},o.a.createElement(C.a,{type:"primary",className:"button-text",onClick:this.openAddAppointment},"Add Appointment/Reminder"))))}}]),t}(c.Component),xl="calendar",_l=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).goBack=function(){a.props.history.goBack()},a.toggleHistory=function(){a.setState(function(e){return{showHistory:!e.showHistory}})},a.selectMenu=function(e){a.setState({currentTab:e})},a.openVerificationModal=function(){var e=a.props;(0,e.openDocumentsVerification)(e.userId)},a.openAddAppointment=function(){},a.state={userId:null,isLoading:!0,showHistory:!1,currentTab:xl},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.userId;this.setState({userId:t}),this.props.fetchUser(t).then(function(){e.setState({isLoading:!1})})}},{key:"render",value:function(){var e=this.props,t=e.userId,a=e.userData,n=void 0===a?{}:a,r=e.medicalsData,s=(r=void 0===r?{}:r).basicCondition,i=(s=void 0===s?{}:s).chiefComplaint,l=e.countrySelector,d=e.citySelector,m=e.showCalendar,u=n.basicInfo,p=(u=void 0===u?{}:u).profilePicLink,f=void 0===p?Cn.a:p,h=u.name,v=n.personalInfo,g=(v=void 0===v?{}:v).dob,b=v.gender,E=v.homeAddress,y=void 0===E?{}:E,N=null!==g?R()().diff(g,"years",!1):"",O=y.addressLine1,k=void 0===O?"":O,C=y.addressLine2,D=void 0===C?"":C,j=y.city,S=void 0!==j&&j,M=y.country,w=void 0!==M&&M,A=w?l(w):"",P=S?d(w,S):"",T=this.state,I=T.isLoading,x=T.showHistory,_=T.currentTab;return console.log("---- Patient Details Page Props ----",this.props),o.a.createElement(c.Fragment,null,I&&o.a.createElement("div",{className:"loading"},o.a.createElement(Pl.a,null)),o.a.createElement("div",{className:"patient-details-body hide-scroll"},!I&&o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"profile-info"},o.a.createElement("div",{className:"profile-brief"},o.a.createElement("div",{className:"display-picture"},o.a.createElement("img",{alt:"",src:f,className:"display-picture"})),o.a.createElement("div",{className:"brief-section"},o.a.createElement("div",{className:"fontsize22 main-text"},h," (",N," ",b,")"),i&&o.a.createElement("div",{className:"fontsize14 chief-complaint"},i),y&&o.a.createElement("div",{className:"fontsize12 address"},k,",",D,",",P,",",A))),o.a.createElement("div",{className:"view-profile-button",onClick:this.openVerificationModal},"View Profile")),!x&&_===xl&&m&&o.a.createElement(bs,Object.assign({},this.props,{calendarUserId:t})),x&&_===xl&&m&&o.a.createElement(Al,{userId:t}))),o.a.createElement(Il,Object.assign({showHistory:x,currentTab:_},this.props,{toggleHistory:this.toggleHistory,selectMenu:this.selectMenu,openAddAppointment:this.openAddAppointment,goBack:this.goBack})))}}]),t}(c.Component),Rl=a(67),zl=Object(wa.a)(Object(Z.b)(function(e){var t=e.users,a=e.medicals,n=e.countryCities,r=e.auth,s=e.page,i=(s=void 0===s?{}:s).patientProfile,l=void 0===i?{}:i,c=Object(Ia.c)(),o=Object(xa.a)(),d=Object(rn.a)(),m=Object(rn.b)();return{userData:c(t,l.id),medicalsData:o(a,l.id),countrySelector:function(e){return m(n,e)},citySelector:function(e,t){return d(n,e,t)},is_loading:l.is_loading,is_data_loaded:l.is_data_loaded,country_city:n,auth:r,users:t}},function(e){return{fetchUser:function(t){return e(Object(Js.b)(t))},fetchDoctor:function(t){return e(Object(Rl.b)(t))},addEditAppointmentReminder:function(t,a,n){return e(Object(Ta.i)(oe.n.EVENT_MODAL,t,n,{userId:a}))},openDocumentsVerification:function(t){return e(Object(Ta.i)(oe.n.DOCUMENTS_MODAL,t))}}},function(e,t,a){var n=a.id,r=a.history,s=a.match,i=e.users,l=e.auth.authenticated_user,c=e.citySelector,o=e.countrySelector,d=i[l],m=i[n],u=d.basicInfo.category===oe.D.CARE_COACH;return Object(At.a)({userId:n,viewer:d,history:r,match:s,users:i,userData:m,citySelector:c,countrySelector:o,showCalendar:u},t)})(_l)),Fl=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.match.params.id;return o.a.createElement(c.Fragment,null,o.a.createElement(N.a,null),o.a.createElement("div",{className:"patient-details-wrapper"},o.a.createElement(zl,{id:e})),o.a.createElement(ya,{className:"profile-success-msg"}))}}]),t}(c.Component),Bl=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(m.a,null,o.a.createElement(p.a,{exact:!0,strict:!0,path:oe.H.ENTITY.EDIT_PROFILE,render:function(e){return o.a.createElement(za,e)}}),o.a.createElement(p.a,{exact:!0,path:oe.H.ENTITY.PROFILE,render:function(e){return o.a.createElement(Fl,e)}}),o.a.createElement(p.a,{exact:!0,path:"".concat(oe.H.ENTITY.PROFILE,"/:contentIs"),render:function(e){return o.a.createElement(Fl,e)}}),o.a.createElement(p.a,{path:"",component:ln.a})))}}]),t}(c.Component),Ll=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(m.a,null,o.a.createElement(p.a,{exact:!0,path:oe.H.ENTITY.PROFILE,component:Fl}),o.a.createElement(p.a,{exact:!0,path:oe.H.ENTITY.EDIT_PROFILE,component:za}),o.a.createElement(p.a,{path:"",component:ln.a})))}}]),t}(c.Component),Hl=(a(784),Object(y.c)({questionnairePreview:{id:"app.surveyDetail.questionnairePreview",defaultMessage:"Questionnaire Preview"},questions:{id:"app.surveyDetail.questions",defaultMessage:"Questions"},toComplete:{id:"app.surveyDetail.toComplete",defaultMessage:"to complete"}})),Vl=function(e){function t(){return Object(n.a)(this,t),Object(s.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleGoBack,a=e.surveytemplates,n=void 0===a?[]:a,r=this.props.match.params.templateId,s="";n[r]&&(s=n[r].title);return o.a.createElement("div",{className:"profileHead"},o.a.createElement("div",{className:"back-location flex align-items-center"},o.a.createElement("img",{alt:"",src:ca.a,className:"backButton clickable mr16",onClick:t}),o.a.createElement("span",{className:"ml16"},"All Surveys"),o.a.createElement("span",{className:"previousLocation ml16"},s)))}}]),t}(c.Component),Yl=Object(y.d)(Vl),Ul=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).handleGoBack=function(e){e.preventDefault(),a.props.history.goBack()},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchQuestions;(0,e.fetchSurveyTemplates)();var a=this.props.match.params.templateId;Object(Pt.a)(a)||(this.setState({templateId:a},this.updateBrowserhistory),t(a))}},{key:"render",value:function(){var e=this.props,t=e.questions,a=e.surveytemplates,n=void 0===a?[]:a,r=e.intl.formatMessage,s=this.props.match.params.templateId,i=[],l="",d="",m=0,u=!1;if(n[s]){var p=n[s],f=p.questions,h=p.description,v=p.time_to_complete,g=p.title,b=p.createdAt;d=g,i=f,l=h,m=v;var E=R()().diff(b,"days",!0);E>=0&&E<=7&&(u=!0)}return o.a.createElement(c.Fragment,null,o.a.createElement(N.a,null),o.a.createElement("div",{className:"survey-content-wrapper"},o.a.createElement("div",{className:"survey-content mt24"},o.a.createElement(Rs.a,{text:d?d.length<100?d:d.substr(0,100)+"...":"",maxLine:"2",className:"fontsize18 dark medium mb8",ellipsis:"...",trimRight:!0,basedOn:"letters"}),u&&o.a.createElement("div",{className:u?"newSurvey mb16":""},"New"),o.a.createElement("div",{className:"fontsize18 bold dark "},r(Hl.questionnairePreview)),o.a.createElement("div",{className:"fonstsize12 dark mb8"},i.length," ",r(Hl.questions)," \u2022"," ",m," ",r(Hl.toComplete)),o.a.createElement("div",{className:"fontsize14 dark mb24"},l),!Object(Pt.a)(t)&&t.map(function(e,t){var a=e._id;return o.a.createElement(c.Fragment,{key:a},o.a.createElement(ar,{data:e,displayType:"readonly",index:t}))})),o.a.createElement(Yl,Object.assign({handleGoBack:this.handleGoBack},this.props))))}}]),t}(c.Component),ql=Object(y.d)(Ul),Gl=Object(wa.a)(Object(Z.b)(function(e){var t=e.programs,a=e.users,n=e.auth,r=e.hospitals,s=e.surveytemplates,i=e.surveys,l=e.page,c=(l=void 0===l?{}:l).createSurvey,o=void 0===c?{}:c;return{user_data:Object(Ia.c)()(a,n.authenticated_user),users:a,programs_data:t,hospitals_data:r,surveytemplates_data:s,questions:o.questions,surveytemplates:s,surveys:i}},function(e){return{fetchQuestions:function(t){return e(Object(Nr.c)(t))},fetchSurveyTemplates:function(){return e(Object(Or.c)())}}})(ql)),Wl=(a(525),a(526)),Ql=a.n(Wl),Kl=function(e){var t=e.data,a=e.handleOnClick;return o.a.createElement(On.a,{key:t.title,xs:12,sm:12,md:6,lg:6},o.a.createElement(Nn.a,{className:"doctor clickable",key:t.title,onClick:function(e){return a(oe.j.DOCTOR,t.id)}},o.a.createElement("div",null,o.a.createElement("div",{className:"flex align-items-center"},o.a.createElement("img",{alt:"",src:t.profilePicLink||Cn.a,className:"patientDp mr16"}),o.a.createElement("div",{className:"dark patientInfo"},t.title)),o.a.createElement("div",null,o.a.createElement("ul",{className:"doctors"},o.a.createElement("li",null,o.a.createElement("span",{className:"fontsize12 dark"},t.hospital)))))))},Xl=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).dischargePatient=function(e){e.preventDefault();var t=a.props,n=t.dischargePatient,r=t.patientSelectedForDischarge,s=t.disableDischargeBar;n(r),s()},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.disableDischargeBar,a=e.patientSelectedForDischarge,n=this.dischargePatient;return o.a.createElement("div",{className:"discharge-bar"},o.a.createElement("div",{className:"discharge-text"},o.a.createElement("div",{className:"image clickable",onClick:function(){t()}},o.a.createElement("img",{alt:"minus",src:dn.a})),o.a.createElement("div",{className:"text"},a.length," Patient",a.length>1?"s(s) selected":" selected")),o.a.createElement(C.a,{className:"warning",onClick:n},"Discharge"))}}]),t}(c.Component),Jl=a(527),Zl=a(676),$l=a.n(Zl),ec=x.a.Option,tc=ir.a.TabPane,ac=Je.a.Item,nc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).showDischargeBarToggle=function(){var e=a.state.patientSelectedForDischarge;a.setState({showDischarge:e.length>0,uncheckAll:e.length<1})},a.disableDischargeBar=function(){a.setState({showDischarge:!1,uncheckAll:!0,patientSelectedForDischarge:[]})},a.filterUser=function(e){var t=a.state.query,n=e.basicInfo,r=(n=void 0===n?{}:n).name,s=void 0===r?"":r;return new RegExp("("+t+")","gi").test(s)},a.filterUserData=function(){var e=a.state,t=e.patientDischarged,n=void 0===t?[]:t,r=e.patientEnrolled,s=void 0===r?[]:r,i=e.patientInactive,l=void 0===i?[]:i,c=e.doctorData,o=void 0===c?[]:c,d=Object(v.a)(Object(v.a)(a)).filterUser;a.setState({patientDischarged:n.filter(function(e){return d(e)}),patientEnrolled:s.filter(function(e){return d(e)}),patientInactive:l.filter(function(e){return d(e)}),doctorData:o.filter(function(e){return d(e)})}),console.log(n,s,l,o)},a.onSearchTextChange=function(e){e.preventDefault(),a.handleSearch(e.target.value)},a.onPatientCardSelect=function(e){var t=a.state.patientSelectedForDischarge;t.push(e),a.setState({patientSelectedForDischarge:t,uncheckAll:!1})},a.onPatientCardDeselect=function(e){var t=a.state.patientSelectedForDischarge,n=t.indexOf(e);t.splice(n,1),a.setState({patientSelectedForDischarge:t,uncheckAll:t<1})},a.sortResults=function(e){var t=a.state.currentFilterType,n=a.props,r=n.countrySelector,s=n.citySelector;switch(t){case oe.b.NAME:return e.filter(function(e){return a.filterUser(e)}).sort(function(e,t){var a=e.basicInfo.name.toLowerCase(),n=t.basicInfo.name.toLowerCase();return a<n?-1:a>n?1:0});case oe.b.LOCATION:return e.filter(function(e){return a.filterUser(e)}).sort(function(e,t){var a=e.personalInfo,n=(a=void 0===a?{}:a).homeAddress,i=(n=void 0===n?{}:n).city,l=n.country,c=t.personalInfo,o=(c=void 0===c?{}:c).homeAddress,d=(o=void 0===o?{}:o).city,m=o.country,u=r(l),p=s(l,i),f=r(m),h=s(m,d),v=u&&null!==u?u.toLowerCase():"",g=f&&null!==f?f.toLowerCase():"",b=p&&null!==p?p.toLowerCase():"",E=h&&null!==h?h.toLowerCase():"";if(v<g)return-1;if(v>g)return 1;if(v===g){if(b<E)return-1;if(b>E)return 1}return 0});case oe.b.DATE_ADDED:return e.filter(function(e){return a.filterUser(e)}).sort(function(e,t){return R()(e.basicInfo.createdAt).diff(t.basicInfo.createdAt)});default:return e.filter(function(e){return a.filterUser(e)})}},a.getAge=function(e){var t=new Date,a=new Date(e),n=t.getTime()-a.getTime(),r=Math.floor(n/315576e5);return r>=0&&"".concat(r)},a.getTypeCount=function(e){var t=a.props.history.location.search,n=Object(Jl.a)(t).tab,r=void 0===n?oe.D.PATIENT:n;switch(e){case"enrolled":return r===oe.D.PATIENT?a.state.patientEnrolled.length:"";case"inactive":return r===oe.D.PATIENT?a.state.patientInactive.length:"";case"discharged":return r===oe.D.PATIENT?a.state.patientDischarged.length:"";default:return 0}},a.handleOnClick=function(e,t){a.props.history.push("/".concat(e,"/").concat(t))},a.ProgramPatientDoctorToState=Object(T.a)(P.a.mark(function e(){var t,n,r,s,i,l,c,o,d,m,u,p,f,h,v,g=arguments;return P.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>0&&void 0!==g[0]&&g[0],n=a.props,r=n.doctors,s=void 0===r?[]:r,i=n.patients,l=void 0===i?[]:i,c=a.state,o=c.patientDischarged,d=c.patientEnrolled,m=c.patientInactive,u=c.doctorData,!s||!l){e.next=14;break}if(p=[],f=[],h=[],v=[],!(Ql.a.isEmpty(o)||Ql.a.isEmpty(d)||Ql.a.isEmpty(m)||Ql.a.isEmpty(u))){e.next=12;break}return Object.keys(s).forEach(function(e,t){var a=s[e];v.push(a)}),Object.keys(l).forEach(function(e,t){var a=l[e];a.status===oe.E.ENROLLED?p.push(a):a.status===oe.E.DISCHARGED?f.push(a):h.push(a)}),e.next=10,a.setState({patientEnrolled:a.sortResults(p),patientDischarged:a.sortResults(f),patientInactive:a.sortResults(h),doctorData:a.sortResults(v)});case 10:e.next=14;break;case 12:return e.next=14,a.setState({patientEnrolled:a.sortResults(d),patientDischarged:a.sortResults(o),patientInactive:a.sortResults(m),doctorData:a.sortResults(u)});case 14:t&&a.applyDocumentFilter();case 15:case"end":return e.stop()}},e,this)})),a.getPatientsEnrolledComponent=function(){var e=a.state,t=e.patientEnrolled,n=e.patientSelectedForDischarge,r=e.uncheckAll,s=a.props,i=s.users,l=void 0===i?{}:i,c=s.hospitals,d=void 0===c?{}:c,m=s.user_data;return Ql.a.isEmpty(t)?"":t.map(function(e,t){var s=Object(Sn.a)({users:l,hospitals:d,currentUser:m,patient:e}),i=e.basicInfo,c=void 0===i?{}:i;return o.a.createElement(jn,{data:s,key:t,showDischargeBarToggle:a.showDischargeBarToggle,onPatientCardSelect:a.onPatientCardSelect,onPatientCardDeselect:a.onPatientCardDeselect,patientDischargedList:n,uncheckAll:r,handleOnClick:function(e,t){a.props.history.push("/".concat(e,"/").concat(c._id))}})})},a.getPatientsInactiveComponent=function(){var e=a.state.patientInactiveUnverified,t=a.props,n=t.users,r=void 0===n?{}:n,s=t.hospitals,i=void 0===s?{}:s,l=t.user_data;return Ql.a.isEmpty(e)?"":e.map(function(e,t){var n=Object(Sn.a)({users:r,hospitals:i,currentUser:l,patient:e});return o.a.createElement(jn,{data:n,key:t,handleOnClick:a.handleOnClick})})},a.getPatientsDischargedComponent=function(){var e=a.state.patientDischarged,t=a.props,n=t.users,r=void 0===n?{}:n,s=t.hospitals,i=void 0===s?{}:s,l=t.user_data;return Ql.a.isEmpty(e)?"":e.map(function(e,t){var n=Object(Sn.a)({users:r,hospitals:i,currentUser:l,patient:e});return o.a.createElement(jn,{data:n,key:t,handleOnClick:a.handleOnClick})})},a.getDoctorsComponent=function(){var e=a.state.doctorData,t=a.props.hospitals;return Ql.a.isEmpty(e)||0===e.length?"":e.map(function(e,n){var r={},s=e.visitingHospitals,i=void 0===s?[]:s;if(r.profilePicLink=e.basicInfo.profilePicLink||"",r.title=e.basicInfo.name||"",i.length>0){var l=t[i[0]];l&&(r.hospital="".concat(l.name,",").concat(l.city))}return r.id=e.basicInfo._id,o.a.createElement(Kl,{data:r,key:n,handleOnClick:a.handleOnClick})})},a.goBack=function(){a.props.history.goBack()},a.selectMenu=function(e){var t=e.key;a.setState({currentTab:t})},a.redirectToProgramDetails=function(){console.log("this.props ----",a.props);var e=a.props,t=e.program_data,n=(t=void 0===t?{}:t)._id;e.history.push("/program/".concat(n,"/summary"))},a.state={currentFilterType:e.location.state&&e.location.state.currentFilterType||"Name",documentStatusFilterType:"All",showDischarge:!1,patientEnrolled:[],patientDischarged:[],patientInactive:[],patientInactiveUnverified:[],doctorData:[],patientSelectedForDischarge:[],uncheckAll:!1,query:"",currentTab:oe.D.PATIENT},a.handleSearch=Object(yn.a)(a.handleSearch.bind(Object(v.a)(Object(v.a)(a))),1e3),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.ProgramPatientDoctorToState(!0)}},{key:"componentDidUpdate",value:function(e,t){var a=this.props,n=a.patients,r=a.doctors,s=e.patients,i=e.doctors;Object(Ns.a)(n,s)&&Object(Ns.a)(r,i)||this.ProgramPatientDoctorToState(!0)}},{key:"applyDocumentFilter",value:function(){this.setState({patientInactiveUnverified:this.documentStatusFilter()})}},{key:"documentStatusFilter",value:function(){var e=this.state,t=e.documentStatusFilterType,a=e.patientInactive;switch(t){case oe.i.NOT_CONSENTED:return a.filter(function(e){return!e.documents.consentFormVerified});case oe.i.NOT_VERIFIED:return a.filter(function(e){return!e.documents.idProofVerified});default:return a}}},{key:"handleSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setState({query:e.trim()},this.ProgramPatientDoctorToState)}},{key:"render",value:function(){var e=this,t=this.props,a=t.program_data,n=(a=void 0===a?{}:a).name,r=void 0===n?"":n,s=a.expiresOn,i=void 0===s?new Date:s,l=t.patients,d=void 0===l?[]:l,m=t.doctors,u=void 0===m?[]:m,p=t.user_data,f=(p=void 0===p?{}:p).basicInfo,h=(f=void 0===f?{}:f).category,v=t.history.location,g=v.pathname,b=v.search,E=this.state,y=E.doctorData,N=E.currentTab,C=E.showDischarge,D=$l()(new Date,i),j=Object(Jl.a)(b),M=j.tab,A=void 0===M?oe.D.PATIENT:M,P=j.status,T=void 0===P?"enrolled":P,I=this.onSearchTextChange;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"program-details-body hide-scroll"},o.a.createElement("div",{className:"search-section"},o.a.createElement("div",{className:"search-bar"},o.a.createElement(S.a,{placeholder:"Search ".concat(N,"s by name or location"),onChange:I,prefix:o.a.createElement(w.a,{type:"search",style:{color:"rgba(0,0,0,.25)"}})})),o.a.createElement(O.a,{gutter:8},"inactive"===T&&N===oe.D.PATIENT&&o.a.createElement(k.a,{xs:12,xm:12,md:6,lg:6},o.a.createElement("div",{className:"sort-bar"},o.a.createElement(x.a,{optionFilterProp:"children",onChange:function(t){e.setState({documentStatusFilterType:t},function(){e.applyDocumentFilter()})},value:"Showing: ".concat(this.state.documentStatusFilterType),suffixIcon:o.a.createElement("img",{alt:"downArrow",src:Te.a,className:"arrowImg"})},o.a.createElement(ec,{value:"All"},"All"),o.a.createElement(ec,{value:"Not Consented"},"Not Consented"),o.a.createElement(ec,{value:"Not Verified"},"Not Verified")))),o.a.createElement(k.a,{xs:12,xm:12,md:6,lg:6},o.a.createElement("div",{className:"sort-bar"},o.a.createElement(x.a,{optionFilterProp:"children",onChange:function(t){e.setState({currentFilterType:t},function(){e.ProgramPatientDoctorToState()})},value:"Sort by: ".concat(this.state.currentFilterType),suffixIcon:o.a.createElement("img",{alt:"downArrow",src:Te.a,className:"arrowImg"})},o.a.createElement(ec,{value:"Name"},"Name"),o.a.createElement(ec,{value:"Location"},"Location"),o.a.createElement(ec,{value:"Date Added"},"Date Added")))))),o.a.createElement("div",{className:"program-details-lower-body"},N===oe.D.PATIENT&&o.a.createElement(ir.a,{className:"tab-title fontsize14",activeKey:T,defaultActiveKey:"enrolled",onChange:function(t){e.props.history.replace({pathname:g,search:Object(Jl.b)({tab:A,status:t})}),-1!==["discharged","inactive"].indexOf(t)&&e.showDischargeBarToggle(!1)},style:{width:"100%"}},o.a.createElement(tc,{tab:"Enrolled(".concat(this.getTypeCount("enrolled"),")"),key:"enrolled",className:"flex flex-wrap"},o.a.createElement(O.a,{gutter:8,className:"w100"},this.getPatientsEnrolledComponent())),o.a.createElement(tc,{tab:"Inactive(".concat(this.getTypeCount("inactive"),")"),key:"inactive",className:"flex flex-wrap"},o.a.createElement(O.a,{gutter:8,className:"w100"},this.getPatientsInactiveComponent())),o.a.createElement(tc,{tab:"Discharged(".concat(this.getTypeCount("discharged"),")"),key:"discharged",className:"flex flex-wrap"},o.a.createElement(O.a,{gutter:8,className:"w100"},this.getPatientsDischargedComponent()))),N===oe.D.DOCTOR&&o.a.createElement("div",{className:"w100 flex flex-wrap"},o.a.createElement("div",{className:"w100 flex column justify-content-start"},o.a.createElement("div",{className:"fontsize-16 medium dark fw500"},"Showing ",y.length," Doctors"),o.a.createElement("div",{className:"clearFix-8"}),o.a.createElement("div",{className:"clearFix-1",style:{borderBottom:"solid 2px #d4d7d9"}}),o.a.createElement("div",{className:"clearFix-30 "})),o.a.createElement(O.a,{gutter:8,className:"w100"},this.getDoctorsComponent()),o.a.createElement("div",{className:"clearFix-30 "})))),o.a.createElement("div",{className:"program-details-footer"},o.a.createElement("div",{className:"view-program-button",onClick:this.redirectToProgramDetails},"View Program Info"),!C&&o.a.createElement("div",{className:"menu-selection menu-black"},o.a.createElement(Je.a,{selectedKeys:[this.state.currentTab],mode:"horizontal",onClick:this.selectMenu},o.a.createElement(ac,{key:oe.D.PATIENT},"Patients (",d&&Object.keys(d).length||0,")"),h!==oe.D.DOCTOR&&o.a.createElement(ac,{key:oe.D.DOCTOR},"Doctors (",u&&Object.keys(u).length||0,")"))),!C&&o.a.createElement("div",{className:"nav-bar"},o.a.createElement("div",{className:"nav-bar-left"},o.a.createElement("div",{className:"arrow-wrapper"},o.a.createElement(w.a,{type:"arrow-left",onClick:this.goBack})),o.a.createElement("div",{className:"text"},"All Programs")),o.a.createElement("div",{className:"nav-bar-right"},o.a.createElement("div",{className:"program-name"},r),o.a.createElement("div",{className:D?"bubble active":"bubble"},D?"Active":"Expired"))),C&&o.a.createElement(Xl,{patientSelectedForDischarge:this.state.patientSelectedForDischarge,disableDischargeBar:this.disableDischargeBar,dischargePatient:this.props.dischargePatient})))}}]),t}(c.Component),rc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={ProgramIsLoading:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id,a=this.props,n=a.user_data,r=(n=void 0===n?{}:n).basicInfo,s=(r=void 0===r?{}:r).category,i=a.getCurrentProgram;this.setState({ProgramIsLoading:!0}),i(t).then(function(t){e.setState({ProgramIsLoading:!t})}),this.props.getProgramPatients(t),s===oe.D.CARE_COACH&&this.props.getProgramDoctor(t)}},{key:"render",value:function(){return!this.state.ProgramIsLoading&&o.a.createElement(c.Fragment,null,o.a.createElement(N.a,null),o.a.createElement("div",{className:"program-details-wrapper"},o.a.createElement(nc,this.props)))||""}}]),t}(c.Component),sc=Object(Z.b)(function(e){var t=e.users,a=e.auth,n=e.programs,r=e.page.programDetails,s=e.products,i=e.hospitals,l=e.countryCities,c=Object(Ia.c)(),o=Object(Zs.e)(),d=Object(Zs.b)(),m=Object(Zs.c)(),u=Object(Zs.d)(),p=Object(rn.b)(),f=Object(rn.a)();return{user_data:c(t,a.authenticated_user),auth_data:a,users:t,authenticated:a.authenticated,program_data:o(n,r.id),doctors:d(n,r.id,t),patients:m(n,r.id,t),products:u(n,r.id,s),countrySelector:function(e){return p(l,e)},citySelector:function(e,t){return f(l,e,t)},hospitals:i,isLoading:r.isLoading}},function(e){return{signOut:function(){e(Object(Xs.i)())},getCurrentProgram:function(t){return e(Object(yr.f)(t))},getProgramPatients:function(t){return e(Object(yr.i)(t))},getProgramDoctor:function(t){return e(Object(yr.g)(t))},getMyPrograms:function(){return e(Object(yr.k)())},clearCurrentPrograms:function(){e(Object(yr.d)())},dischargePatient:function(t){return e(Object(Ta.i)(oe.n.DISCHARGE_PATIENT,t))}}})(rc),ic=(a(1460),a(785)),lc=a.n(ic),cc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).goBack=function(){a.props.history.goBack()},a.state={loading:!0,currentProgram:null,programId:null},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;(0,this.props.getCurrentProgram)().then(function(){var t=e.props,a=t.programs,n=void 0===a?{}:a,r=t.programId,s=t.products,i=n[r];e.setState({currentProgram:i,programId:r,products:s})}).finally(function(){e.setState({loading:!1})})}},{key:"render",value:function(){console.log("this.props --SUMMARY--",this.props),console.log("this.state ----",this.state);var e=this.state,t=e.loading,a=e.currentProgram,n=e.products;return o.a.createElement(c.Fragment,null,o.a.createElement(N.a,null),o.a.createElement("div",{className:"summary"},t&&o.a.createElement("div",{className:"loading"},o.a.createElement(Pl.a,null)),o.a.createElement("div",{className:"summary-content"},!t&&o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"clearFix-8"}),o.a.createElement("div",{className:"flex row align-items-center fontsize16 medium dark fw500"},"Program Info"),o.a.createElement("div",{className:"clearFix-24"}),o.a.createElement("div",{className:"flex column"},o.a.createElement("div",{className:"flex row align-items-center medium fontsize12 cool-grey"},"Pharma Co"),o.a.createElement("div",{className:"clearFix-4"}),o.a.createElement("div",{className:"flex row align-items-center medium fontsize14"},a&&a.name||"")),o.a.createElement("div",{className:"clearFix-24"}),o.a.createElement("div",{className:"flex column"},o.a.createElement("div",{className:"flex row align-items-center medium fontsize12 cool-grey"},"Target Location"),o.a.createElement("div",{className:"clearFix-4"}),o.a.createElement("div",{className:"flex row align-items-center medium fontsize14"},a&&a.targetLocation&&"".concat(a.targetLocation.country,",").concat(a.targetLocation.city)||"")),o.a.createElement("div",{className:"clearFix-24"}),o.a.createElement("div",{className:"flex column"},o.a.createElement("div",{className:"flex row align-items-center medium fontsize12 cool-grey"},"Created On"),o.a.createElement("div",{className:"clearFix-4"}),o.a.createElement("div",{className:"flex row align-items-center medium fontsize14 dark"},a&&a.createdAt&&R()(a.createdAt).format("DD MMMM YYYY")||"")),o.a.createElement("div",{className:"clearFix-24"}),o.a.createElement("div",{className:"flex column"},o.a.createElement("div",{className:"flex row align-items-center medium fontsize12 cool-grey"},"Expires On"),o.a.createElement("div",{className:"clearFix-4"}),o.a.createElement("div",{className:"flex row align-items-center medium fontsize14"},a&&a.expiresOn&&R()(a.expiresOn).format("DD MMMM YYYY")||"")),o.a.createElement("div",{className:"clearFix-24"}),o.a.createElement("div",{className:"flex column"},o.a.createElement("div",{className:"flex row align-items-center medium fontsize12 cool-grey"},"Description"),o.a.createElement("div",{className:"clearFix-4"}),o.a.createElement("div",{className:"flex row align-items-center medium fontsize14"},a&&a.description||"")),o.a.createElement("div",{className:"clearFix-24"}),o.a.createElement("div",{className:"flex column"},o.a.createElement("div",{className:"flex row align-items-center medium fontsize12 cool-grey "},n&&Object.keys(n).length||0," Products selected"),o.a.createElement("div",{className:"clearFix-4"}),o.a.createElement("div",{className:"flex flex-wrap"},Object(Pt.a)(n)?"":Object.keys(n).map(function(e,t){var a=n[e];return o.a.createElement("div",{className:"product",key:t},o.a.createElement("span",null,o.a.createElement("img",{src:lc.a,alt:"product"})),o.a.createElement("span",null,a.name))})))),o.a.createElement("div",null,o.a.createElement("div",null))),o.a.createElement("div",{className:"summary-footer"},o.a.createElement("div",{className:"arrow-wrapper"},o.a.createElement(w.a,{type:"arrow-left",onClick:this.goBack})),o.a.createElement("div",{className:"text"},"My Calendar Details"))))}}]),t}(c.Component),oc=Object(y.d)(cc),dc=a(304),mc=Object(dc.a)(Object(Z.b)(function(e){return{auth:e.auth,programs:e.programs,products:e.products}},function(e){return{getCurrentProgram:function(t){return function(){return e(Object(yr.f)(t))}}}},function(e,t,a){var n=a.match,r=(n=void 0===n?{}:n).params,s=(r=void 0===r?{}:r).id,i=e.auth,l=e.programs,c=e.products,o=(0,t.getCurrentProgram)(s);return Object(At.a)({programId:s},a,{getCurrentProgram:o,auth:i,programs:l,products:c})})(oc)),uc=Object(y.c)({viewProfile:{id:"app.surveyDetail.viewProfile",defaultMessage:"View Profile"},questions:{id:"app.surveyDetail.questions",defaultMessage:"Questions"},toComplete:{id:"app.surveyDetail.toComplete",defaultMessage:"to complete"},survey_Details:{id:"app.surveyDetail.survey_Details",defaultMessage:"Survey Details"}}),pc=(a(1462),a(507)),fc=a(317),hc=pc.e.create({page:{backgroundColor:"white"},header:{width:"100%",fontFamily:"AvenirNext-Regular",fontSize:"16pt"},heading:{fontFamily:"AvenirNext-Regular",fontSize:"12pt"},content:{fontFamily:"AvenirNext-Regular",fontSize:"14pt",marginBottom:"14pt",marginTop:"16pt",marginLeft:"24pt"},question:{marginTop:"12pt"},section:{color:"white",textAlign:"center",margin:30}}),vc=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),d=0;d<r;d++)l[d]=arguments[d];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).generateResponsePdf=function(){var e=a.props,t=e.questions,n=e.response,r=e.users,s=e.match,i=(s=void 0===s?{}:s).params,l=(i=void 0===i?{}:i).participantId,d=r&&l?r[l]:null,m=[];m.push(o.a.createElement(pc.g,{style:hc.header},o.a.createElement(pc.g,null,o.a.createElement(pc.f,null,"Name :",d.basicInfo.name),o.a.createElement(pc.f,{style:{marginTop:"16pt"}},"Response :"))));var u=[];return u.push(m),t.forEach(function(e,t){var a=e._id,r=Object(fc.a)(n,function(e){return e.questionId===a});if(r.length>0)if(r[0].type===oe.s.TEXT)u.push(o.a.createElement(c.Fragment,{key:e._id},o.a.createElement(pc.f,{key:e._id,style:hc.question},"Q",t+1," ",e.statement),o.a.createElement(pc.f,{key:e._id},r[0].response)));else if(r[0].type===oe.s.RADIO)u.push(o.a.createElement(c.Fragment,{key:e._id},o.a.createElement(pc.f,{key:e._id,style:hc.question},"Q",t+1," ",e.statement),o.a.createElement(pc.f,{key:e._id},"".concat(r[0].response.id,". ").concat(r[0].response.value)," ")));else if(r[0].type===oe.s.CHECKBOX){var s=r[0].response,i=[];for(var l in s){var d=s[l];i.push(o.a.createElement(pc.f,{id:d.id,key:e._id},"".concat(d.id,". ").concat(d.value)," "))}u.push(o.a.createElement(c.Fragment,{key:e._id},o.a.createElement(pc.f,{style:hc.question,key:e._id},"Q",t+1," ",e.statement),o.a.createElement(pc.f,null,i)))}}),o.a.createElement(pc.a,null,o.a.createElement(pc.d,{style:hc.page},o.a.createElement(pc.g,{style:hc.content},u)))},a.createDocument=function(){return o.a.createElement(pc.a,{onRender:function(){}},o.a.createElement(pc.d,{size:"A4",style:hc.page},o.a.createElement(pc.g,{style:hc.section},o.a.createElement(pc.f,null,"Section #1")),o.a.createElement(pc.g,{style:hc.section},o.a.createElement(pc.f,null,"Section #2"))))},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillReceiveProps",value:function(){}},{key:"shouldComponentUpdate",value:function(e,t,a){return!1}},{key:"render",value:function(){var e=this.props,t=e.surveyTitle,a=e.users,n=e.match,r=(n=void 0===n?{}:n).params,s=(r=void 0===r?{}:r).participantId,i=(a&&s?a[s]:null).basicInfo,l=(i=void 0===i?{}:i).name,c=void 0===l?"":l;return o.a.createElement(pc.c,{document:this.generateResponsePdf(),fileName:"".concat(t,"_").concat(c,"_response.pdf")},function(e){e.blob,e.url,e.loading,e.error;return"Download Response"})}}]),t}(c.Component),gc=Object(y.c)({allSurveys:{id:"app.surveys.allSurveys",defaultMessage:"All Surveys"},survey_Details:{id:"app.surveyDetail.survey_Details",defaultMessage:"Survey Details"},patientsResponses:{id:"app.surveys.patientsResponses",defaultMessage:"Patient's responses"},downloadResponse:{id:"app.surveys.downloadResponse",defaultMessage:"Download Response"},downloadingResponse:{id:"app.surveys.downloadingResponse",defaultMessage:"Downloading..."},downloadSuccessMessage:{id:"app.surveys.downloadSuccessMessage",defaultMessage:"Download Completed"},downloadFailureMessage:{id:"app.surveys.downloadFailureMessage",defaultMessage:"Download Failed"}}),bc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.state={uploadSuccess:!0,prepareDoc:!1},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e,t){Object(Pt.a)(this.props.medicalsData)||Object(Pt.a)(this.props.users)||Object(Pt.a)(this.props.questions)||Object(Pt.a)(this.props.response)||this.props.medicalsData===e.medicalsData&&this.props.users===e.users&&this.props.questions===e.questions&&this.props.response===e.response||this.setState({prepareDoc:!0})}},{key:"render",value:function(){var e=this.props,t=e.handleGoBack,a=(e.surveyTitle,this.formatMessage),n=this.state.prepareDoc;return o.a.createElement(c.Fragment,null,o.a.createElement("div",{className:"fixed-header-sticky-patient-response"},o.a.createElement("div",{className:" flex align-items-center justify-content-space-between w100"},o.a.createElement("div",{className:"  text-align-l flex column align-items-start justify-content-space-between"},o.a.createElement("div",{className:"flex row align-items-center justify-content-space-between w100 pl20"},o.a.createElement("img",{className:"clickable",alt:"",onClick:t,src:ca.a,style:{width:"20px"}}),o.a.createElement("div",{className:"dark fontsize12 pl20"},a(gc.survey_Details)))),o.a.createElement("div",{className:"flex justify-content-end align-items-center"},o.a.createElement("div",{className:"fontsize12"},o.a.createElement(C.a,{className:"iqvia-primary-btn primary-color"},n&&o.a.createElement(vc,this.props))),o.a.createElement("div",{className:"mr16 ml16"})))))}}]),t}(c.Component),Ec=Object(y.d)(bc),yc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).handleGoBack=function(e){e.preventDefault(),a.props.history.goBack()},a.handleViewProfile=function(){var e=a.state.participantId;a.props.history.push("/patient/".concat(e))},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.fetchPatientresponse,a=e.fetchPatient,n=e.fetchSurveysById,r=this.props.match.params.surveyId,s=this.props.match.params.participantId;a(s),n(r),t(r,s)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.surveys!==e.surveys){var a=this.props.match.params.surveyId,n=this.props.match.params.participantId,r=this.props,s=r.surveys,i=r.fetchQuestions,l=s[a].template,c=(void 0===l?{}:l).templateId;this.setState({surveyId:a,participantId:n}),i(c)}}},{key:"render",value:function(){var e=this.props,t=e.users,a=e.medicals_data,n=e.questions,r=e.patientResponse,s=e.countrySelector,i=e.citySelector,l=e.surveys,d=e.intl.formatMessage,m=e.match,u=e.completedOn,p=void 0===u?"":u,f=this.handleGoBack,h=this.state,v=h.participantId,g=h.surveyId,b={},E={};if(t&&v&&t[v]){var y=t[v],D=y.basicInfo,j=void 0===D?{}:D,S=y.personalInfo,M=void 0===S?{}:S,w=j.name,A=j._id,P=j.profilePicLink,T=M.dob,I=M.gender,x=M.homeAddress,_=void 0===x?{}:x;b.id=A,b.name=w,b.gender=I,b.profilePicLink=P||Cn.a,b.age=R()().diff(T,"years",!1);var z=_.addressLine1,F=_.addressLine2,B=_.city,L=void 0!==B&&B,H=_.country,V=void 0!==H&&H;b.addressLine1=z,b.addressLine2=F;var Y=V?s(V):"";b.country=Y;var U=L?i(V,L):"";b.city=U}if(a&&v&&a[v]){var q=a[v].basicCondition,G=(void 0===q?{}:q).chiefComplaint;b.disease=G}if(l&&g&&l[g]){var W=l[g].template,Q=void 0===W?{}:W,K=Q.title,X=void 0===K?"":K,J=Q.questions,Z=void 0===J?[]:J,$=Q.time_to_complete,ee=void 0===$?"":$,te=Q.description,ae=void 0===te?"":te;E.title=X,E.TotalQuestions=Z.length,E.time_to_complete=ee,E.description=ae}var ne=R()(p).format("L"),re=R()(p).format("LT");return o.a.createElement(c.Fragment,null,o.a.createElement(N.a,null),o.a.createElement("div",{className:"patient-survey-response-container-wrapper"},o.a.createElement("div",{className:"patient-survey-response-container"},o.a.createElement("div",{className:"patient-survey-response"},o.a.createElement(O.a,null,o.a.createElement(k.a,{sm:12,md:6},o.a.createElement("div",{className:"flex align-items-center pt40"},o.a.createElement("div",{className:"mr36 patient-img-container"},o.a.createElement("img",{src:b.profilePicLink,alt:"",className:"patient-img"})),o.a.createElement("div",{className:"align-self-start"},o.a.createElement("div",{className:"fontsize22 dark"},b.name,"(",b.age," ",b.gender,")"),o.a.createElement("div",{className:"fontsize14 dark medium"},b.disease),o.a.createElement("div",{className:"fontsize12 label-color "},b.addressLine1&&b.addressLine1+",",b.addressLine2&&b.addressLine2+",",b.city+",",b.country))))),o.a.createElement("div",{className:"mt8"},o.a.createElement(C.a,{className:"view-profile ",onClick:this.handleViewProfile},d(uc.viewProfile))),o.a.createElement("div",{className:"mt24"},"Survey completed on ",ne,", ",re),o.a.createElement("div",{className:"mt8 fontsize18 dark bold"},E.title),o.a.createElement("div",{className:"fontsize12 dark"},E.TotalQuestions," ",d(uc.questions)," ","\u2022 ",E.time_to_complete," ",d(uc.toComplete)),o.a.createElement("div",{className:"fontsize14 dark mt8 mb24"},E.description),o.a.createElement("div",null,n.map(function(e,t){return o.a.createElement(ar,{key:t,data:e,displayType:"response",index:t,patientResponse:r})})))),o.a.createElement(Ec,{questions:n,response:r,match:m,users:t,medicalsData:a,handleGoBack:f,surveyTitle:E.title})))}}]),t}(c.Component),Nc=Object(y.d)(yc),Oc=a(66),kc=Object(wa.a)(Object(Z.b)(function(e){var t=e.users,a=e.countryCities,n=e.surveytemplates,r=e.medicals,s=e.surveys,i=e.page,l=(i=void 0===i?{}:i).patientResponse,c=void 0===l?{}:l,o=i.createSurvey,d=void 0===o?{}:o,m=Object(rn.a)(),u=Object(rn.b)();return{users:t,medicals_data:r,surveys:s,surveytemplates:n,questions:d.questions,countrySelector:function(e){return u(a,e)},citySelector:function(e,t){return m(a,e,t)},country_city:a,patientResponse:c.response,completedOn:c.completedOn}},function(e){return{fetchQuestions:function(t){return e(Object(Nr.c)(t))},fetchSurveys:function(t){return e(Object(kr.j)(t))},fetchSurveyTemplates:function(){return e(Object(Or.c)())},fetchPatient:function(t){return e(Object(Js.b)(t))},fetchPatientresponse:function(t,a){return e(Object(Oc.b)(t,a))},fetchSurveysById:function(t){return e(Object(kr.k)(t))}}})(Nc)),Cc=(a(1464),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).goBack=function(){a.props.history.goBack()},a.state={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){console.log("this.props ----",this.props);var e=this.props.userId;return o.a.createElement("div",{className:"history-wrapper"},o.a.createElement(N.a,Object.assign({signup:!1},this.props)),o.a.createElement("div",{className:"history-container hide-scroll"},o.a.createElement(Al,{userId:e})),o.a.createElement("div",{className:"back-footer"},o.a.createElement("div",{className:"arrow-wrapper"},o.a.createElement(w.a,{type:"arrow-left",onClick:this.goBack})),o.a.createElement("div",{className:"text"},"My Calendar Details")))}}]),t}(c.Component)),Dc=Object(wa.a)(Object(Z.b)(function(e){var t=e.auth;return{userId:(t=void 0===t?{}:t).authenticated_user}},function(e){return{}})(Cc)),jc=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(s.a)(this,Object(i.a)(t).call(this,e))).state={redirecting:a.props.authRedirection},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.setState(function(e,t){return{redirecting:!1}})}},{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement(m.a,null,this.state.redirecting&&this.state.redirecting.length>0&&o.a.createElement(u.a,{to:this.state.redirecting}),this.props.unauthorizedError&&o.a.createElement(p.a,{path:"",component:ln.a}),o.a.createElement(p.a,{path:"/patient",component:Bl}),o.a.createElement(p.a,{path:"/doctor",component:Ll}),o.a.createElement(p.a,{exact:!0,path:oe.H.MY_PROFILE,component:sn}),o.a.createElement(p.a,{exact:!0,path:oe.H.EDIT_PROFILE,component:za}),o.a.createElement(p.a,{path:oe.H.PATIENT_RESPONSE,component:kc}),o.a.createElement(p.a,{exact:!0,path:oe.H.PROGRAM_SUMMARY,component:mc}),o.a.createElement(p.a,{exact:!0,path:oe.H.PROGRAM_DETAILS,component:sc}),o.a.createElement(p.a,{exact:!0,path:oe.H.APPOINTMENT_HISTORY,component:Dc}),o.a.createElement(p.a,{exact:!0,path:oe.H.CREATESURVEYDETAIL,component:Tr}),o.a.createElement(p.a,{exact:!0,path:oe.H.PREVIEWQUESTIONNAIRE,component:Gl}),o.a.createElement(p.a,{exact:!0,path:oe.H.SURVEYDETAIL,component:Cr}),o.a.createElement(p.a,{path:oe.H.ARTICLE.ROOT,component:rl}),o.a.createElement(p.a,{path:oe.H.DASHBOARD.DASHBOARD,component:hi}),o.a.createElement(p.a,{path:"",component:ln.a})))}}]),t}(c.Component);t.default=Object(Z.b)(function(e){return{}},function(e){return{}})(jc)},203:function(e,t,a){"use strict";var n=a(1),r=a(350),s=a(45),i=a(399),l=a(19),c=a(20),o=a(2),d=a(175);t.a=Object(i.a)(Object(s.b)(function(e){var t=e.users,a=e.auth,n=e.programs;return{user_data:Object(d.c)()(t,a.authenticated_user),program_data:n,authenticated:a.authenticated,unauthorizedError:a.unauthorizedError}},function(e){return{openModal:function(t){return e(Object(l.i)(t))},reportAdverseEvent:function(t){return e(Object(l.i)(o.n.ADVERSE_EVENTS,null,null,t))},signOut:function(){return e(Object(c.i)())}}},function(e,t,a){var r=e.user_data,s=void 0===r?{}:r,i=e.program_data,l=e.authenticated,c=e.unauthorizedError,d=s.basicInfo,m=(d=void 0===d?{}:d).category,u=s.status;return Object(n.a)({showSearch:m===o.D.CARE_COACH||m===o.D.DOCTOR,showAddButton:m===o.D.CARE_COACH||m===o.D.PATIENT&&u===o.E.ENROLLED,user_data:s,program_data:i,authenticated:l,unauthorizedError:c},t,a)})(r.a))},234:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(253),r=function(e,t){return e[t]},s=function(){return Object(n.a)([r],function(e){return e})}},257:function(e,t,a){"use strict";a.d(t,"a",function(){return m}),a.d(t,"f",function(){return u}),a.d(t,"e",function(){return p}),a.d(t,"d",function(){return f}),a.d(t,"b",function(){return h}),a.d(t,"c",function(){return v});var n=a(253),r=a(171),s=function(e,t,a){if(!t)return{};var n={},r=e[t];if(r){var s=r.programIds,i=void 0===s?[]:s;i.length>0&&(n=a[i[0].id])}return n},i=function(e){if(Object(r.a)(e))return{};var t={};return Object.keys(e).forEach(function(a){var n=e[a];-1===["basicInfo","products","programDoctors","programPatients"].indexOf(a)&&(t[a]=n)}),t},l=function(e,t){if(Object(r.a)(e))return{};var a=e[t];return a||{}},c=function(e,t,a){if(Object(r.a)(e))return[];var n=e[t];return n?n.products.map(function(e){return a[e]}):[]},o=function(e,t,a){if(Object(r.a)(e))return{};var n=e[t];if(n){var s=[],i=n.patients;return(void 0===i?[]:i).forEach(function(e){var t=a[e];t&&s.push(t)}),s}return[]},d=function(e,t,a){if(Object(r.a)(e))return[];var n=e[t];if(n){var s=n.doctors,i=[];return(void 0===s?[]:s).forEach(function(e){var t=e._id;if(t){var n=a[t];n&&i.push(n)}}),i}return[]},m=function(){return Object(n.a)([s],function(e){var t=e.products;return void 0===t?[]:t})},u=function(){return Object(n.a)([i],function(e){return e})},p=function(){return Object(n.a)([l],function(e){return e})},f=function(){return Object(n.a)([c],function(e){return e})},h=function(){return Object(n.a)([d],function(e){return e})},v=function(){return Object(n.a)([o],function(e){return e})}},289:function(e,t,a){"use strict";var n=a(147),r=a(148),s=a(151),i=a(149),l=a(150),c=a(6),o=a.n(c),d=a(203),m=(a(497),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).goHome=function(e){e.preventDefault(),a.props.resetUnauthorizedError(),a.props.history.push("/")},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.auth,a=(t=void 0===t?{}:t).authenticated,n=e.location,r=(n=void 0===n?{}:n).pathname;a||this.props.history.push("/sign-in",[r])}},{key:"componentWillUnmount",value:function(){this.props.resetUnauthorizedError()}},{key:"render",value:function(){return o.a.createElement(c.Fragment,null,o.a.createElement(d.a,null),o.a.createElement("div",{className:"eror-page-container"},o.a.createElement("div",{className:"dark medium fontsize14 go-home-btn clickable",onClick:this.goHome},"Click Here to Go Home")))}}]),t}(c.Component)),u=a(399),p=a(45),f=a(20);t.a=Object(u.a)(Object(p.b)(function(e){var t=e.users,a=e.auth;return{users:t,auth:a,unauthorizedError:a.unauthorizedError}},function(e){return{resetUnauthorizedError:function(){e(Object(f.g)())}}})(m))},342:function(e,t,a){},497:function(e,t,a){},505:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},734:function(e,t,a){},735:function(e,t,a){},740:function(e,t,a){},784:function(e,t,a){}}]);
//# sourceMappingURL=11.54cf0ced.chunk.js.map