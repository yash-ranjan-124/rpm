(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1150:function(e,t,a){},1155:function(e,t,a){},1157:function(e,t,a){},1159:function(e,t,a){},1195:function(e,t,a){},1197:function(e,t,a){},1750:function(e,t,a){"use strict";a.r(t);var n=a(147),i=a(148),r=a(151),s=a(149),o=a(150),l=a(6),c=a.n(l),d=a(28),u=a(861);function p(e){var t=function(t){function a(){var e,t;Object(n.a)(this,a);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(t=Object(r.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(o)))).state={Component:a.Component},t}return Object(o.a)(a,t),Object(i.a)(a,[{key:"componentWillMount",value:function(){var t=this;this.state.Component||e().then(function(e){a.Component=e,t.setState({Component:e})})}},{key:"render",value:function(){var e=this.state.Component;return e?c.a.createElement(e,this.props):null}}]),a}(l.Component);return t.Component=null,t}var m,f,h,v,g,b,E,y,C=p(function(){return Promise.all([a.e(3),a.e(6),a.e(10)]).then(a.bind(null,1752)).then(function(e){return e.default})}),M=p(function(){return Promise.all([a.e(1),a.e(2),a.e(4),a.e(11)]).then(a.bind(null,1748)).then(function(e){return e.default})}),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).state={},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.onAppStart)()}},{key:"render",value:function(){var e=this.props,t=e.authenticated,a=e.unauthorizedError;return!0!==t&&!1!==t?c.a.createElement("div",null,"Loading"):c.a.createElement(l.Fragment,null,!0===t?c.a.createElement(M,{unauthorizedError:a,authRedirection:this.props.authRedirection}):c.a.createElement(C,null))}}]),t}(l.Component),N=a(45),w=a(20),T=Object(N.b)(function(e){var t=e.auth;return{authenticated:t.authenticated,authenticatedUser:t.authenticated_user,authRedirection:t.authRedirection,unauthorizedError:t.unauthorizedError}},function(e){return{onAppStart:function(){e(Object(w.f)())}}})(O),D=a(178),S=a(164),P=a(1),j=a(0),k=a.n(j),I=a(3),A=a(158),R=a(186),x=a(46),L=a.n(x),F=(a(238),a(2)),_=Object(d.c)({schedule:{id:"app.event.schedule",defaultMessage:"Schedule New"},cancel:{id:"app.event.cancel",defaultMessage:"Cancel"},addAppointment:{id:"app.event.addAppointment",defaultMessage:"Add Appointment"},addReminder:{id:"app.event.addReminder",defaultMessage:"Add Reminder"},chooseWhen:{id:"app.event.chooseWhen",defaultMessage:"Choose When"},appointment:{id:"add.event.appointment",defaultMessage:"Appointment"},reminder:{id:"add.event.reminder",defaultMessage:"Reminder"},reminderTitle:{id:"app.event.reminderTitle",defaultMessage:"Reminder Title"},alongWithPlaceHolder:{id:"app.event.reminderalongwith",defaultMessage:"Tag a patient or a doctor"},alongWithLabelAppointment:{id:"app.event.appointmentAlongWithLabel",defaultMessage:"Appointment with"},alongWithLabelReminder:{id:"app.event.reminderAlongWithLabel",defaultMessage:"Reminder with"},doesNotRepeat:{id:"app.event.doesNotRepeat",defaultMessage:"Does not repeat"},repeatsDaily:{id:"app.event.repeatsDaily",defaultMessage:"Repeats Daily"},repeatsWeekly:{id:"app.event.repeatsWeekly",defaultMessage:"Repeats Weekly"},repeatsMonthly:{id:"add.event.repeatsMonthly",defaultMessage:"Repeats Monthly"},repeatsYearly:{id:"add.event.repeatsYearly",defaultMessage:"Repeats Yearly"},appointmentType:{id:"add.event.appointmentType",defaultMessage:"Appointment Type"},repeatIntervalError:{id:"add.event.repeatIntervalError",defaultMessage:"Repeat Interval is required"},activity:{id:"add.event.activity",defaultMessage:"Activity"},followup:{id:"app.event.followup",defaultMessage:"Follow Up"},medication:{id:"add.event.medication",defaultMessage:"Medication"},materialDelivery:{id:"add.event.materialDelivery",defaultMessage:"Material Delivery"},visit:{id:"app.event.visit",defaultMessage:"Visit"},call:{id:"add.event.call",defaultMessage:"Phone Call"},textEmail:{id:"add.event.textEmail",defaultMessage:"Video Call"},from:{id:"app.event.from",defaultMessage:"From"},till:{id:"add.event.till",defaultMessage:"Till"},on:{id:"add.event.on",defaultMessage:"On"},at:{id:"app.event.at",defaultMessage:"At"},repeatsOn:{id:"add.event.repeatsOn",defaultMessage:"Repeats on:"},notes:{id:"add.event.notes",defaultMessage:"Write notes (optional)"},cancelAppointment:{id:"cancel.event.calendarCard",defaultMessage:"Cancel Appointment"},cancelReminder:{id:"cancel.event.Reminder",defaultMessage:"Cancel Reminder"},goback:{id:"cancel.all.event.calendarCard",defaultMessage:"Go Back"},contentAppt:{id:"cancel.modal.contentAppt",defaultMessage:"Please note that appointments once cancelled cannot be undone you may have to add new appointment in case you wanted to add similar appointment later."},messageAppt:{id:"cancel.modal.messageAppt",defaultMessage:"Are you sure you want to cancel the appointment?"},contentRem:{id:"cancel.modal.contentRem",defaultMessage:"Please note that reminders once cancelled cannot be undone you may have to add new reminder in case you wanted to add similar reminder later."},messageRem:{id:"cancel.modal.messageRem",defaultMessage:"Are you sure you want to cancel the reminder?"},alert:{id:"cancel.modal.alert",defaultMessage:"This action cannot be undone. For help, contact program admin"},buttonCancelThisOnly:{id:"cancel.modal.buttonCancelThisOnly",defaultMessage:"Cancel This Only"},buttonCancelAll:{id:"cancel.modal.buttonCancelAll",defaultMessage:"Cancel All"},remindMyCareCoach:{id:"add.event.remindCareCoach",defaultMessage:"Remind my Care Coach also"},forPatientApptType:{id:"event.modal.forPatientApptType",defaultMessage:"Follow Up appointment"},econsulting:{id:"add.event.econsulting",defaultMessage:"Online Video Call(E-consultation)"},reason:{id:"cancel.modal.reason",defaultMessage:"Write reason for cancelling this appointment"}}),U=a(154),V=a(353),B=a(205),H=a(29),z=a(9),q=a(570),W=a(167),Y=a(162),G=R.a.Group,J=R.a.Button,K=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).onChangeActivityType=function(e){e.preventDefault();var t=e.target.value,n=a.props,i=n.onChangeActivityType,r=n.data,s=(r=void 0===r?{}:r).mode,o=void 0===s?{}:s,l=n.activityMode,c={activityType:t},d=o[t]||[],u=!0,p=!1,m=void 0;try{for(var f,h=d[Symbol.iterator]();!(u=(f=h.next()).done);u=!0){var v=f.value,g=v.value;if(!1===v.disable){c=Object(P.a)({},c,{activityMode:g});break}}}catch(N){p=!0,m=N}finally{try{u||null==h.return||h.return()}finally{if(p)throw m}}var b=!0,E=!1,y=void 0;try{for(var C,M=d[Symbol.iterator]();!(b=(C=M.next()).done);b=!0){var O=C.value;g=O.value;if(!1===O.disable&&l===g){c=Object(P.a)({},c,{activityMode:g});break}}}catch(N){E=!0,y=N}finally{try{b||null==M.return||M.return()}finally{if(E)throw y}}i(c)},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.activityType,a=e.onChangeActivityType,n=e.data,i=(n=void 0===n?{}:n).mode,r=(void 0===i?{}:i)[t]||[],s=!0,o=!1,l=void 0;try{for(var c,d=r[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value,p=u.value;if(!1===u.disable){a({activityMode:p});break}}}catch(m){o=!0,l=m}finally{try{s||null==d.return||d.return()}finally{if(o)throw l}}}},{key:"render",value:function(){var e=this.props,t=e.disabledForEdit,a=e.data,n=(a=void 0===a?{}:a).activity,i=this.props.activityType,r=this.formatMessage,s=this.onChangeActivityType;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"label-color pb5 fontsize12"},r(_.appointmentType)),c.a.createElement(G,{className:"radio-group-tab mb24",buttonStyle:"solid",disabled:t,onChange:s,defaultValue:i,value:i},n.map(function(e){return c.a.createElement(J,{key:e.value,className:"full-width",disabled:e.disable,value:e.value},r(e.label))})))}}]),t}(l.Component),Z=Object(d.d)(K),$=R.a.Group,Q=R.a.Button,X=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).onChangeActivityMode=function(e){e.preventDefault(),(0,a.props.onChangeActivityMode)(e.target.value)},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.activityMode,a=e.activityType,n=e.data,i=(n=void 0===n?{}:n).mode,r=void 0===i?{}:i,s=this.props.disabledForEdit,o=r[a];console.log("act,",a,o,t);var d=this.formatMessage,u=this.onChangeActivityMode;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"label-color pb5 fontsize12"},d(_.activity)),c.a.createElement($,{className:"radio-group-tab mb24",buttonStyle:"solid",disabled:s,value:t,onChange:u,defaultValue:t},o.map(function(e){return c.a.createElement(Q,{key:e.value,className:"full-width",value:e.value,disabled:e.disable},d(e.label))})))}}]),t}(l.Component),ee=Object(d.d)(X),te=a(190),ae=a(183),ne=a.n(ae),ie=a(195),re=a.n(ie),se=c.a.createElement("img",{src:re.a,alt:"s",className:"w18 h18"}),oe=R.a.Group,le=R.a.Button,ce=W.a.Option,de=W.a.OptGroup,ue=S.a.Item,pe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).getParentNode=function(e){return e.parentNode},a.insertUserEntry=function(e){var t=[];return e.forEach(function(e){var a=e.basicInfo,n=a._id,i=a.name,r=a.profilePicLink,s=void 0===r?ne.a:r,o=e.personalInfo,l=o.dob,d=o.gender,u=l&&L()().diff(l,"years",!1);t.push(c.a.createElement(ce,{key:n,value:n,name:i},c.a.createElement("div",{className:"flex justify-content-start align-items-center iqvia-user-snippet"},c.a.createElement("img",{alt:"user",src:s}),c.a.createElement("div",{className:"deep-sea-blue fontsize12 mr8"},"".concat(i).concat(u?" (".concat(u," ").concat(d,")"):"")))))}),t},a.getParticipantOption=function(){var e=a.props.members,t=void 0===e?[]:e;console.log(" ---- members",t);var n=[],i=t.filter(function(e){return e.basicInfo.category===F.D.DOCTOR}),r=t.filter(function(e){return e.basicInfo.category===F.D.PATIENT&&e.status===F.E.ENROLLED}),s=t.filter(function(e){return e.basicInfo.category===F.D.CARE_COACH});return i.length>0&&n.push(c.a.createElement(de,{key:"doctor",label:"Doctors (".concat(i.length,")")},a.insertUserEntry(i))),r.length>0&&n.push(c.a.createElement(de,{key:"patient",label:"Patients (".concat(r.length,")")},a.insertUserEntry(r))),s.length>0&&n.push(c.a.createElement(de,{key:"careCoach",label:"Carecoaches (".concat(s.length,")")},a.insertUserEntry(s))),n},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.onChangeParticpantRadioGroup=function(e){e.preventDefault();var t,n=a.props,i=n.setParticipantTwo,r=n.members,s=void 0===r?[]:r,o=e.target.value,l=a.props.onChangeActivityType;s.forEach(function(e){var a=e.basicInfo,n=(a=void 0===a?{}:a)._id,i=a.category;n===o&&(t=i)}),t===F.D.DOCTOR&&l({activityMode:F.a.CHAT,activityType:F.c.FOLLOWUP}),i(o)},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,n=t.isFieldTouched,i=t.getFieldError,r=e.currentUser,s=(r=void 0===r?{}:r).basicInfo.category,o=r.programIds,d=void 0===o?[]:o,u=e.fieldName,p=e.participantTwo,m=e.userId,f=e.eventMode,h=e.disabledForEdit,v=e.remindCareCoach,g=e.setParticipantTwo,b=this.getParticipantOption,E=this.formatMessage,y=this.onChangeParticpantRadioGroup,C=n(u)&&i(u),M=d[0]||{},O=M.careCoach,N=M.doctor;return f===F.m.REMINDER&&s===F.D.PATIENT?c.a.createElement("div",{className:"flex justify-content-space-between mb24"},c.a.createElement("div",{className:"fontsize14 black"},E(_.remindMyCareCoach)),c.a.createElement(te.a,{defaultChecked:!!p,disabled:h,onChange:v})):c.a.createElement(l.Fragment,null,c.a.createElement("div",{ref:this.setref},(F.D.CARE_COACH===s||F.D.DOCTOR===s)&&c.a.createElement(ue,{label:"".concat(f===F.m.APPOINTMENT?E(_.alongWithLabelAppointment):E(_.alongWithLabelReminder)),validateStatus:C?"error":"",help:C||""},a(u,{rules:[{required:!0,message:"Enter particpant"}],initialValue:p||m})(c.a.createElement(W.a,{className:"user-select",disabled:h||void 0!==m,placeholder:E(_.alongWithPlaceHolder),showSearch:!0,autoComplete:"off",optionFilterProp:"name",suffixIcon:se,onChange:g,getPopupContainer:this.getParentNode},b())))),F.D.PATIENT===s&&c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"label-color pb5 fontsize12"},E(_.alongWithLabelAppointment)),c.a.createElement(ue,{style:{marginBottom:"16px"}},a(u,{rules:[{required:!0,message:"Enter particpant"}],initialValue:O||p||m})(c.a.createElement(oe,{className:"radio-group-tab mb24",buttonStyle:"solid",disabled:h,onChange:y},c.a.createElement(le,{key:"careCoach",className:"full-width",value:O},"My Care Coach"),c.a.createElement(le,{key:"doctor",className:"full-width",value:N},"My Doctor"))))))}}]),t}(l.Component),me=Object(d.d)(pe),fe=a(208),he=S.a.Item,ve=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).validateFields=function(){var e=a.props,t=e.form.validateFields,n=e.setRepeatIntervalError;t(function(e,t){if(null!==e){var a=e.repeatInterval;n(void 0!==a)}})},a.validateRepeatInterval=function(e,t,a){var n=Object(fe.b)(t);t&&!1===n.valid?a("".concat(t," is not valid Repeat Interval.")):t>1e3&&a("Repeat Interval cannot be greater than 1000")},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.validateFields()}},{key:"componentWillUnmount",value:function(){this.validateFields()}},{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,n=t.getFieldError,i=t.isFieldTouched,r=e.fieldName,s=e.value,o=e.getRepeatTypeStr,l=e.onRepeatIntervalChange,d=e.intl.formatMessage;console.log(r);var u=this.validateRepeatInterval,p=i(r)&&n(r);return c.a.createElement("div",{className:"ml16"},c.a.createElement(he,{className:"flex-1 flex repeat-interval",label:"Repeats Every",validateStatus:p?"error":"",help:p||""},a(r,{rules:[{required:!0,message:d(_.repeatIntervalError)},{validator:u}],initialValue:s})(c.a.createElement(Y.a,{onBlur:l,className:"full-width repeat-interval",min:1,style:{width:"100%"}})),c.a.createElement("div",{className:"repeat-type"},o())))}}]),t}(l.Component),ge=Object(d.d)(ve),be=S.a.Item,Ee=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.form.validateFields)()}},{key:"componentWillUnmount",value:function(){(0,this.props.form.validateFields)()}},{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,n=t.getFieldError,i=t.isFieldTouched,r=e.fieldName,s=e.value,o=e.label,l=e.disabled,d=i(r)&&n(r);return c.a.createElement(be,{label:o,style:{marginBottom:"16px"},validateStatus:d?"error":"",help:d||""},a(r,{rules:[{required:!0,message:"Enter reminder title"}],initialValue:s})(c.a.createElement(Y.a,{disabled:l})))}}]),t}(l.Component),ye=S.a.Item,Ce=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.form.validateFields)()}},{key:"componentWillUnmount",value:function(){(0,this.props.form.validateFields)()}},{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.fieldName,n=e.value,i=e.label;return c.a.createElement(l.Fragment,null,c.a.createElement(ye,{label:i,style:{display:"none"}},t(a,{rules:[{required:!0}],initialValue:n})(c.a.createElement(Y.a,null))))}}]),t}(l.Component),Me=(y={},Object(z.a)(y,F.D.CARE_COACH,(g={},Object(z.a)(g,F.D.PATIENT,{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:!1},{value:F.c.MEDICATION,label:_.medication,disable:!1},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:!1}],mode:(m={},Object(z.a)(m,F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(m,F.c.MATERIAL_DELIVERY,[{value:F.a.CALL,label:_.call,disable:!0},{value:F.a.CHAT,label:_.textEmail,disable:!0},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(m,F.c.MEDICATION,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),m)}),Object(z.a)(g,F.D.DOCTOR,{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:!1},{value:F.c.MEDICATION,label:_.medication,disable:!1},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:!1}],mode:(f={},Object(z.a)(f,F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(f,F.c.MATERIAL_DELIVERY,[{value:F.a.CALL,label:_.call,disable:!0},{value:F.a.CHAT,label:_.textEmail,disable:!0},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(f,F.c.MEDICATION,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),f)}),Object(z.a)(g,"DEFAULT",{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:!1},{value:F.c.MEDICATION,label:_.medication,disable:!1},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:!1}],mode:(h={},Object(z.a)(h,F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(h,F.c.MATERIAL_DELIVERY,[{value:F.a.CALL,label:_.call,disable:!0},{value:F.a.CHAT,label:_.textEmail,disable:!0},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(h,F.c.MEDICATION,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),h)}),Object(z.a)(g,F.D.DOCTOR,{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:!1},{value:F.c.MEDICATION,label:_.medication,disable:!1},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:!1}],mode:(v={},Object(z.a)(v,F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(v,F.c.MATERIAL_DELIVERY,[{value:F.a.CALL,label:_.call,disable:!0},{value:F.a.CHAT,label:_.textEmail,disable:!0},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(v,F.c.MEDICATION,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),v)}),g)),Object(z.a)(y,F.D.PATIENT,(E={},Object(z.a)(E,F.D.DOCTOR,{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:!1},{value:F.c.MEDICATION,label:_.medication,disable:!0},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:!0}],mode:Object(z.a)({},F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:!0},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!0}])}),Object(z.a)(E,F.D.CARE_COACH,{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:!1},{value:F.c.MEDICATION,label:_.medication,disable:!1},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:!1}],mode:(b={},Object(z.a)(b,F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(b,F.c.MATERIAL_DELIVERY,[{value:F.a.CALL,label:_.call,disable:!0},{value:F.a.CHAT,label:_.textEmail,disable:!0},{value:F.a.VISIT,label:_.visit,disable:!1}]),Object(z.a)(b,F.c.MEDICATION,[{value:F.a.CALL,label:_.call,disable:!1},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!1}]),b)}),Object(z.a)(E,"DEFAULT",{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:!1},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:!0},{value:F.c.MEDICATION,label:_.medication,disable:!0}],mode:Object(z.a)({},F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:!0},{value:F.a.CHAT,label:_.textEmail,disable:!1},{value:F.a.VISIT,label:_.visit,disable:!0}])}),E)),y),Oe=function(e){var t=e.viewer,a=void 0===t?{}:t,n=e.other,i=void 0===n?{}:n,r=e.event,s=void 0===r?{}:r,o=e.edit,l=void 0!==o&&o,c=a.basicInfo,d=(c=void 0===c?{}:c).category,u=i.basicInfo,p=(u=void 0===u?{}:u).category,m=void 0===p?"DEFAULT":p;return l?function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=(arguments.length>1&&arguments[1],arguments.length>2&&arguments[2],t.activityType),n=t.activityMode;return{activity:[{value:F.c.FOLLOWUP,label:_.followup,disable:a!==F.c.FOLLOWUP},{value:F.c.MATERIAL_DELIVERY,label:_.materialDelivery,disable:a!==F.c.MATERIAL_DELIVERY},{value:F.c.MEDICATION,label:_.medication,disable:a!==F.c.MEDICATION}],mode:(e={},Object(z.a)(e,F.c.FOLLOWUP,[{value:F.a.CALL,label:_.call,disable:n!==F.a.CALL},{value:F.a.CHAT,label:_.textEmail,disable:n!==F.a.CHAT},{value:F.a.VISIT,label:_.visit,disable:n!==F.a.VISIT}]),Object(z.a)(e,F.c.MATERIAL_DELIVERY,[{value:F.a.CALL,label:_.call,disable:n!==F.a.CALL},{value:F.a.CHAT,label:_.textEmail,disable:n!==F.a.CHAT},{value:F.a.VISIT,label:_.visit,disable:n!==F.a.VISIT}]),Object(z.a)(e,F.c.MEDICATION,[{value:F.a.CALL,label:_.call,disable:n!==F.a.CALL},{value:F.a.CHAT,label:_.textEmail,disable:n!==F.a.CHAT},{value:F.a.VISIT,label:_.visit,disable:n!==F.a.VISIT}]),e)}}(s,d,m):function(e,t){return Me[e][t]}(d,m)},Ne=a(226),we=a.n(Ne),Te=a(176),De=a.n(Te),Se=a(4),Pe=a(5),je=Y.a.TextArea,ke=c.a.createElement("img",{src:De.a,alt:"d",className:"w24 h24"}),Ie=S.a.Item,Ae=R.a.Button,Re=W.a.Option,xe=q.a.CheckableTag,Le="repeatDays",Fe="repeat interval",_e="days",Ue=function(e){function t(e){var a;Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).getParentNode=function(e){return e.parentNode},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleSubmit=function(e){e.preventDefault();var t=a.props.handleSubmit,n=a.state,i=n.selectedDays,r=n.activityMode,s=n.activityType,o=n.remindCareCoach,l=void 0!==o&&o;a.props.form.validateFields(function(e,a){var n;e||t(Object(P.a)({},a,(n={},Object(z.a)(n,Le,i),Object(z.a)(n,"activityMode",r),Object(z.a)(n,"activityType",s),Object(z.a)(n,"remindCareCoach",l),n)))})},a.getRepeatOption=function(){return F.w.map(function(e,t){return c.a.createElement(Re,{key:t,value:e.key},e.label)})},a.getDaysOption=function(){return F.g.map(function(e){return c.a.createElement(Ae,{key:e,value:e},e)})},a.getTotalTimeDurationOfEvent=function(){var e="",t=a.props,n=t.eventStartTime,i=t.eventEndTime,r=i>n?i.diff(n,"minutes"):0;if(r>0){var s=parseInt(r/60),o=r%60;e=s>0?"Duration ".concat(s," hour ").concat(o>0?"".concat(o," min"):""):"Duration ".concat(o," min")}return e},a.onChangeRepeatType=function(e){var t=a.props,n=t.onChangeRepeatType,i=t.adjustDate;n(e),i()},a.handleCheckDays=function(e,t){var n=a.state.selectedDays,i=t?Object(H.a)(n).concat([e]):n.filter(function(t){return t!==e});a.setState({selectedDays:i});var r=a.props.form,s=r.setFieldsValue,o=r.validateFields;s(Object(z.a)({},_e,i.join(","))),o()},a.openCalendarStartDate=function(e){e.preventDefault(),window.document.getElementsByClassName("ant-calendar-picker-input")[0].click()},a.openCalendarEndDate=function(e){e.preventDefault(),window.document.getElementsByClassName("ant-calendar-picker-input")[1].click()},a.onChangeActivityType=function(e){a.setState(e)},a.onChangeActivityMode=function(e){a.setState({activityMode:e})},a.validateForm=function(){},a.getParticipantOptionField=function(){},a.disabledStartTime=function(e){},a.disabledEndTime=function(e){},a.validateRepeatInterval=function(e,t,a){var n=Object(fe.b)(t);t&&!1===n.valid?a(n.msg):a()},a.onRepeatIntervalChange=function(e){e.preventDefault();var t=a.props,n=t.adjustDate,i=t.form.getFieldError;(0,t.setRepeatIntervalError)(void 0!=i(Fe)),n()},a.remindCareCoach=function(e){a.setState({remindCareCoach:e.target.checked})},a.setParticipantTwo=function(e){var t,n=a.state.members,i=void 0===n?[]:n,r=a.props.setParticipantTwo;console.log("members ----",i),i.forEach(function(a){(a||{}).basicInfo._id===e&&(t=a)}),r(t)},a.getActivityConfig=function(){var e=a.props,t=e.purpose,n=e.currentUser,i=e.otherUser,r=e.data;return Oe({viewer:n,other:i,event:r,edit:t})};var i=a.props.data,o=(i=void 0===i?{}:i).activityType,l=i.activityMode,d=i.repeatDays,u=void 0===d?[]:d;return a.state={confirmDirty:!1,autoCompleteResult:[],selectedDays:u||[],activityType:o||F.c.FOLLOWUP,activityMode:l||F.a.CALL,members:[]},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.form.validateFields();var t=this.props.data.repeat;t&&this.onChangeRepeatType(t);var a=this.setParticipantTwo,n=this.props,i=n.currentUser,r=(i=void 0===i?{}:i).basicInfo,s=(r=void 0===r?{}:r).category,o=i.programIds,l=void 0===o?[]:o,c=n.users,d=void 0===c?{}:c,u=n.data,p=(u=void 0===u?{}:u).participantTwo;if(s===F.D.CARE_COACH||s===F.D.DOCTOR)Object(Se.a)({url:Pe.h.getRelatedMembersURL()}).then(function(t){e.setState({members:t.payload.data.members})}).catch(function(e){});else if(s===F.D.PATIENT){var m=l[0]||{},f=m.careCoach,h=m.doctor;this.setState({members:[d[f],d[h]]},function(){a(f)}),a()}p&&a(p)}},{key:"render",value:function(){var e=this.props,t=e.data,a=(t=void 0===t?{}:t).participantTwo,n=t.repeatInterval,i=t.notes,r=t.title,s=e.form,o=e.eventMode,d=e.loading,u=e.handleCancel,p=e.eventStartTime,m=e.eventEndTime,f=e.onChangeEventEndTime,h=e.onChangeEventStartTime,v=e.startDate,g=e.endDate,b=e.repeatType,E=e.onEndDateChange,y=e.onStartDateChange,C=e.disabledEndDate,M=e.purpose,O=e.disabledForEdit,N=e.userId,w=e.currentUser,T=e.eventEndTimeError,D=e.eventStartTimeError,P=e.setRepeatIntervalError,j=e.showRepeating,k=e.disabledDateAndTime,I=e.disabledStartDateOnEdit,A=s.getFieldDecorator,R=s.getFieldsError,x=s.getFieldError,H=this.getRepeatOption,z=this.formatMessage,q=this.onChangeRepeatType,Y=this.handleCheckDays,G=this.openCalendarStartDate,J=this.openCalendarEndDate,K=this.getTotalTimeDurationOfEvent,$=this.onChangeActivityMode,Q=this.onChangeActivityType,X=this.onRepeatIntervalChange,te=this.remindCareCoach,ae=this.setParticipantTwo,ne=this.state,ie=ne.members,re=ne.activityType,se=ne.activityMode,oe=K(),le=this.state.selectedDays,ce=this.getActivityConfig();return c.a.createElement(S.a,{className:"event-form",onSubmit:this.handleSubmit},o===F.m.REMINDER&&c.a.createElement(Ee,{fieldName:"title",value:r,form:this.props.form,label:z(_.reminderTitle),disabled:O}),c.a.createElement(me,{eventMode:o,currentUser:w,userId:N,members:ie,participantTwo:a,form:s,fieldName:"participantTwo",disabledForEdit:O,remindCareCoach:te,setParticipantTwo:ae,onChangeActivityType:Q,onChangeActivityMode:$}),o===F.m.APPOINTMENT&&c.a.createElement(l.Fragment,null,c.a.createElement(Z,{data:ce,onChangeActivityType:Q,activityType:re,activityMode:se}),c.a.createElement(ee,{data:ce,onChangeActivityMode:$,activityMode:se,activityType:re})),j&&c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"flex justify-content-space-between"},c.a.createElement(Ie,{className:"flex-1 align-self-end"},A("repeat",{rules:[],initialValue:b||F.x.NONE,onChange:q})(c.a.createElement(W.a,{className:"full-width",placeholder:"",showSearch:!0,autoComplete:"off",optionFilterProp:"children",suffixIcon:ke,filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:this.getParentNode},H()))),b!==F.x.NONE&&b!==F.x.DAILY&&c.a.createElement(ge,{fieldName:"repeatInterval",value:n,form:this.props.form,getRepeatTypeStr:function(){switch(b){case F.x.WEEKLY:return"Weeks";case F.x.MONTHLY:return"Months";case F.x.YEARLY:return"Years";default:return""}},onRepeatIntervalChange:X,setRepeatIntervalError:P})),b===F.x.WEEKLY&&c.a.createElement("div",{className:"mb16"},c.a.createElement("div",{className:"mb8"},c.a.createElement("span",{className:"warning-color"},"* "),c.a.createElement("span",{className:"fontsize12 label-color"},z(_.repeatsOn)),c.a.createElement("span",{className:"fontsize12 dark"}," ".concat(le.join(", "))),le&&0===le.length&&c.a.createElement("span",{className:"fontsize12 warning-color ml8"},"select repeating days")),c.a.createElement(Ce,{value:le.join(","),fieldName:_e,form:this.props.form}),c.a.createElement("div",{className:"flex select-days"},F.g.map(function(e){return c.a.createElement(xe,{className:"select-days flex-1",key:e,checked:le.indexOf(e)>-1,onChange:function(t){return Y(e,t)}},e)})))),c.a.createElement("div",{className:" full-width flex justify-content-space-between mb24"},c.a.createElement("div",{className:" flex-1 flex  align-items-end iqvia-date-picker"},c.a.createElement("div",{className:"full-width"},c.a.createElement("div",{className:"label-color fontsize12"},b===F.x.NONE?z(_.on):z(_.from)),c.a.createElement(B.a,{format:"DD/MM/YYYY, ddd",showToday:!1,disabled:k||I,className:"full-width",suffixIcon:null,value:null===v?null:L()(v),onChange:y,getCalendarContainer:this.getParentNode})),c.a.createElement("img",{alt:"",className:"calendar",onClick:k?null:G,src:we.a})),j&&b!==F.x.NONE&&c.a.createElement("div",{className:"flex-1 flex  align-items-end iqvia-date-picker"},c.a.createElement("div",{className:"full-width ml16"},c.a.createElement("div",{className:"label-color fontsize12"},z(_.till)),c.a.createElement(B.a,{format:"DD/MM/YYYY, ddd",disabled:void 0!==x(Fe),showToday:!1,disabledDate:C,className:"full-width",suffixIcon:null,value:null===g?null:L()(g),onChange:E,getCalendarContainer:this.getParentNode})),c.a.createElement("img",{alt:"",className:"calendar",onClick:J,src:we.a}))),c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"flex justify-content-space-between"},c.a.createElement("div",{className:"full-width"},c.a.createElement("div",{className:"label-color fontsize12"},"".concat(o===F.m.APPOINTMENT?z(_.from):z(_.at))),c.a.createElement(V.a,{allowClear:!1,disabled:k,className:"".concat(!0===D?"has-error":""),use12Hours:!0,format:"h:mm A",suffixIcon:null,style:{width:"100%"},value:L()(p),onChange:h,getPopupContainer:this.getParentNode})),o===F.m.APPOINTMENT&&c.a.createElement("div",{className:"full-width ml16"},c.a.createElement("div",{className:"label-color fontsize12"},z(_.till)),c.a.createElement(V.a,{className:"".concat(!0===T?"has-error":""),allowClear:!1,disabled:k,use12Hours:!0,format:"h:mm A",style:{width:"100%"},suffixIcon:null,value:L()(m),onChange:f,getPopupContainer:this.getParentNode}))),o===F.m.APPOINTMENT&&!T&&!D&&c.a.createElement("div",{className:"full-width dark tar mt4"},oe),!0===T&&c.a.createElement("div",{className:"full-width warning-color tar mt4 fontsize12"},"End time cannot be less than and equal Start time"),!0===D&&c.a.createElement("div",{className:"full-width warning-color tar mt4 fontsize12"},"You can't create events on passed time.")),c.a.createElement(Ie,{className:"mt16"},A("notes",{rules:[],initialValue:i})(c.a.createElement(je,{placeholder:z(_.notes),autosize:!0}))),c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"flex align-items-center justify-content-end h100 mr24"},c.a.createElement(U.a,{className:"iqvia-btn cancel mr16",onClick:u},z(_.cancel)),c.a.createElement(Ie,{className:"m0"},c.a.createElement(U.a,{className:"iqvia-btn",type:"primary",htmlType:"submit",loading:d,disabled:Object(fe.a)(R())||T||D},M?"Save":o===F.m.APPOINTMENT?z(_.addAppointment):z(_.addReminder))))))}}]),t}(l.Component),Ve=Object(d.d)(Ue),Be=a(613),He=a.n(Be),ze=(a(619),a(460)),qe=a.n(ze),We=a(620),Ye=a.n(We),Ge=a(621),Je=a.n(Ge),Ke=c.a.createElement("img",{src:Je.a,alt:"d",className:"w14 h14"}),Ze=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).eventResize=function(e,t){var n=e.start,i=e.end;(0,a.props.onEventDurationChange)(n,i)},a.eventResizeStart=function(e){},a.eventResizeStop=function(e){},a.eventDragStart=function(e,t){},a.eventDrop=function(e,t){var n=e.start,i=e.end;(0,a.props.onEventDurationChange)(n,i)},a.eventDragStop=function(e){},a.adjustCurrentEvent=function(){var e=window.document.getElementsByClassName("current");e&&e.length>0&&e[0].scrollIntoView({block:"center"})},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.adjustCurrentEvent()}},{key:"componentDidUpdate",value:function(e,t){this.adjustCurrentEvent()}},{key:"render",value:function(){var e=this.props,t=e.event,a=e.bookedEvents,n=this.eventDragStart,i=this.eventDragStop,r=this.eventResize,s=this.eventResizeStop,o=this.eventResizeStart,l=this.eventDrop;return c.a.createElement("div",{id:"12717728812718t27182t1"},c.a.createElement(He.a,{header:{left:"",center:"",right:""},defaultDate:null===t?null:t.start,events:null===t?[]:[t].concat(Object(H.a)(a)),editable:!0,eventLimit:!0,defaultView:"agendaDay",eventDurationEditable:!0,eventStartEditable:!0,eventDragStart:n,eventDragStop:i,eventDrop:l,eventResize:r,eventResizeStart:o,eventResizeStop:s,timezone:"local"}))}}]),t}(l.Component),$e=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).formatMessage=function(e){return(0,a.props.intl.formatMessage)(e)},a.getParentNode=function(e){return e.parentNode},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.eventEndTime,n=e.eventStartTime,i=e.onEventDurationChange,r=e.startDate,s=e.onStartDateChange,o=e.disabledStartDate,d=e.disabledStartDateOnEdit,u=e.onPrev,p=e.onNext,m=e.eventMode,f=e.bookedEvents,h=e.participant,v=(h=void 0===h?{}:h).basicInfo,g=(v=void 0===v?{}:v).name,b=v.profilePicLink,E=void 0===b?ne.a:b,y=this.formatMessage,C={start:n,end:a,className:"current"},M=!1;return r&&null!==r&&r.isValid&&(M=L()().isSame(r,"day")),c.a.createElement("div",{className:t},c.a.createElement("div",{className:"mask"}),m===F.m.APPOINTMENT&&c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:" header fontsize16 dark medium"},y(_.chooseWhen)),c.a.createElement("div",{className:"calendar-toolbar mt16 flex justify-content-start align-items-center"},c.a.createElement(l.Fragment,null,c.a.createElement("img",{className:"mr8  ".concat(M||d?"not-allowed":"clickable"," "),src:Ye.a,alt:"prev",onClick:M||d?null:u}),c.a.createElement("img",{className:"mr8  ".concat(d?"not-allowed":"clickable"," "),src:qe.a,alt:"prev",onClick:d?null:p})),c.a.createElement("div",{className:"mr16"},c.a.createElement(B.a,{disabledDate:o,disabled:d,allowClear:!1,className:"date-picker",format:"DD/MM/YYYY, ddd",suffixIcon:Ke,value:null===r?null:L()(r),onChange:s,getCalendarContainer:this.getParentNode})),c.a.createElement("div",{className:"flex-1 flex justify-content-end align-items-center mr8 ml8"},g&&c.a.createElement("div",{className:"flex justify-content-start align-items-center iqvia-user-snippet bg-transparent"},c.a.createElement("img",{alt:"u",src:E}),c.a.createElement("div",{className:"deep-sea-blue fontsize12 medium mr8"},"".concat(g,"'s Calendar")))))),c.a.createElement(Ze,{onEventDurationChange:i,event:m===F.m.REMINDER?null:C,bookedEvents:f}))}}]),t}(l.Component),Qe=Object(d.d)($e),Xe=a(288),et=a(227),tt=a(58),at=a(299),nt=R.a.Button,it=R.a.Group,rt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).getBookedSlots=Object(I.a)(k.a.mark(function e(){var t,n,i,r,s,o,l,c,d,u,p,m;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.startDate,i=t.participantTwo,r=(i=void 0===i?{}:i).basicInfo,s=(r=void 0===r?{}:r)._id,!(n&&n.isValid&&s)){e.next=11;break}return e.next=8,Object(Se.a)({url:Object(tt.getBookedSlotsURL)(),params:{startDate:n.clone().format("YYYY-MM-DD"),userId:s}});case 8:o=e.sent,l=o.status,c=o.payload,d=void 0===c?{}:c,l&&(u=d.data,p=(u=void 0===u?[]:u).bookedSlots,m=p.map(function(e){return{start:e.start,end:e.end,editable:!1,startEditable:!1,durationEditable:!1,className:"booked"}}),a.setState({bookedEvents:m}));case 11:case"end":return e.stop()}},e,this)})),a.setParticipantTwo=function(e){var t=Object(A.a)(Object(A.a)(a)).getBookedSlots;a.setState({participantTwo:e},t)},a.onFormChanges=function(e,t,n){var i=Object(A.a)(Object(A.a)(a)).adjustDate,r=t.repeat,s=t.repeatInterval;if(r||s){var o=n.repeat,l=n.repeatInterval;a.setState({repeat:o,repeatInterval:l},i)}},a.getNewEndDate=function(){var e,t=a.state,n=t.repeat,i=t.repeatInterval,r=t.startDate;if(n||i){var s=r.clone(),o=Object(fe.b)(i);if(n===F.x.DAILY||!0===o.valid)switch(n){case F.x.DAILY:e=s.add(1,"d");break;case F.x.WEEKLY:e=s.add(o.value,"w");break;case F.x.MONTHLY:e=s.add(o.value,"M");break;case F.x.YEARLY:e=s.add(o.value,"y")}return console.log("endDate",e),e}return e},a.adjustDate=function(){var e=a.state,t=e.repeat,n=e.repeatInterval,i=Object(A.a)(Object(A.a)(a)),r=i.onEndDateChange,s=i.getNewEndDate;(t||n)&&r(s())},a.formatMessage=function(e){return(0,a.props.intl.formatMessage)(e)},a.handleCancel=function(){(0,a.props.close)(),a.resetState()},a.resetState=function(){a.setState({eventMode:F.m.APPOINTMENT,eventTitle:"",eventStartTime:L()(),eventEndTime:L()().add(1,"h"),startDate:L()(),endDate:null,repeatType:F.x.NONE,participantTwo:{},bookedEvents:[]})},a.onAddAppointment=function(e){var t=a.props.addAppointment,n=e.participantTwo,i=e.activityType,r=e.activityMode,s=e.repeat,o=e.repeatDays,l=e.notes,c=e.repeatInterval,d=a.state,u=d.startDate,p=d.endDate,m=d.eventStartTime,f=d.eventEndTime;t({participantTwo:n,activityMode:r,activityType:i,repeat:s,repeatInterval:c,repeatDays:o,notes:l,startDate:u&&null!==u?u.format():u,endDate:p&&null!==p?p.format():p,startTime:m&&null!==m?m.startOf("minute").format():m,endTime:f&&null!==f?f.startOf("minute").format():f}).then(function(e){void 0!==e&&e.status&&a.resetState()})},a.editNotes=function(e){var t=a.props,n=t.editNotes,i=t.event,r=i.id,s=i.eventType,o=t.editNotesReminder,l=e.notes;s===F.m.APPOINTMENT?n({id:r,notes:l}).then(function(e){a.resetState()}):s===F.m.REMINDER&&o({id:r,notes:l}).then(function(e){a.resetState()})},a.reschedule=function(e){var t=a.props,n=t.reschedule,i=t.event.id,r=t.series,s=e.repeat,o=e.repeatDays,l=e.repeatInterval,c=e.notes,d=a.state,u=d.startDate,p=d.endDate,m=d.eventStartTime,f=d.eventEndTime;n({id:i,startDate:u,endDate:p,startTime:m.startOf("minute").format(),endTime:f&&null!==f?f.startOf("minute").format():f,repeat:s,repeatDays:o,repeatInterval:l,series:r,notes:c}).then(function(e){void 0!==e&&e.status&&a.resetState()})},a.editReminder=function(e){var t=a.props,n=t.editReminder,i=t.event.id,r=t.series,s=a.state,o=s.startDate,l=s.endDate,c=s.eventStartTime,d=s.eventEndTime,u=e.notes,p=void 0===u?"":u,m=e.repeat,f=e.repeatDays,h=e.repeatInterval;n({id:i,startDate:o,endDate:l,startTime:c.startOf("minute").format(),endTime:d,repeat:m,repeatDays:f,repeatInterval:h,series:r,notes:p}).then(function(e){void 0!==e&&e.status&&a.resetState()})},a.onAddReminder=function(e){var t,n=a.props,i=n.addReminder,r=n.currentUser.programIds,s=a.state,o=s.startDate,l=s.endDate,c=s.eventStartTime,d=e.repeat,u=e.repeatDays,p=e.notes,m=e.repeatInterval,f=e.title,h=e.remindCareCoach,v=e.participantTwo;h&&(t=(r[0]||{}).careCoach);v&&(t=v),i({startDate:o&&null!==o?o.format():o,endDate:l&&null!==l?l.format():l,startTime:c&&null!==c?c.startOf("minute").format():c,participantTwo:t,repeat:d,repeatInterval:m,repeatDays:u,notes:p,title:f}).then(function(e){a.resetState()})},a.onChangeContext=function(e){a.setState({eventMode:e.target.value})},a.onEventDurationChange=function(e,t){var n={eventStartTime:e,eventEndTime:t,eventStartTimeError:!1};e<=L()()&&(n=Object(P.a)({},n,{eventStartTimeError:!0})),a.setState(n)},a.onChangeEventEndTime=function(e){var t={eventEndTime:e,eventEndTimeError:!1};a.state.eventStartTime>=e&&(t=Object(P.a)({},t,{eventEndTimeError:!0})),a.setState(t)},a.onChangeEventStartTime=function(e){var t=e.clone(),n={eventStartTime:e,eventEndTime:t.add(1,"h"),eventStartTimeError:!1,eventEndTimeError:!1};e<=L()()&&(n=Object(P.a)({},n,{eventStartTimeError:!0})),a.setState(n)},a.onChangeRepeatType=function(e){a.setState({repeatType:e},a.adjustDate)},a.onEndDateChange=function(e){e&&e.isValid&&a.setState({endDate:e})},a.adjustEventOnStartDateChange=function(e,t){var n=a.state,i=n.eventStartTime,r=n.eventEndTime,s=t.clone().startOf("day"),o=e.clone().startOf("day"),l=s.diff(o,"days"),c={eventStartTime:l>0?i.add(l,"days"):i.subtract(Math.abs(l),"days"),eventEndTime:l>0?r.add(l,"days"):r.subtract(Math.abs(l),"days"),eventStartTimeError:!1};i<=L()()&&(c=Object(P.a)({},c,{eventStartTimeError:!0})),a.setState(c)},a.onStartDateChange=function(e){var t=a.state.startDate,n=Object(A.a)(Object(A.a)(a)),i=n.adjustDate,r=n.getBookedSlots;e&&e.isValid&&a.setState({startDate:e},function(){a.adjustEventOnStartDateChange(t,e),i(),r()})},a.disabledStartDate=function(e){return e&&e<=L()().subtract({day:1})},a.disabledEndDate=function(e){var t=a.state.repeat;if(t&&t!==F.x.NONE){var n=a.getNewEndDate();if(n)return e&&e<n}},a.onPrev=function(){var e=a.state.startDate;null!==e&&(0,Object(A.a)(Object(A.a)(a)).onStartDateChange)(e.clone().subtract(1,"days"))},a.onNext=function(){var e=a.state.startDate;null!==e&&(0,Object(A.a)(Object(A.a)(a)).onStartDateChange)(e.clone().add(1,"days"))},a.getSubmitHandler=function(){var e=a.props,t=e.purpose,n=e.event,i=(void 0===n?{}:n).eventType,r=void 0===i?"":i,s=Object(A.a)(Object(A.a)(a)),o=s.editNotes,l=s.reschedule,c=s.onAddAppointment,d=s.onAddReminder,u=s.editReminder,p=a.state.eventMode;return t?r===F.m.APPOINTMENT?t===F.l.EDIT_NOTES?o:l:r===F.m.REMINDER?t===F.l.EDIT_NOTES?o:u:void 0:p===F.m.APPOINTMENT?c:d},a.setFormRef=function(e){a.formRef=e,a.setState({formRef:!0})},a.setRepeatIntervalError=function(e){a.setState({repeatInterValError:e})},a.AddForm=S.a.create({onValuesChange:a.onFormChanges})(Ve),a.state={eventMode:a.props.eventMode||F.m.APPOINTMENT,eventTitle:"",eventStartTime:L()(),eventEndTime:L()().add(1,"h"),startDate:L()(),endDate:null,repeatType:F.x.NONE,bookedEvents:[]},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=Object(Xe.a)(this.props);if(!0===a.show&&a.show!==e.show){this.setState({eventStartTime:L()(),eventEndTime:L()().add(1,"h"),startDate:L()()});var n=a.userId,i=a.users;if(n){var r=i[n]||{};this.setParticipantTwo(r)}}if(a.show&&!Object(et.a)(e.event,a.event)){var s=a.event,o=a.currentUser,l=(o=void 0===o?{}:o).basicInfo,c=(l=void 0===l?{}:l)._id,d=a.users,u=void 0===d?{}:d;if(s){var p=s.eventType,m=s.startTime,f=s.endTime,h=s.data,v=(h=void 0===h?{}:h).repeatInterval,g=h.repeat,b=h.participantTwo,E=h.participantOne;this.setState({eventMode:p,eventStartTime:L()(m),eventEndTime:L()(f),startDate:L()(m),repeatInterval:v,repeat:g});var y=b===c?E:b;if(y){var C=u[y]||{};this.setParticipantTwo(C)}}}}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.isError,n=e.requesting,i=e.purpose,r=e.series,s=e.showRepeating,o=e.disabledDateAndTime,l=e.disabledStartDate,d=void 0!==l&&l,u=e.userId,p=e.event,m=(p=void 0===p?{}:p).data,f=void 0===m?{}:m,h=e.currentUser,v=void 0===h?{}:h,g=e.users,b=e.error,E=(b=void 0===b?{}:b).error,y=e.clearMsg,C=v.basicInfo,M=(C=void 0===C?{}:C)._id,O=this.formatMessage,N=this.handleCancel,w=this.AddForm,T=this.onChangeContext,S=this.onEventDurationChange,j=this.onChangeEventEndTime,k=this.onChangeEventStartTime,I=this.onChangeRepeatType,A=this.onEndDateChange,R=this.onStartDateChange,x=this.disabledEndDate,L=this.disabledStartDate,U=this.onPrev,V=this.onNext,B=this.getSubmitHandler,H=this.adjustDate,z=this.setRepeatIntervalError,q=this.setParticipantTwo,W=Object(P.a)({},f),Y=f.participantTwo,G=f.participantOne;Y===M&&(W=Object(P.a)({},W,{participantTwo:G}));var J=this.state,K=J.eventMode,Z=J.eventTitle,$=J.eventStartTime,Q=J.eventEndTime,X=J.startDate,ee=J.endDate,te=J.repeatType,ae=J.eventEndTimeError,ne=J.repeatInterValError,ie=J.eventStartTimeError,re=J.bookedEvents,se=void 0===re?[]:re,oe=J.participantTwo,le={visible:t||a,title:i===F.l.EDIT_NOTES?"Edit Notes":i===F.l.RESCHEDULE?"Reschedule":O(_.schedule),okButtonProps:{},onCancel:N,wrapClassName:"m global-modal event-modal",destroyOnClose:!0,footer:null,width:"100%"},ce=!!i;return c.a.createElement(D.a,le,E&&c.a.createElement(at.a,{close:y,msg:E,className:"error"}),c.a.createElement("div",{className:"flex"},c.a.createElement("div",{style:{width:"50%",minHeight:"640px"}},c.a.createElement("div",{className:"flex justify-content-end mb16"},c.a.createElement(it,{className:"event-group-btn",buttonStyle:"solid",onChange:T,defaultValue:K,disabled:ce,value:K},c.a.createElement(nt,{value:F.m.APPOINTMENT},O(_.appointment)),c.a.createElement(nt,{value:F.m.REMINDER},O(_.reminder)))),c.a.createElement(w,{adjustDate:H,eventMode:K,repeatType:te,onChangeRepeatType:I,disabledEndDate:x,disabledStartDate:L,disabledStartDateOnEdit:d,startDate:X,endDate:ee,onStartDateChange:R,onEndDateChange:A,eventTitle:Z,eventStartTime:$,eventEndTime:Q,loading:n,handleCancel:N,onChangeEventEndTime:j,onChangeEventStartTime:k,handleSubmit:B(),purpose:i,showRepeating:s,disabledDateAndTime:o,series:r,disabledForEdit:ce,userId:u,data:W,currentUser:v,otherUser:oe,users:g,eventEndTimeError:ae,eventStartTimeError:ie,setRepeatIntervalError:z,setParticipantTwo:q})),c.a.createElement(Qe,{eventMode:K,range:te!==F.x.NONE,disabled:K===F.m.REMINDER||i===F.l.EDIT_NOTES,eventTitle:Z,disabledEndDate:x,disabledStartDate:L,disabledStartDateOnEdit:d,onStartDateChange:R,onEndDateChange:A,eventStartTime:$,eventEndTime:Q,startDate:X,endDate:ee,onPrev:U,onNext:V,repeatInterValError:ne,onEventDurationChange:S,bookedEvents:se,className:"calendar-section ".concat(K===F.m.REMINDER||i===F.l.EDIT_NOTES?"disabled":""),participant:oe})))}}]),t}(l.Component),st=Object(d.d)(rt),ot=a(19),lt=a(8),ct=a(175),dt=Object(N.b)(function(e){var t=e.modal,a=t.show,n=t.modalType,i=t.requesting,r=t.purpose,s=t.entityId,o=t.data,l=(o=void 0===o?{}:o).userId,c=o.series,d=void 0!==c&&c,u=t.error,p=e.events.events,m=void 0===p?{}:p,f=e.users,h=e.auth,v=Object(ct.c)();return{show:a&&n===F.n.EVENT_MODAL,requesting:i,purpose:r,event:m[s],userId:l,currentUser:v(f,h.authenticated_user),users:f,showRepeating:!r||d,series:d,disabledDateAndTime:r===F.l.EDIT_NOTES,disabledStartDate:(r===F.l.RESCHEDULE||r===F.l.EDIT_REMINDER)&&d,error:u}},function(e){return{open:function(t){return e(Object(ot.i)(t))},close:function(){return e(Object(ot.g)())},addAppointment:function(t){return e(Object(ot.d)(t))},addReminder:function(t){return e(Object(ot.e)(t))},reschedule:function(t){return e(Object(lt.z)(t))},editNotes:function(t){return e(Object(lt.r)(t))},editReminder:function(t){return e(Object(lt.t)(t))},editNotesReminder:function(t){return e(Object(lt.s)(t))},clearMsg:function(){return e(Object(ot.f)())}}})(st),ut=a(871),pt=a(869),mt=a(385),ft=a(330),ht=a(356),vt=Object(d.c)({myProfile:{id:"app.edit-profile-main.my-profile",defaultMessage:"My Profile"},personal:{id:"app.edit-profile.menubar.personal",defaultMessage:"Personal"},contacts:{id:"app.edit-profile.menubar.contacts",defaultMessage:"Contacts"},medical:{id:"app.edit-profile.menubar.medical",defaultMessage:"Medical"},settings:{id:"app.edit-profile.menubar.settings",defaultMessage:"Settings"},insurance:{id:"app.edit-profile.menubar.insurance",defaultMessage:"Insurance"},insuranceProvider:{id:"app.edit-profile.insuranceSection.insuranceProvider",defaultMessage:"Medical Insurance Provider"},insurancePolicy:{id:"app.edit-profile.insuranceSection.insurancePolicy",defaultMessage:"Insurance Policy"},insuranceExpiresOn:{id:"app.edit-profile.insuranceSection.insuranceExpiresOn",defaultMessage:"Valid Till"},hospital:{id:"app.edit-profile.contact-sections.hospital",defaultMessage:"Hospital"},work:{id:"app.edit-profile.menubar.work",defaultMessage:"Work"},hospitalName:{id:"app.edit-profile.work-section.hospital-name",defaultMessage:"Hospital Name"},speciality:{id:"app.edit-profile.work-section.speciality",defaultMessage:"Speciality"},specialityRule:{id:"app.edit-profile.work-section.speciality-rule",defaultMessage:"Please provide speciality"},licenseNumber:{id:"app.edit-profile.work-section.license-number",defaultMessage:"License Number"},bio:{id:"app.edit-profile.work-section.bio",defaultMessage:"Bio"},addressLine1:{id:"app.edit-profile.work-section.address-line1",defaultMessage:"Flat / House / Floor / Building"},addressLine2:{id:"app.edit-profile.work-section.address-line2",defaultMessage:"Street / Locality / Area"},zipcode:{id:"app.edit-profile.work-section.zipcode",defaultMessage:"PO box / Zipcode"},cityLabel:{id:"app.edit-profile.work-section.city",defaultMessage:"Region or State"},countryLabel:{id:"app.edit-profile.work-section.country",defaultMessage:"Country"},organisationName:{id:"app.edit-profile.work-section.organisation-name",defaultMessage:"Organisation Name"},services:{id:"app.edit-profile.work-section.services",defaultMessage:"Services"},notBlank:{id:"app.edit-profile.not-blank",defaultMessage:"not be blank"},nursingTitle:{id:"app.edit-profile.service-section.nursing-title",defaultMessage:"Nursing"},physicalTherapyTitle:{id:"app.edit-profile.service-section.physical-therapy-title",defaultMessage:"Physical Therapy"},occupationalTherapyTitle:{id:"app.edit-profile.service-section.occupational-therapy-title",defaultMessage:"Occupational Therapy"},speechAndLanguagePathologyTitle:{id:"app.edit-profile.service-section.speech-and-language-pathology-title",defaultMessage:"Speech and Language Pathology"},medicalCounsellingTitle:{id:"app.edit-profile.service-section.medical-counselling-title",defaultMessage:"Medical Counselling"},healthAideTitle:{id:"app.edit-profile.service-section.health-aide-title",defaultMessage:"Health Aide"},nursing:{id:"app.edit-profile.service-section.nursing",defaultMessage:"Physical assessments, which include monitoring of vital signs, administer oral and intravenous medications as well as monitoring of cardiac and respiratory status"},physicalTherapy:{id:"app.edit-profile.service-section.physical-therapy",defaultMessage:"Assist patients to condition muscles and regain strength"},occupationalTherapy:{id:"app.edit-profile.service-section.occupational-therapy",defaultMessage:"Assist patients to perform functional skills such as bathing, eating, cooking, and many other skills"},speechAndLanguagePathology:{id:"app.edit-profile.service-section.speech-and-language-pathology",defaultMessage:"Assist patients to regain their ability to speak, swallow, and eat after a stroke or other neurological injuries"},medicalCounselling:{id:"app.edit-profile.service-section.medical-counselling",defaultMessage:"Assistance with medications, provision of counseling, assistance with financial matters, transportation, and in accessing educational and treatment resources"},healthAide:{id:"app.edit-profile.service-section.health-aide",defaultMessage:"Assist patients with their activities of daily living while patients are limited in mobility and strength which includes tasks such as bathing, grooming, and preparing meals"},cardiacCareTitle:{id:"app.edit-profile.service-section.cardiac-care-title",defaultMessage:"Cardiac Care"},diabetesCareTitle:{id:"app.edit-profile.service-section.diabetes-care-title",defaultMessage:"Diabetes Care"},smokingCessationTitle:{id:"app.edit-profile.service-section.smoking-cessation-title",defaultMessage:"Smoking Cessation"},respiteCareTitle:{id:"app.edit-profile.service-section.respite-care-title",defaultMessage:"Respite Care"},homemakingTitle:{id:"app.edit-profile.service-section.homemaking-title",defaultMessage:"Homemaking"},cardiacCare:{id:"app.edit-profile.service-section.cardiac-care",defaultMessage:"Assist patients with cardiac disease to manage their disease and to help slow down progression of their disease, monitor the cardiac status, prompt efficient treatment that will prevent re- hospitalization"},diabetesCare:{id:"app.edit-profile.service-section.diabetes-care",defaultMessage:"Assist patient with diabetes and their families in learning to manage their diabetes, educate diet, exercise, self- blood glucose monitoring, and about complications of uncontrolled diabetes"},smokingCessation:{id:"app.edit-profile.service-section.smoking-cessation",defaultMessage:"Provide nicotine replacement therapy"},respiteCare:{id:"app.edit-profile.service-section.respite-care",defaultMessage:"Assist patients with Adult Care, Alzheimer\u2019s Care, Hospital Support"},homemaking:{id:"app.edit-profile.service-section.homemaking",defaultMessage:"Provide patients with daily assistance including meal preparation, housekeeping, laundary & maintaining chores"},medicalServices:{id:"app.myprofile.medical-services",defaultMessage:"Medical Services"},homeHealthCare:{id:"app.myprofile.home-health-care",defaultMessage:"Home Health Care"},specialCare:{id:"app.myprofile.special-care",defaultMessage:"Special Care"},nonMedicalServices:{id:"app.myprofile.non-medical-services",defaultMessage:"Non-medical Services"},basic:{id:"app.medical-section.basic",defaultMessage:"Basic"},chiefComplaint:{id:"app.medical-section.chief-complaint",defaultMessage:"Chief Complaint"},allergies:{id:"app.medical-section.allergies",defaultMessage:"Allergies"},useComma:{id:"app.medical-section.use-comma",defaultMessage:"Use , (comma) to add more"},surgeriesFracture:{id:"app.medical-section.surgeries-fracture",defaultMessage:"Surgeries/Fracture"},otherConditions:{id:"app.medical-section.other-conditions",defaultMessage:"Other Conditions"},vital:{id:"app.medical-section.vital",defaultMessage:"Vital"},vitalSubtitle:{id:"app.medical-section.vital-subtitle",defaultMessage:"Add most recent vital readings"},bodyTemperature:{id:"app.medical-section.body-temperature",defaultMessage:"Body Temperature"},respirationRate:{id:"app.medical-section.respiration-rate",defaultMessage:"Respiration Rate"},breathePerMinute:{id:"app.medical-section.breathe-per-minute",defaultMessage:"breathe per minute"},pulseRate:{id:"app.medical-section.pulse-rate",defaultMessage:"Pulse Rate"},bpm:{id:"app.medical-section.bpm",defaultMessage:"bpm"},bloodPressure:{id:"app.medical-section.blood-pressure",defaultMessage:"Blood Pressure"},bpUnit:{id:"app.medical-section.bp-unit",defaultMessage:"systolic/diastolic in mmHG"},clinicalReadings:{id:"app.medical-section.clinical-readings",defaultMessage:"Clinical Readings"},clinicalReadingsSubtitle:{id:"app.medical-section.clinical-readings-subtitle",defaultMessage:"Choose a diagnosis method & add clinical readings respectively. You can add multiple readings"},notBeBlank:{id:"app.contacts-section.not-be-blank",defaultMessage:"Cannot be blank"},caseDoctor:{id:"app.contacts-section.case-doctor",defaultMessage:"Case Doctor"},notAssigned:{id:"app.contacts-section.not-assigned",defaultMessage:"Not assigned"},careCoach:{id:"app.contacts-section.care-coach",defaultMessage:"Care coach"},relativeName:{id:"app.contacts-section.relative-name",defaultMessage:"Relative Name"},parent:{id:"app.contacts-section.parent",defaultMessage:"Parent"},spouse:{id:"app.contacts-section.spouse",defaultMessage:"Spouse"},guardian:{id:"app.contacts-section.guardian",defaultMessage:"Guardian"},relativeMobile:{id:"app.contacts-section.relative-mobile",defaultMessage:"Relative Mobile"},contactRelative:{id:"app.contacts-section.contact-relative",defaultMessage:"Contact Relative for Emergency"},emergencyContactMobile:{id:"app.contacts-section.emergency-contact-mobile",defaultMessage:"Emergency Contact Mobile"},emergencyContactName:{id:"app.contacts-section.emergency-contact-name",defaultMessage:"Emergency Contact Name"},emergencyContactRule:{id:"app.contacts-section.emergency-contact-rule",defaultMessage:"Please provide emergency contact"},phoneNumberRule:{id:"app.contacts-section.phone-number-rule",defaultMessage:"Please provide phone number"},careCoachphoneNumberRule:{id:"app.contacts-section.carecoach-phone-number-rule",defaultMessage:"This field cannot be blank. Please provide phone number"},changePassword:{id:"app.edit-profile.setting-section.chnage-password",defaultMessage:"Change Password"},calendarSynced:{id:"app.edit-profile.setting-section.calendar-sync",defaultMessage:"Calendar Sync"},smsAlerts:{id:"app.edit-profile.setting-section.sms-alerts",defaultMessage:"SMS Alerts"},smsWillBeSent:{id:"app.edit-profile.setting-section.sms-will-be-sent",defaultMessage:"SMS will be sent to your registered mobile contact"},emailAlerts:{id:"app.edit-profile.setting-section.email-alerts",defaultMessage:"Email Alerts"},emailWillBeSent:{id:"app.edit-profile.setting-section.email-will-be-sent",defaultMessage:"Email will be sent to your registered email address"},pushAlerts:{id:"app.edit-profile.setting-section.push-alerts",defaultMessage:"In-app / Push Alerts"},pushWillBeSent:{id:"app.edit-profile.setting-section.push-will-be-sent",defaultMessage:"These alerts are notified within the RPM web app."},reminderAlerts:{id:"app.edit-profile.setting-section.reminder-alerts",defaultMessage:"Reminder Alerts"},reminderWillBeSent:{id:"app.edit-profile.setting-section.reminder-will-be-sent",defaultMessage:"All reminders will be sent via SMS/Email/Calendar"},account:{id:"app.edit-profile.setting-section.account",defaultMessage:"Account"},notifications:{id:"app.edit-profile.setting-section.notifications",defaultMessage:"Notifications"},selectPhotoTitle:{id:"app.edit-profile.personal-section.select-photo-title",defaultMessage:"Select profile photo"},photoOKText:{id:"app.edit-profile.personal-section.photo-ok-text",defaultMessage:"Set as Profile Photo"},cropImage:{id:"app.edit-profile.personal-section.crop-image-text",defaultMessage:"To crop this image, drag the region below and then click \u201cSet as Profile Photo\u201d button"},photoVisibleInfo:{id:"app.edit-profile.personal-section.photo-visible-info",defaultMessage:"Your profile photo will be visible to everyone, across IQVIA products."},verified:{id:"app.edit-profile.personal-section.verified",defaultMessage:"Verified"},notVerified:{id:"app.edit-profile.personal-section.not-verified",defaultMessage:"Not verified"},mobile:{id:"app.edit-profile.personal-section.mobile",defaultMessage:"Mobile"},nameRule:{id:"app.edit-profile.personal-section.name-rule",defaultMessage:"please provide your Name"},dobRule:{id:"app.edit-profile.personal-section.dob-rule",defaultMessage:"please provide your Date of Birth"},genderRule:{id:"app.edit-profile.personal-section.gender-rule",defaultMessage:"please provide your gender"},localityRule:{id:"app.edit-profile.personal-section.locality-rule",defaultMessage:"please fill your locality"},zipcodeRule:{id:"app.edit-profile.personal-section.zipcode-rule",defaultMessage:"please fill your zip code"},cityRule:{id:"app.edit-profile.personal-section.city-rule",defaultMessage:"please provide your city"},countryRule:{id:"app.edit-profile.personal-section.country-rule",defaultMessage:"please provide your country"},sendOTP:{id:"app.edit-profile.personal-section.send-otp",defaultMessage:"Send OTP"},fullName:{id:"app.edit-profile.personal-section.full-name",defaultMessage:"Full Name"},dateOfBirth:{id:"app.edit-profile.personal-section.date-of-birth",defaultMessage:"Date of Birth"},email:{id:"app.edit-profile.personal-section.email",defaultMessage:"Email"},male:{id:"app.edit-profile.personal-section.male",defaultMessage:"Male"},female:{id:"app.edit-profile.personal-section.female",defaultMessage:"Female"},city:{id:"app.edit-profile.personal-section.city",defaultMessage:"City"},country:{id:"app.edit-profile.personal-section.country",defaultMessage:"Country"},consentForm:{id:"app.edit-profile.settingSection.consentForm",defaultMessage:"Consent Form"},idProof:{id:"app.edit-profile.settingSection.Idproof",defaultMessage:"ID Proof"},uploadedOn:{id:"app.edit-profile.settingSection.uploadedOn",defaultMessage:"Uploaded on"},newPatient:{id:"app.care-coach.add-patient.newPatient",defaultMessage:"New Patient"},newDoctor:{id:"app.care-coach.add-doctor.newDoctor",defaultMessage:"New Doctor"},patientEmail:{id:"app.care-coach.add-patient.patientEmail",defaultMessage:"Patient's Email"},doctorEmail:{id:"app.care-coach.add-patient.doctorEmail",defaultMessage:"Doctor's Email"},incorrectEmail:{id:"app.care-coach.add-patient.incorrectEmail",defaultMessage:"Please enter a valid email address"},program:{id:"app.care-coach.add-patient.program",defaultMessage:"Program"},programError:{id:"app.care-coach.add-patient.programError",defaultMessage:"Please enter a Program"},newPatientSuccess:{id:"app.care-coach.add-patient.newPatientSuccess",defaultMessage:"New Patient enrolled to the program and invite sent successfully"},newPatientFailure:{id:"app.care-coach.add-patient.newPatientFailure",defaultMessage:"Unable to enroll new Patient, Please try again."},newDoctorSuccess:{id:"app.care-coach.add-patient.newDoctorSuccess",defaultMessage:"New Doctor enrolled to the program and invite sent successfully"},newDoctorFailure:{id:"app.care-coach.add-patient.newDoctorFailure",defaultMessage:"Unable to enroll new Doctor, Please try again."},licenseId:{id:"app.care-coach.add-doctor.licenseId",defaultMessage:"License ID"},hospitalError:{id:"app.care-coach.add-patient.hospitalError",defaultMessage:"Please enter a Hospital"},relativeNumberError:{id:"app.edit-profile.relativeNumber error",defaultMessage:"Relative number and Personal Number cannot be same"},emergencyNumberError:{id:"app.edit-profile.emergencyNumber error",defaultMessage:"Emergency number and Personal Number cannot be same"}}),gt=a(468),bt=c.a.createElement("img",{alt:"",src:re.a}),Et=c.a.createElement("img",{alt:"",src:De.a}),yt="programId",Ct="doctor",Mt="hospital",Ot=["email",yt,"contactNo.phoneNumber",Ct,Mt,"contactNo.countryCode"],Nt=W.a.Option,wt={};function Tt(e){return e&&e>L()().endOf("day")}var Dt=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).getParentNode=function(e){return e.parentNode},a.formatMessage=function(e){a.props.intl.formatMessage(e)},a.showModal=function(){a.setState({visible:!0})},a.getProgramsData=function(){var e=a.props.programs,t=[];for(var n in e){var i=e[n];void 0!==i._id&&L()().isBefore(i.expiresOn)&&t.push(c.a.createElement(Nt,{key:"".concat(i._id),value:i._id},i.name))}return t},a.getDoctorsData=function(){var e=a.props,t=e.users,n=(0,e.form.getFieldValue)(yt),i=(a.props.programs[n]||{}).doctors,r=void 0===i?{}:i,s=[];Object(mt.a)(r,function(e){var a=e._id;e&&a&&t[a]&&s.push(t[a])});var o=[];return Object(mt.a)(s,function(e){o.push(c.a.createElement(Nt,{key:"".concat(e._id),value:e._id},e.name))}),o},a.getHospitalsData=function(){var e=a.props,t=e.form.getFieldValue,n=e.hospitals,i=void 0===n?{}:n,r=e.users,s=void 0===r?{}:r,o=i,l=t(Ct);if(l&&s[l]){var d=s[l].visitingHospitals;o=Object(ut.a)(o,function(e){if(d.includes(e.id))return e}),o=Object(pt.a)(o,void 0)}var u=[];for(var p in o){var m=o[p];u.push(c.a.createElement(Nt,{key:"".concat(m.id),value:m.id},m.name))}return u},a.handleCancel=function(){(0,a.props.close)()},a.clearMsg=function(e){a.setState({is_link_send:!1,is_error:!1})},a.openCalendar=function(e){window.document.getElementsByClassName("ant-calendar-picker-input")[0].click()},a.isError=function(){var e=a.props.form.getFieldError;for(var t in Ot){if(e(Ot[t]))return!0}return!1},a.onChangeProgram=function(e){var t=a.props,n=t.fetchProgramDoctors,i=t.form,r=i.resetFields,s=i.validateFields;n(e),r([Ct,Mt]),s([Ct,Mt])},a.onChangeDoctor=function(e){var t=a.props,n=t.form,i=n.resetFields,r=n.validateFields,s=t.fetchDoctorHospitals;i([Mt]),s(e),r([Mt])},a.isText=function(e,t,a){t&&t.length>0&&null===t.match("^[A-Za-z ]+$")?a("Enter valid name"):a()},a.state={visible:!0,is_link_send:!1,is_error:!1,toggleAddPatient:!0},a.handleOk=a.handleOk.bind(Object(A.a)(Object(A.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchProgramsData)(),(0,this.props.form.validateFields)()}},{key:"componentWillUnmount",value:function(){(0,this.props.form.resetFields)()}},{key:"handleOk",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(t)t&&e.setState({visible:!0,is_error:!0});else{var n={};""===(n=a).city&&(n.city=void 0),n.userCategory="patient";var i=e.props.handleCancel;Object(Se.a)({method:F.y.POST,data:n,url:Pe.b.addPatientURL()}).then(function(t){wt=t.payload.error?t.payload.error.message:"",t.status?e.setState({visible:!1,is_link_send:!0},function(){setTimeout(Object(I.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}},e,this)})),3e3)}):e.setState({visible:!0,is_error:!0})})}})}},{key:"render",value:function(){var e=this,t=this.props,a=t.intl.formatMessage,n=t.show;if(!n)return null;var i=this.props.form,r=i.getFieldDecorator,s=i.isFieldTouched,o=i.getFieldError,l=this.isError,d={};return Ot.forEach(function(e){d[e]=s(e)&&o(e)}),c.a.createElement("div",null,c.a.createElement("div",null,this.state.is_link_send&&c.a.createElement(gt.a,{msg:a(vt.newPatientSuccess),className:"carecoach-new-user-success-message top60",close:this.clearMsg})),c.a.createElement(D.a,{title:a(vt.newPatient),visible:n,onOk:this.handleOk,okButtonProps:{disabled:l()},onCancel:this.handleCancel,okText:"Send Invite",wrapClassName:"global-modal",destroyOnClose:!0},c.a.createElement(S.a,{className:"full-width"},c.a.createElement(S.a.Item,{validateStatus:d.email?"error":"",help:d.email||"",label:a(vt.patientEmail)},r("email",{rules:[{type:"email",required:!0,message:a(vt.incorrectEmail)}]})(c.a.createElement(Y.a,null))),c.a.createElement(S.a.Item,{validateStatus:d[yt]?"error":"",help:d[yt]||"",label:a(vt.program)},r(yt,{rules:[{required:!0,message:a(vt.programError)}]})(c.a.createElement(W.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:Et,showSearch:!0,autoComplete:"off",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:this.onChangeProgram,getPopupContainer:this.getParentNode},this.getProgramsData()))),c.a.createElement(S.a.Item,{label:a(vt.caseDoctor),validateStatus:d[Ct]?"error":"",help:d[Ct]||""},r(Ct,{rules:[{required:!0}]})(c.a.createElement(W.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:bt,showSearch:!0,autoComplete:"off",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:this.onChangeDoctor,getPopupContainer:this.getParentNode},this.getDoctorsData()))),c.a.createElement(S.a.Item,{label:a(vt.hospital),validateStatus:d[Mt]?"error":"",help:d[Mt]||""},r(Mt,{rules:[{required:!0}]})(c.a.createElement(W.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:bt,showSearch:!0,autoComplete:"off",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:this.getParentNode},this.getHospitalsData()))),c.a.createElement("div",{className:"optional"},"Optional"),c.a.createElement(S.a.Item,{label:a(vt.fullName)},r("name",{rules:[{validator:this.isText}]})(c.a.createElement(Y.a,null))),c.a.createElement("div",{className:"mobile-gender"},a(vt.mobile)),c.a.createElement(ft.a,Object.assign({fieldError:d,phoneField:"contactNo.phoneNumber",countryCodeField:"contactNo.countryCode"},this.props)),c.a.createElement("div",null),c.a.createElement("div",{className:"mt20 flex row align-items-center iqvia-date-picker"},c.a.createElement("div",{className:"full-width "},c.a.createElement(S.a.Item,{label:a(vt.dateOfBirth)},r("dob",{onChange:function(){e.setState({open:!1})}})(c.a.createElement(B.a,{showToday:!1,disabledDate:Tt,className:"full-width",getCalendarContainer:this.getParentNode})),c.a.createElement("img",{alt:"",className:"calendar",onClick:this.openCalendar,src:we.a})))),c.a.createElement("div",{className:""},c.a.createElement("div",{className:"mobile-gender"},"Gender"),c.a.createElement(S.a.Item,null,r("gender",{})(c.a.createElement(R.a.Group,{className:"full-width male_female_radio_group"},c.a.createElement(R.a.Button,{className:"full-width check-box-right flex fontsize16",value:"M",style:{display:"flex",justifyContent:"center",paddingTop:"8px"}},a(vt.male)),c.a.createElement(R.a.Button,{className:"full-width check-box-right flex fontsize16 pt8",style:{display:"flex",justifyContent:"center",paddingTop:"8px"},value:"F"},a(vt.female)))))),c.a.createElement(ht.a,{form:this.props.form,getFieldDecorator:r,cityLabel:a(vt.city),countryLabel:a(vt.country),cityField:"city",countryField:"country",fieldError:d,cityRules:[{required:!1,message:a(vt.cityRule)}],countryRules:[{required:!1,message:a(vt.countryRule)}]}),c.a.createElement("div",{className:"end-padding"}),c.a.createElement("div",{className:"end-padding"},this.state.is_error&&c.a.createElement(at.a,{msg:wt,className:"carecoach-new-user-failure-message",close:this.clearMsg})))))}}]),t}(c.a.Component),St=Object(d.d)(S.a.create()(Dt)),Pt=a(16),jt=a(51),kt=Object(N.b)(function(e){var t=e.programs,a=e.hospitals,n=e.users,i=e.modal,r=i.show,s=i.modalType;return{show:r&&s===F.n.PATIENT_MODAL,programs:t,hospitals:a,users:n}},function(e){return{fetchProgramsData:function(){return e(Object(Pt.k)())},fetchProgramDoctors:function(t){return e(Object(Pt.h)(t))},fetchDoctorHospitals:function(t){return e(Object(jt.b)(t))},close:function(){return e(Object(ot.g)())}}})(St),It=a(290),At=Object(d.c)({myProfile:{id:"app.edit-profile-main.my-profile",defaultMessage:"My Profile"},personal:{id:"app.edit-profile.menubar.personal",defaultMessage:"Personal"},contacts:{id:"app.edit-profile.menubar.contacts",defaultMessage:"Contacts"},medical:{id:"app.edit-profile.menubar.medical",defaultMessage:"Medical"},settings:{id:"app.edit-profile.menubar.settings",defaultMessage:"Settings"},insurance:{id:"app.edit-profile.menubar.insurance",defaultMessage:"Insurance"},insuranceProvider:{id:"app.edit-profile.insuranceSection.insuranceProvider",defaultMessage:"Medical Insurance Provider"},insurancePolicy:{id:"app.edit-profile.insuranceSection.insurancePolicy",defaultMessage:"Insurance Policy"},insuranceExpiresOn:{id:"app.edit-profile.insuranceSection.insuranceExpiresOn",defaultMessage:"Valid Till"},hospital:{id:"app.edit-profile.contact-sections.hospital",defaultMessage:"Hospital"},work:{id:"app.edit-profile.menubar.work",defaultMessage:"Work"},hospitalName:{id:"app.edit-profile.work-section.hospital-name",defaultMessage:"Hospital Name"},speciality:{id:"app.edit-profile.work-section.speciality",defaultMessage:"Speciality"},specialityRule:{id:"app.edit-profile.work-section.speciality-rule",defaultMessage:"Please provide speciality"},licenseNumber:{id:"app.edit-profile.work-section.license-number",defaultMessage:"License Number"},bio:{id:"app.edit-profile.work-section.bio",defaultMessage:"Bio"},addressLine1:{id:"app.edit-profile.work-section.address-line1",defaultMessage:"Flat / House / Floor / Building"},addressLine2:{id:"app.edit-profile.work-section.address-line2",defaultMessage:"Street / Locality / Area"},zipcode:{id:"app.edit-profile.work-section.zipcode",defaultMessage:"PO box / Zipcode"},cityLabel:{id:"app.edit-profile.work-section.city",defaultMessage:"Region or State"},countryLabel:{id:"app.edit-profile.work-section.country",defaultMessage:"Country"},organisationName:{id:"app.edit-profile.work-section.organisation-name",defaultMessage:"Organisation Name"},services:{id:"app.edit-profile.work-section.services",defaultMessage:"Services"},notBlank:{id:"app.edit-profile.not-blank",defaultMessage:"not be blank"},nursingTitle:{id:"app.edit-profile.service-section.nursing-title",defaultMessage:"Nursing"},physicalTherapyTitle:{id:"app.edit-profile.service-section.physical-therapy-title",defaultMessage:"Physical Therapy"},occupationalTherapyTitle:{id:"app.edit-profile.service-section.occupational-therapy-title",defaultMessage:"Occupational Therapy"},speechAndLanguagePathologyTitle:{id:"app.edit-profile.service-section.speech-and-language-pathology-title",defaultMessage:"Speech and Language Pathology"},medicalCounsellingTitle:{id:"app.edit-profile.service-section.medical-counselling-title",defaultMessage:"Medical Counselling"},healthAideTitle:{id:"app.edit-profile.service-section.health-aide-title",defaultMessage:"Health Aide"},nursing:{id:"app.edit-profile.service-section.nursing",defaultMessage:"Physical assessments, which include monitoring of vital signs, administer oral and intravenous medications as well as monitoring of cardiac and respiratory status"},physicalTherapy:{id:"app.edit-profile.service-section.physical-therapy",defaultMessage:"Assist patients to condition muscles and regain strength"},occupationalTherapy:{id:"app.edit-profile.service-section.occupational-therapy",defaultMessage:"Assist patients to perform functional skills such as bathing, eating, cooking, and many other skills"},speechAndLanguagePathology:{id:"app.edit-profile.service-section.speech-and-language-pathology",defaultMessage:"Assist patients to regain their ability to speak, swallow, and eat after a stroke or other neurological injuries"},medicalCounselling:{id:"app.edit-profile.service-section.medical-counselling",defaultMessage:"Assistance with medications, provision of counseling, assistance with financial matters, transportation, and in accessing educational and treatment resources"},healthAide:{id:"app.edit-profile.service-section.health-aide",defaultMessage:"Assist patients with their activities of daily living while patients are limited in mobility and strength which includes tasks such as bathing, grooming, and preparing meals"},cardiacCareTitle:{id:"app.edit-profile.service-section.cardiac-care-title",defaultMessage:"Cardiac Care"},diabetesCareTitle:{id:"app.edit-profile.service-section.diabetes-care-title",defaultMessage:"Diabetes Care"},smokingCessationTitle:{id:"app.edit-profile.service-section.smoking-cessation-title",defaultMessage:"Smoking Cessation"},respiteCareTitle:{id:"app.edit-profile.service-section.respite-care-title",defaultMessage:"Respite Care"},homemakingTitle:{id:"app.edit-profile.service-section.homemaking-title",defaultMessage:"Homemaking"},cardiacCare:{id:"app.edit-profile.service-section.cardiac-care",defaultMessage:"Assist patients with cardiac disease to manage their disease and to help slow down progression of their disease, monitor the cardiac status, prompt efficient treatment that will prevent re- hospitalization"},diabetesCare:{id:"app.edit-profile.service-section.diabetes-care",defaultMessage:"Assist patient with diabetes and their families in learning to manage their diabetes, educate diet, exercise, self- blood glucose monitoring, and about complications of uncontrolled diabetes"},smokingCessation:{id:"app.edit-profile.service-section.smoking-cessation",defaultMessage:"Provide nicotine replacement therapy"},respiteCare:{id:"app.edit-profile.service-section.respite-care",defaultMessage:"Assist patients with Adult Care, Alzheimer\u2019s Care, Hospital Support"},homemaking:{id:"app.edit-profile.service-section.homemaking",defaultMessage:"Provide patients with daily assistance including meal preparation, housekeeping, laundary & maintaining chores"},medicalServices:{id:"app.myprofile.medical-services",defaultMessage:"Medical Services"},homeHealthCare:{id:"app.myprofile.home-health-care",defaultMessage:"Home Health Care"},specialCare:{id:"app.myprofile.special-care",defaultMessage:"Special Care"},nonMedicalServices:{id:"app.myprofile.non-medical-services",defaultMessage:"Non-medical Services"},basic:{id:"app.medical-section.basic",defaultMessage:"Basic"},chiefComplaint:{id:"app.medical-section.chief-complaint",defaultMessage:"Chief Complaint"},allergies:{id:"app.medical-section.allergies",defaultMessage:"Allergies"},useComma:{id:"app.medical-section.use-comma",defaultMessage:"Use , (comma) to add more"},surgeriesFracture:{id:"app.medical-section.surgeries-fracture",defaultMessage:"Surgeries/Fracture"},otherConditions:{id:"app.medical-section.other-conditions",defaultMessage:"Other Conditions"},vital:{id:"app.medical-section.vital",defaultMessage:"Vital"},vitalSubtitle:{id:"app.medical-section.vital-subtitle",defaultMessage:"Add most recent vital readings"},bodyTemperature:{id:"app.medical-section.body-temperature",defaultMessage:"Body Temperature"},respirationRate:{id:"app.medical-section.respiration-rate",defaultMessage:"Respiration Rate"},breathePerMinute:{id:"app.medical-section.breathe-per-minute",defaultMessage:"breathe per minute"},pulseRate:{id:"app.medical-section.pulse-rate",defaultMessage:"Pulse Rate"},bpm:{id:"app.medical-section.bpm",defaultMessage:"bpm"},bloodPressure:{id:"app.medical-section.blood-pressure",defaultMessage:"Blood Pressure"},bpUnit:{id:"app.medical-section.bp-unit",defaultMessage:"systolic/diastolic in mmHG"},clinicalReadings:{id:"app.medical-section.clinical-readings",defaultMessage:"Clinical Readings"},clinicalReadingsSubtitle:{id:"app.medical-section.clinical-readings-subtitle",defaultMessage:"Choose a diagnosis method & add clinical readings respectively. You can add multiple readings"},notBeBlank:{id:"app.contacts-section.not-be-blank",defaultMessage:"Cannot be blank"},caseDoctor:{id:"app.contacts-section.case-doctor",defaultMessage:"Case Doctor"},notAssigned:{id:"app.contacts-section.not-assigned",defaultMessage:"Not assigned"},careCoach:{id:"app.contacts-section.care-coach",defaultMessage:"Care coach"},relativeName:{id:"app.contacts-section.relative-name",defaultMessage:"Relative Name"},parent:{id:"app.contacts-section.parent",defaultMessage:"Parent"},spouse:{id:"app.contacts-section.spouse",defaultMessage:"Spouse"},guardian:{id:"app.contacts-section.guardian",defaultMessage:"Guardian"},relativeMobile:{id:"app.contacts-section.relative-mobile",defaultMessage:"Relative Mobile"},contactRelative:{id:"app.contacts-section.contact-relative",defaultMessage:"Contact Relative for Emergency"},emergencyContactMobile:{id:"app.contacts-section.emergency-contact-mobile",defaultMessage:"Emergency Contact Mobile"},emergencyContactName:{id:"app.contacts-section.emergency-contact-name",defaultMessage:"Emergency Contact Name"},emergencyContactRule:{id:"app.contacts-section.emergency-contact-rule",defaultMessage:"Please provide emergency contact"},phoneNumberRule:{id:"app.contacts-section.phone-number-rule",defaultMessage:"Please provide phone number"},careCoachphoneNumberRule:{id:"app.contacts-section.carecoach-phone-number-rule",defaultMessage:"This field cannot be blank. Please provide phone number"},changePassword:{id:"app.edit-profile.setting-section.chnage-password",defaultMessage:"Change Password"},calendarSynced:{id:"app.edit-profile.setting-section.calendar-sync",defaultMessage:"Calendar Sync"},smsAlerts:{id:"app.edit-profile.setting-section.sms-alerts",defaultMessage:"SMS Alerts"},smsWillBeSent:{id:"app.edit-profile.setting-section.sms-will-be-sent",defaultMessage:"SMS will be sent to your registered mobile contact"},emailAlerts:{id:"app.edit-profile.setting-section.email-alerts",defaultMessage:"Email Alerts"},emailWillBeSent:{id:"app.edit-profile.setting-section.email-will-be-sent",defaultMessage:"Email will be sent to your registered email address"},pushAlerts:{id:"app.edit-profile.setting-section.push-alerts",defaultMessage:"In-app / Push Alerts"},pushWillBeSent:{id:"app.edit-profile.setting-section.push-will-be-sent",defaultMessage:"These alerts are notified within the RPM web app."},reminderAlerts:{id:"app.edit-profile.setting-section.reminder-alerts",defaultMessage:"Reminder Alerts"},reminderWillBeSent:{id:"app.edit-profile.setting-section.reminder-will-be-sent",defaultMessage:"All reminders will be sent via SMS/Email/Calendar"},account:{id:"app.edit-profile.setting-section.account",defaultMessage:"Account"},notifications:{id:"app.edit-profile.setting-section.notifications",defaultMessage:"Notifications"},selectPhotoTitle:{id:"app.edit-profile.personal-section.select-photo-title",defaultMessage:"Select profile photo"},photoOKText:{id:"app.edit-profile.personal-section.photo-ok-text",defaultMessage:"Set as Profile Photo"},cropImage:{id:"app.edit-profile.personal-section.crop-image-text",defaultMessage:"To crop this image, drag the region below and then click \u201cSet as Profile Photo\u201d button"},photoVisibleInfo:{id:"app.edit-profile.personal-section.photo-visible-info",defaultMessage:"Your profile photo will be visible to everyone, across IQVIA products."},verified:{id:"app.edit-profile.personal-section.verified",defaultMessage:"Verified"},notVerified:{id:"app.edit-profile.personal-section.not-verified",defaultMessage:"Not verified"},mobile:{id:"app.edit-profile.personal-section.mobile",defaultMessage:"Mobile"},nameRule:{id:"app.edit-profile.personal-section.name-rule",defaultMessage:"please provide your Name"},dobRule:{id:"app.edit-profile.personal-section.dob-rule",defaultMessage:"please provide your Date of Birth"},genderRule:{id:"app.edit-profile.personal-section.gender-rule",defaultMessage:"please provide your gender"},localityRule:{id:"app.edit-profile.personal-section.locality-rule",defaultMessage:"please fill your locality"},zipcodeRule:{id:"app.edit-profile.personal-section.zipcode-rule",defaultMessage:"please fill your zip code"},cityRule:{id:"app.edit-profile.personal-section.city-rule",defaultMessage:"please provide your city"},countryRule:{id:"app.edit-profile.personal-section.country-rule",defaultMessage:"please provide your country"},sendOTP:{id:"app.edit-profile.personal-section.send-otp",defaultMessage:"Send OTP"},fullName:{id:"app.edit-profile.personal-section.full-name",defaultMessage:"Full Name"},dateOfBirth:{id:"app.edit-profile.personal-section.date-of-birth",defaultMessage:"Date of Birth"},email:{id:"app.edit-profile.personal-section.email",defaultMessage:"Email"},male:{id:"app.edit-profile.personal-section.male",defaultMessage:"Male"},female:{id:"app.edit-profile.personal-section.female",defaultMessage:"Female"},city:{id:"app.edit-profile.personal-section.city",defaultMessage:"City"},country:{id:"app.edit-profile.personal-section.country",defaultMessage:"Country"},consentForm:{id:"app.edit-profile.settingSection.consentForm",defaultMessage:"Consent Form"},idProof:{id:"app.edit-profile.settingSection.Idproof",defaultMessage:"ID Proof"},uploadedOn:{id:"app.edit-profile.settingSection.uploadedOn",defaultMessage:"Uploaded on"},newPatient:{id:"app.care-coach.add-patient.newPatient",defaultMessage:"New Patient"},newDoctor:{id:"app.care-coach.add-doctor.newDoctor",defaultMessage:"New Doctor"},patientEmail:{id:"app.care-coach.add-patient.patientEmail",defaultMessage:"Patient's Email"},doctorEmail:{id:"app.care-coach.add-patient.doctorEmail",defaultMessage:"Doctor's Email"},incorrectEmail:{id:"app.care-coach.add-patient.incorrectEmail",defaultMessage:"Please enter a valid email address"},program:{id:"app.care-coach.add-patient.program",defaultMessage:"Program"},programError:{id:"app.care-coach.add-patient.programError",defaultMessage:"Please enter a Program"},newPatientSuccess:{id:"app.care-coach.add-patient.newPatientSuccess",defaultMessage:"New Patient enrolled to the program and invite sent successfully"},newPatientFailure:{id:"app.care-coach.add-patient.newPatientFailure",defaultMessage:"Unable to enroll new Patient, Please try again."},newDoctorSuccess:{id:"app.care-coach.add-patient.newDoctorSuccess",defaultMessage:"New Doctor enrolled to the program and invite sent successfully"},newDoctorFailure:{id:"app.care-coach.add-patient.newDoctorFailure",defaultMessage:"Unable to enroll new Doctor, Please try again."},licenseId:{id:"app.care-coach.add-doctor.licenseId",defaultMessage:"License ID"},hospitalError:{id:"app.care-coach.add-patient.hospitalError",defaultMessage:"Please enter a Hospital"},relativeNumberError:{id:"app.edit-profile.relativeNumber error",defaultMessage:"Relative number and Personal Number cannot be same"},emergencyNumberError:{id:"app.edit-profile.emergencyNumber error",defaultMessage:"Emergency number and Personal Number cannot be same"}}),Rt=c.a.createElement("img",{alt:"",src:De.a}),xt=c.a.createElement("img",{alt:"",src:re.a}),Lt="country",Ft="city",_t="hospital",Ut=["email","programId",Lt,Ft,_t,"contactNo.countryCode","contactNo.phoneNumber"],Vt=W.a.Option,Bt={},Ht=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).getParentNode=function(e){return e.parentNode},a.formatMessage=function(e){a.props.intl.formatMessage(e)},a.showModal=function(){a.setState({visible:!0})},a.onChangeCity=function(e,t){var n=a.props.form,i=n.resetFields,r=n.validateFields;i(_t),r(),a.props.fetchHospitals(e,t)},a.onChangeCountry=function(e){var t=a.props.form,n=t.resetFields,i=t.validateFields;n(_t),i()},a.getHospitalsData=function(){var e=a.props,t=e.form.getFieldValue,n=e.hospitals,i=[];for(var r in n){var s=n[r],o=t(Lt),l=t(Ft);s.cityId===l&&s.countryId===o&&i.push(c.a.createElement(Vt,{key:"".concat(s.id),value:s.id},s.name))}return i},a.getProgramsData=function(){var e=a.props.programs,t=[];for(var n in e){var i=e[n];void 0!==i._id&&L()().isBefore(i.expiresOn)&&t.push(c.a.createElement(Vt,{key:"".concat(i._id),value:i._id},i.name))}return t},a.handleCancel=function(){(0,a.props.close)()},a.clearMsg=function(e){a.setState({is_link_send:!1,is_error:!1})},a.isError=function(){var e=a.props.form.getFieldError;for(var t in Ut){if(e(Ut[t]))return!0}return!1},a.isText=function(e,t,a){t&&t.length>0&&null===t.match("^[A-Za-z ]+$")?a("Enter valid name"):a()},a.state={visible:!0,is_link_send:!1,is_error:!1},a.handleOk=a.handleOk.bind(Object(A.a)(Object(A.a)(a))),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.fetchProgramsData)(),(0,this.props.form.validateFields)()}},{key:"componentWillUnmount",value:function(){(0,this.props.form.resetFields)()}},{key:"handleOk",value:function(){var e=this;this.props.form.validateFields(function(t,a){if(t)t&&e.setState({visible:!0,is_error:!0});else{var n={};(n=a).userCategory="doctor",""===n.city&&(n.city=void 0);var i=e.props.handleCancel;Object(Se.a)({method:F.y.POST,data:n,url:Pe.b.addDoctorURL()}).then(function(t){Bt=t.payload.error?t.payload.error.message:"",t.status?e.setState({visible:!1,is_link_send:!0},function(){setTimeout(Object(I.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}},e,this)})),3e3)}):e.setState({visible:!0,is_error:!0})})}})}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,a=e.show;if(!a)return null;var n=this.props.form,i=n.getFieldDecorator,r=n.isFieldTouched,s=n.getFieldError,o=this.isError,l={};Ut.forEach(function(e){l[e]=r(e)&&s(e)});var d=[c.a.createElement(Vt,{key:1,value:"Neurologist"},"Neurologist"),c.a.createElement(Vt,{key:2,value:"Heart Surgeon"},"Heart Surgeon"),c.a.createElement(Vt,{key:3,value:"Orthopaedic"},"Orthopaedic")];return c.a.createElement("div",null,c.a.createElement("div",null,this.state.is_link_send&&c.a.createElement(gt.a,{msg:t(At.newDoctorSuccess),className:"carecoach-new-user-success-message top60",close:this.clearMsg})),c.a.createElement(D.a,{title:t(At.newDoctor),visible:a,onOk:this.handleOk,okButtonProps:{disabled:o()},onCancel:this.handleCancel,okText:"Send Invite",wrapClassName:"global-modal",destroyOnClose:!0},c.a.createElement("div",{className:"end-padding "},c.a.createElement(S.a,{className:"full-width"},c.a.createElement(S.a.Item,{validateStatus:l.email?"error":"",help:l.email||"",label:t(At.doctorEmail)},i("email",{rules:[{type:"email",required:!0,message:t(At.incorrectEmail)}]})(c.a.createElement(Y.a,null))),c.a.createElement(S.a.Item,{validateStatus:l.programId?"error":"",help:l.programId||"",label:t(At.program)},i("programId",{rules:[{required:!0,message:t(At.programError)}]})(c.a.createElement(W.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:Rt,showSearch:!0,autoComplete:"off",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:this.getParentNode},this.getProgramsData()))),c.a.createElement("div",{className:"optional"},"Optional"),c.a.createElement(S.a.Item,{label:t(At.fullName)},i("name",{rules:[{validator:this.isText}]})(c.a.createElement(Y.a,null))),c.a.createElement("div",{className:"mobile-gender"},t(At.mobile)),c.a.createElement(ft.a,Object.assign({fieldError:l,phoneField:"contactNo.phoneNumber",countryCodeField:"contactNo.countryCode"},this.props)),c.a.createElement("div",null),c.a.createElement("div",{className:"mt20 flex row align-items-center"},c.a.createElement("div",{className:"full-width "},c.a.createElement(S.a.Item,{label:t(At.licenseId)},i("licenseNumber")(c.a.createElement(Y.a,null))))),c.a.createElement("div",{className:"mt20"},c.a.createElement(S.a.Item,{label:t(At.speciality)},i("speciality",{})(c.a.createElement(W.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:Rt,placeholder:"",getPopupContainer:this.getParentNode},d)))),c.a.createElement(It.a,{form:this.props.form,getFieldDecorator:i,cityLabel:t(At.city),countryLabel:t(At.country),cityField:Ft,countryField:Lt,fieldError:l,cityRules:[{required:!1,message:t(At.cityRule)}],countryRules:[{required:!1,message:t(At.countryRule)}],onChangeCountry:this.onChangeCountry,onChangeCity:this.onChangeCity}),c.a.createElement("div",{className:"end"},c.a.createElement(S.a.Item,{label:"Hospital(s) doctor work at",help:l[_t]||"",validateStatus:l[_t]?"error":""},i(_t,{})(c.a.createElement(W.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:xt,showSearch:!0,autoComplete:"off",mode:"multiple",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:this.getParentNode},this.getHospitalsData()))))),c.a.createElement("div",null,this.state.is_error&&c.a.createElement(at.a,{msg:Bt,className:"carecoach-new-user-failure-message",close:this.clearMsg})))))}}]),t}(c.a.Component),zt=Object(d.d)(S.a.create()(Ht)),qt=Object(N.b)(function(e){var t=e.programs,a=e.hospitals,n=e.modal,i=n.show,r=n.modalType;return{show:i&&r===F.n.DOCTOR_MODAL,programs:t,hospitals:a}},function(e){return{fetchProgramsData:function(){return e(Object(Pt.k)())},fetchHospitals:function(t,a){return e(Object(jt.c)(t,a))},close:function(){return e(Object(ot.g)())}}})(zt),Wt=a(349),Yt=Object(d.c)({adverseEvent:{id:"app.modal.adverseEvent",defaultMessage:"Report Adverse Event"},cancel:{id:"app.modal.adverseEvent.cancel",defaultMessage:"Cancel"},tagAPatient:{id:"app.modal.adverseEvent.tagAPatient",defaultMessage:"Tag a patient"},whatHappen:{id:"app.modal.adverseEvent.whatHappen",defaultMessage:"Describe what happened"},on:{id:"app.modal.adverseEvent.on",defaultMessage:"On"},at:{id:"app.modal.adverseEvent.at",defaultMessage:"At"},severity:{id:"app.modal.adverseEvent.severity",defaultMessage:"Severity"},mild:{id:"app.modal.adverseEvent.mild",defaultMessage:"Mild"},moderate:{id:"app.modal.adverseEvent.moderate",defaultMessage:"Moderate"},severe:{id:"app.modal.adverseEvent.severe",defaultMessage:"Severe"},verySevere:{id:"app.modal.adverseEvent.verySevere",defaultMessage:"Very Severe"},fatal:{id:"app.modal.adverseEvent.fatal",defaultMessage:"Fatal"},upload:{id:"app.modal.adverseEvent.upload",defaultMessage:"Upload photos or files"},report:{id:"app.modal.adverseEvent.report",defaultMessage:"Report"},medicationDetails:{id:"app.modal.adverseEvent.medicationDetails",defaultMessage:"Medication Details"},lastMedicatedOn:{id:"app.modal.adverseEvent.lastMedicatedOn",defaultMessage:"Last medicated on"},daysOfMedicationLeftTill:{id:"app.modal.adverseEvent.daysOfMedicationLeftTill",defaultMessage:"days of medication left till"}}),Gt=S.a.Item,Jt=Y.a.TextArea,Kt=W.a.Option,Zt=R.a.Group,$t=R.a.Button,Qt=c.a.createElement("img",{src:De.a,alt:"d",className:"w24 h24"}),Xt="patient",ea=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).getParentNode=function(e){return e.parentNode},a.getSeverityOption=function(){var e=Object(A.a)(Object(A.a)(a)).formatMessage;return[{label:e(Yt.mild),value:F.A.MILD},{label:e(Yt.moderate),value:F.A.MODERATE},{label:e(Yt.severe),value:F.A.SEVERE},{label:e(Yt.verySevere),value:F.A.VERY_SEVERE},{label:e(Yt.fatal),value:F.A.FATAL}].map(function(e){return c.a.createElement($t,{key:e.value,value:e.value,className:"full-width"},e.label)})},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleSubmit=function(e){e.preventDefault()},a.getPatientOption=function(){var e=a.state.patients;return(void 0===e?[]:e).map(function(e){var t=e.basicInfo,a=t._id,n=t.name,i=t.profilePicLink,r=void 0===i?ne.a:i,s=e.personalInfo,o=s.dob,l=s.gender,d=o&&L()().diff(o,"years",!1);return c.a.createElement(Kt,{key:a,value:a,name:n},c.a.createElement("div",{className:"flex justify-content-start align-items-center iqvia-user-snippet"},c.a.createElement("img",{alt:"user",src:r}),c.a.createElement("div",{className:"deep-sea-blue fontsize12 mr8"},"".concat(n).concat(d?" (".concat(d," ").concat(l,")"):""))))})},a.openCalendar=function(e){e.preventDefault(),window.document.getElementsByClassName("ant-calendar-picker-input")[0].click()},a.getLatestMedication=function(){var e=a.props,t=e.medications,n=void 0===t?{}:t,i=e.products,r=e.form.getFieldValue,s=e.intl.formatMessage,o=a.props,d=o.auth.basicInfo._id,u=d===o.userId?d:r(Xt);if(u){var p=n[u];if(p){var m=p.medicine,f=void 0===m?{}:m,h=Object.keys(f)||[],v=h.filter(function(e){return"updatedAt"!==e}),g=f.updatedAt,b=L()(g);return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"flex align-items-center mb12"},c.a.createElement("div",{className:"fontsize14 dark bold"},s(Yt.medicationDetails)),h.length>0?c.a.createElement("div",{className:"fontsize12 label-color ml8"},"".concat(s(Yt.lastMedicatedOn)," ").concat(b.format("DD/MM/YYYY hh:mm A"))):""),v.map(function(e,t){var a=f[e],n=a.product_id,r=a.often,o=a.upto,d=i[n]||{},u=L()(o).format("L"),p=-1*L()().diff(o,"days",!1);return c.a.createElement(l.Fragment,{key:n},c.a.createElement("div",{className:"dark fontsize14"},d.name),c.a.createElement("div",{className:"mb20 dark fontsize14"},"".concat(r,", ").concat(p>0?p:0," ").concat(s(Yt.daysOfMedicationLeftTill)," ").concat(u)))}))}}return null},a.onChangePatient=function(e){(0,a.props.fetchUserRecentMedication)(e)},a.disabledDate=function(e){return e&&e>=L()()},a.validateTime=function(){var e=Object(I.a)(k.a.mark(function e(t,a,n){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a>L()()?n("reporting event for future is not allowed"):n();case 1:case"end":return e.stop()}},e,this)}));return function(t,a,n){return e.apply(this,arguments)}}(),a.state={members:[],category:""},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e,t=this,a=this.props.auth;a&&(e=a.basicInfo.category,this.setState({category:e}));this.props.form.validateFields(),e!==Xt&&Object(Se.a)({url:Pe.h.getRelatedMembersURL()}).then(function(e){var a=e.payload,n=(a=void 0===a?{}:a).data,i=(n=void 0===n?{}:n).members,r=(void 0===i?{}:i).filter(function(e){var t=e.basicInfo;return(t=void 0===t?{}:t).category===F.D.PATIENT});t.setState({patients:r})}).catch(function(e){})}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.form,a=e.userId,n=t.getFieldDecorator,i=t.getFieldError,r=t.isFieldTouched,s=this.formatMessage,o=this.handleSubmit,l=this.getSeverityOption,d=this.getPatientOption,u=this.openCalendar,p=this.getLatestMedication,m=this.onChangePatient,f=this.validateTime,h=this.state.category,v=r(Xt)&&i(Xt),g=r("description")&&i("description"),b=r("at")&&i("at");return c.a.createElement(S.a,{className:"event-form",onSubmit:o},h!==Xt&&c.a.createElement("div",{ref:this.setParticipantRef,id:"asasa"},c.a.createElement(Gt,{label:s(Yt.tagAPatient),validateStatus:v?"error":"",help:v||""},n(Xt,{rules:[{required:!0,message:"Enter a patient"}],initialValue:a})(c.a.createElement(W.a,{className:"user-select",onChange:m,disabled:!!a,placeholder:s(Yt.tagAPatient),showSearch:!0,autoComplete:"off",optionFilterProp:"name",suffixIcon:Qt,filterOption:function(e,t){return t.props.name.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:this.getParentNode},d())))),c.a.createElement(Gt,{validateStatus:g?"error":"",help:g||"",label:s(Yt.whatHappen)},n("description",{rules:[{required:!0,message:"Enter a description"}]})(c.a.createElement(Jt,{autosize:{minRows:1,maxRows:6}}))),c.a.createElement("div",{className:"flex justify-content-space-between mb4"},c.a.createElement("div",{className:"flex-1 flex row align-items-end iqvia-date-picker"},c.a.createElement("div",{className:"full-width ",ref:this.setDatePickerRef},c.a.createElement(Gt,{className:"flex-1 date-picker",label:s(Yt.on)},n("on",{rules:[],initialValue:L()()})(c.a.createElement(B.a,{format:"DD/MM/YYYY, ddd",disabledDate:this.disabledDate,showToday:!1,className:"full-width",suffixIcon:null,getCalendarContainer:this.getParentNode})),c.a.createElement("img",{alt:"",className:"calendar",onClick:u,src:we.a})))),c.a.createElement("div",{ref:this.setTimePickerRef},c.a.createElement(Gt,{label:s(Yt.at),validateStatus:b?"error":"",help:b||""},n("at",{rules:[{validator:f}],initialValue:L()()})(c.a.createElement(V.a,{use12Hours:!0,format:"h:mm A",style:{width:"100%"},suffixIcon:null,alowClear:!1,clearIcon:null,getPopupContainer:this.getParentNode}))))),c.a.createElement(Gt,{label:s(Yt.severity)},n("severity",{rules:[],initialValue:F.A.MILD})(c.a.createElement(Zt,{className:"radio-group-tab ",buttonStyle:"solid"},l()))),c.a.createElement("div",null,p()))}}]),t}(l.Component),ta=Object(d.d)(ea),aa=a(30),na=a(39),ia=function(e){var t=e.type,a=e.className,n=Object(na.a)(e,["type","className"]);return t.startsWith("image")?c.a.createElement("img",Object.assign({},n,{alt:"",className:a})):t.startsWith("video")?c.a.createElement("video",Object.assign({controls:!0,className:"".concat(a," object-fill"),preload:"auto"},n)):c.a.createElement("div",{className:"".concat(a," white fontsize22 medium other-docs flex align-items-center justify-content-center")},"PDF")},ra=a(638),sa=a.n(ra);a(992);function oa(e){var t=e.media,a=e.onRemove,n=[];return t.forEach(function(e,t){"WebLink"!==e.mediaType&&n.push(c.a.createElement("div",{className:"mr12 mb24",key:t},c.a.createElement("img",{src:sa.a,alt:"",onClick:function(){return a(e.index)},className:"delete-attachment-badge clickable"}),c.a.createElement("div",{className:"case-image-background"},c.a.createElement(ia,{type:e.mediaType,className:"caseImage",src:e.url}))))}),c.a.createElement("div",{className:"mb5 mt10 flex flex-wrap"},n)}var la=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(e){e&&e.preventDefault();var t=a.props.close;a.setState({disabledOk:!0,docs:[],fileList:[],errorMsg:""},t)},a.handleReport=function(){var e,t=a.props,n=t.report,i=t.reFetchAdverseEvent,r=t.medications,s=void 0===r?{}:r,o=t.authUser,l=Object(A.a)(Object(A.a)(a)).formRef,c=void 0===l?{}:l,d=a.state.docs,u=c.props.form.validateFields;if(o){var p=o.basicInfo._id;e=p}u(function(t,r){if(!t){var o=r.patient;o||(r.patient=e,o=e);var l=(s[o]||{}).medicine,c=void 0===l?[]:l;n(Object(P.a)({},r,{docs:d,medications:[c]})).then(function(e){i(o),a.setState({docs:[],disabledOk:!0,fileList:[],errorMsg:""})})}})},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.onStart=function(e){a.setState({filename:e.name,progress:0})},a.onSuccess=function(e,t){},a.onError=function(e){},a.onProgress=function(e,t){var n=e.percent;a.setState({progress:parseInt(n)})},a.onAbort=function(e){},a.onUploadComplete=function(e){var t=e.files,n=void 0===t?[]:t,i=a.state.docs;a.setState({docs:Object(H.a)(i).concat(Object(H.a)(n))},function(){var e=a.state;e.docs,e.fileList})},a.customRequest=function(e){var t=e.file,n=(e.filename,e.onError,e.onProgress),i=(e.onSuccess,Object(A.a)(Object(A.a)(a)).onUploadComplete),r=new FormData;return r.append("files",t,t.name),Object(Se.a)({onUploadProgress:function(e){var a=e.total,i=e.loaded;n({percent:Math.round(i/a*100).toFixed(2)},t)},method:F.y.POST,data:r,url:Pe.c.getUploadURL()}).then(function(e){i(e.payload.data)}),{abort:function(){}}},a.removeAttachment=function(e){var t=a.state,n=t.docs,i=t.fileList,r=n.filter(function(t,a){return a!==e}),s=i.filter(function(t,a){return a!==e});a.setState({docs:r,fileList:s})},a.handleChange=function(e){var t=e.fileList;a.setState({fileList:t})},a.beforeUpload=function(e){var t=e.type.startsWith("image")||e.type.endsWith("pdf");return t||a.setState({errorMsg:"please upload a valid image or pdf file!"}),t},a.footer=function(){var e=a.props.requesting,t=Object(A.a)(Object(A.a)(a)),n=t.formatMessage,i=t.handleChange,r=t.handleCancel,s=t.handleReport,o=t.customRequest,l=t.beforeUpload,d=a.state,u=d.disabledOk,p=d.fileList;return c.a.createElement("div",{className:"flex align-items-center justify-content-space-between h72px mr24"},c.a.createElement(Wt.a,{onChange:i,customRequest:o,multiple:!0,fileList:p,showUploadList:!1,accept:"image/*,.pdf",beforeUpload:l},c.a.createElement(U.a,{className:"iqvia-btn upload ml24"},n(Yt.upload))),c.a.createElement("div",null,c.a.createElement(U.a,{className:"iqvia-btn cancel mr8",onClick:r},n(Yt.cancel)),c.a.createElement(U.a,{className:"iqvia-btn",disabled:u,type:"primary",loading:e,onClick:s},n(Yt.report))))},a.setFormRef=function(e){a.formRef=e,a.setState({formRef:!0})},a.onFormChanges=function(e,t){var n=Object(fe.a)(e.form.getFieldsError());a.state.disabledOk!==n&&e.form.isFieldsTouched()&&a.setState({disabledOk:n})},a.docslist=function(){var e=a.state,t=e.docs,n=e.fileList;return t.map(function(e,t){var a=n[t],i=a.name;return{name:i,description:i,mediaType:a.type,index:t,id:e,uid:a.uid,url:"".concat(aa.a.BASE_DOC_URL).concat(e)}})},a.resetMsg=function(){a.setState({errorMsg:""})},a.state={disabledOk:!0,docs:[],fileList:[],errorMsg:""},a.FormWrapper=S.a.create({onFieldsChange:a.onFormChanges})(ta),a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.isError,n=e.intl.formatMessage,i=e.userId,r=e.medications,s=e.products,o=e.fetchUserRecentMedication,l=e.authUser,d=this.handleCancel,u=this.docslist,p=this.footer,m=this.setFormRef,f=this.FormWrapper,h=this.removeAttachment,v=this.resetMsg,g=this.state.errorMsg,b={visible:t||a,title:n(Yt.adverseEvent),okButtonProps:{},onCancel:d,wrapClassName:"global-modal full-height",destroyOnClose:!0,bodyStyle:{height:"100%",overflowY:"scroll"},width:"620px",footer:p()};return c.a.createElement(D.a,b,t&&c.a.createElement("div",{className:"pl48 pr24"},c.a.createElement(f,{wrappedComponentRef:m,userId:i,fetchUserRecentMedication:o,medications:r,products:s,show:t,auth:l}),c.a.createElement("div",{className:"doc-preview"},c.a.createElement(oa,{media:u(),onRemove:h}))),g.length>0&&c.a.createElement(at.a,{msg:g,close:v,className:"adverse-event-error"}))}}]),t}(l.Component),ca=Object(d.d)(la),da=a(56),ua=Object(N.b)(function(e){var t=e.modal,a=t.show,n=t.modalType,i=t.data,r=t.requesting,s=e.medications,o=void 0===s?{}:s,l=e.products,c=void 0===l?{}:l,d=e.auth,u=void 0===d?{}:d,p=e.users,m=Object(ct.c)();return{show:a&&n===F.n.ADVERSE_EVENTS,userId:i,requesting:r,medications:o,products:c,authUser:m(p,u.authenticated_user)}},function(e){return{report:function(t){return e(Object(ot.j)(t))},reFetchAdverseEvent:function(t){return e(Object(lt.u)(t))},close:function(){return e(Object(ot.g)())},fetchUserRecentMedication:function(t){return e(Object(da.c)(t))}}})(ca),pa=Object(d.c)({cancel:{id:"app.modal.cancel",defaultMessage:"Cancel"},changeButton:{id:"app.modal.changeButton",defaultMessage:"Change"}}),ma=a(653),fa=a.n(ma),ha=a(654),va=a.n(ha),ga=a(209),ba=a.n(ga),Ea=S.a.Item,ya="confirmPassword",Ca="newPassword",Ma=[ya,"currentPassword",Ca],Oa=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(e){e&&e.preventDefault(),(0,a.props.close)()},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.footer=function(e,t,n){var i=Object(A.a)(Object(A.a)(a)),r=i.formatMessage,s=i.handleCancel,o=a.props.form.getFieldsError;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"flex align-items-center justify-content-end h72px mr24 ml24"},c.a.createElement("div",{className:"flex align-items-center justify-content-end"},c.a.createElement(U.a,{className:"iqvia-btn cancel mr8",onClick:s},r(pa.cancel)),c.a.createElement(U.a,{type:"primary iqvia-btn",htmlType:"submit",onClick:a.handleSubmit,disabled:Object(fe.a)(o())},r(pa.changeButton)))))},a.hideShowCurrentPass=function(e){e.preventDefault();var t=a.state.showCurrentPass;a.setState({showCurrentPass:!t})},a.hideShowNewPass=function(e){e.preventDefault();var t=a.state.showNewPass;a.setState({showNewPass:!t})},a.hideShowConfirmPass=function(e){e.preventDefault();var t=a.state.showConfirmPass;a.setState({showConfirmPass:!t})},a.handleConfirmBlur=function(e){var t=e.target.value;a.setState({confirmDirty:a.state.confirmDirty||!!t})},a.handleChangePassword=function(){var e=Object(I.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(0,a.props.changePassword)(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault();var t=Object(A.a)(Object(A.a)(a)).handleChangePassword;a.props.form.validateFields(function(e,a){e||t(a)})},a.compareToFirstPassword=function(e,t,n){var i=a.props.form;t&&t!==i.getFieldValue(Ca)?n("Please ensure if password entered is correct & matching"):n()},a.validateToNextPassword=function(e,t,n){var i=a.props.form;t&&a.state.confirmDirty&&i.validateFields([ya],{force:!0}),n()},a.state={confirmDirty:!1,autoCompleteResult:[],currPass:null,newPass:null,confirmPass:null},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.form.validateFields()}},{key:"componentDidUpdate",value:function(e,t){e.show!==this.props.show&&this.props.form.validateFields()}},{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldError,i=t.isFieldTouched,r=this.props,s=r.show,o=r.isError,l=r.change_password_error,d=r.is_changing_password_error,u=void 0!==d&&d;if(!s)return null;var p={visible:s||o,title:"ChangePassword",onCancel:this.handleCancel,wrapClassName:"global-modal full-height",destroyOnClose:!0,bodyStyle:{height:"100%"},width:"480px",footer:(0,this.footer)(this.state.currPass,this.state.newPass,this.state.confirmPass)},m={};return Ma.forEach(function(e){var t=i(e)&&n(e);m=Object(P.a)({},m,Object(z.a)({},e,t))}),c.a.createElement(D.a,p,c.a.createElement("div",{className:"pl48 pr24"},c.a.createElement(S.a,{className:"event-form"},c.a.createElement(Ea,{label:"Current Password",validateStatus:m.currentPassword?"error":"",help:m.currentPassword||""},a("currentPassword",{rules:[{required:!0,message:"Please input current password!"}]})(c.a.createElement(Y.a,{type:this.state.showCurrentPass?"plain":"password",onChange:function(t){t.preventDefault(),e.setState({currPass:t.target.value}),void 0===e.state.showCurrentPass&&e.setState({showCurrentPass:!1})},placeholder:"",suffix:c.a.createElement("img",{alt:"",onClick:this.hideShowCurrentPass,className:"clickable ".concat(void 0===this.state.showCurrentPass?"hidden":""),src:!0===this.state.showCurrentPass?fa.a:va.a})}))),c.a.createElement(Ea,{label:"New Password",validateStatus:m[Ca]?"error":"",help:m[Ca]||""},a(Ca,{rules:[{required:!0,message:"Please enter your password!"},{min:6,message:"Password must be at least 6 characters"},{validator:this.validateToNextPassword}]})(c.a.createElement(Y.a,{type:this.state.showNewPass?"plain":"password",onChange:function(t){t.preventDefault(),e.setState({newPass:t.target.value}),void 0===e.state.showNewPass&&e.setState({showNewPass:!1})},placeholder:"",suffix:c.a.createElement("img",{alt:"",onClick:this.hideShowNewPass,className:"clickable ".concat(void 0===this.state.showNewPass?"hidden":""),src:!0===this.state.showNewPass?fa.a:va.a})}))),c.a.createElement(Ea,{label:"Confirm Password",validateStatus:m[ya]?"error":"",help:m[ya]||""},a(ya,{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(c.a.createElement(Y.a,{onBlur:this.handleConfirmBlur,type:this.state.showConfirmPass?"plain":"password",onChange:function(t){t.preventDefault(),e.setState({confirmPass:t.target.value}),void 0===e.state.showConfirmPass&&e.setState({showConfirmPass:!1})},placeholder:"",suffix:c.a.createElement("img",{alt:"",onClick:this.hideShowConfirmPass,className:void 0===this.state.showConfirmPass?"hidden":"",src:!0===this.state.showConfirmPass?fa.a:va.a})})))),u&&c.a.createElement("div",{className:"w100 absolute flex row align-items-center justify-content-start",style:{backgroundColor:"#fff8f5",bottom:"70px",height:"40px",marginLeft:"-48px"}},c.a.createElement("div",{style:{display:"block",width:"13px",marginLeft:"24px",textAlign:"center"}},c.a.createElement("img",{alt:"",src:ba.a,className:"w100",style:{display:"block"}})),c.a.createElement("div",{className:"fontsize12 medium warning-color ml8"},l.message))))}}]),t}(l.Component),Na=S.a.create()(Object(d.d)(Oa)),wa=a(26),Ta=Object(N.b)(function(e){var t=e.modal,a=t.show,n=t.modalType,i=e.page.changePassword;return{show:a&&n===F.n.CHANGE_PASSWORD,is_password_changing:i.is_password_changing,is_password_changed:i.is_password_changed,is_changing_password_error:i.is_changing_password_error,change_password_error:i.change_password_error}},function(e){return{close:function(){return e(Object(ot.g)())},changePassword:function(t){return e(Object(wa.b)(t))}}})(Na),Da=a(171),Sa=Object(d.c)({endSurvey:{id:"app.modal.endSurvey",defaultMessage:"End Survey for"},cancel:{id:"app.modal.cancel",defaultMessage:"Go Back"},content:{id:"app.modal.content",defaultMessage:"Please note that the patients who have not taken survey will not be able to complete the survey."},message:{id:"app.modal.message",defaultMessage:"Do you still want to End Survey?"},alert:{id:"app.modal.alert",defaultMessage:"This action cannot be undone. For help, contact program admin"},endSurveyButton:{id:"app.modal.endSurveyButton",defaultMessage:"End Survey"}}),Pa=a(302),ja=a.n(Pa),ka=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).handleCancel=function(e){e&&e.preventDefault(),(0,a.props.close)()},a.handleEndSurvey=function(){var e=Object(I.a)(k.a.mark(function e(t){var n,i,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,i=n.surveyId,r=n.endSurveys,e.prev=1,e.next=4,r(i);case 4:window.location.href="/surveys/Completed",e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,this,[[1,7]])}));return function(t){return e.apply(this,arguments)}}(),a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.footer=function(){var e=a.props.requesting,t=Object(A.a)(Object(A.a)(a)),n=t.formatMessage,i=t.handleCancel,r=t.handleEndSurvey;return c.a.createElement("div",{className:"flex align-items-center justify-content-end h72px mr24"},c.a.createElement(U.a,{className:"iqvia-btn cancel mr8",onClick:i},n(Sa.cancel)),c.a.createElement(U.a,{className:"iqvia-btn warning",type:"primary",loading:e,onClick:r},n(Sa.endSurveyButton)))},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.isError,n=e.intl.formatMessage,i=e.programId,r=e.programs_data,s=void 0===r?{}:r;if(!1===t)return null;var o="";Object(Da.a)(s)||(o=(s[i]||{}).name);var l=this.handleCancel,d=this.footer,u={visible:t||a,title:"".concat(n(Sa.endSurvey)," ").concat(o),okButtonProps:{},onCancel:l,wrapClassName:"global-modal full-height",destroyOnClose:!0,bodyStyle:{height:"100%"},width:"480px",footer:d()};return c.a.createElement(D.a,u,c.a.createElement("div",{className:"black fontsize16 pl48 pr24 mt8"},n(Sa.content)),c.a.createElement("div",{className:"black fontsize16 pl48 pr24 mt16"},n(Sa.message)),c.a.createElement("div",{className:"flex align-items-center alert w100 pl24"},c.a.createElement("img",{alt:"alert",src:ja.a,className:"mr16"}),c.a.createElement("div",{className:"steel-grey fontsize12"},n(Sa.alert))))}}]),t}(l.Component),Ia=Object(d.d)(ka),Aa=a(21),Ra=Object(N.b)(function(e){var t=e.modal,a=e.programs;return{show:t.show&&t.modalType===F.n.END_SURVEY,requesting:t.requesting,surveyId:t.entityId,programId:t.data,programs_data:a}},function(e){return{close:function(){return e(Object(ot.g)())},endSurveys:function(t){return e(Object(Aa.f)(t))}}})(Ia),xa=a(559),La=a(563),Fa=Y.a.TextArea,_a=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleOnTextChange=function(e){a.setState({reasonForCancel:e.target.value})},a.handleOk=function(e){var t=a.props,n=t.eventDetails,i=n.id,r=n.eventType,s=t.cancelAppointment,o=t.cancelReminder,l=a.state.reasonForCancel;r===F.m.APPOINTMENT?s(i,!0,{reason:l}):r===F.m.REMINDER&&o(i,!0)},a.handleCancelAll=function(){console.log("this.props ----",a.props);var e=a.props,t=e.eventDetails,n=t.id,i=t.eventType,r=e.cancelAppointment,s=e.cancelReminder;i===F.m.APPOINTMENT?r(n,!1):i===F.m.REMINDER&&s(n,!1)},a.handleCancel=function(){(0,a.props.close)()},a.footer=function(){var e=Object(A.a)(Object(A.a)(a)),t=e.formatMessage,n=e.handleCancelAll,i=e.handleOk,r=e.handleCancel,s=a.props.eventDetails,o=(s=void 0===s?{}:s).eventType,l=s.data,d=(l=void 0===l?{}:l).repeat;return c.a.createElement("div",{className:"flex align-items-center justify-content-space-between"},c.a.createElement(U.a,{className:"iqvia-btn cancel ml8 mr8",onClick:r},t(_.goback)),c.a.createElement("div",{className:"flex align-items-center justify-content-end h72px mr24"},d!==F.x.NONE&&c.a.createElement(U.a,{className:"iqvia-btn warning-all-button mr8",onClick:n},t(_.buttonCancelAll)),c.a.createElement(U.a,{className:"iqvia-btn warning",type:"primary",loading:a.props.requesting,onClick:i},t(d===F.x.NONE?o===F.m.APPOINTMENT?_.cancelAppointment:_.cancelReminder:_.buttonCancelThisOnly))))},a.state={reasonForCancel:""},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.formatMessage,t=this.handleCancel,a=this.footer,n=this.handleOnTextChange,i=this.props,r=i.show,s=i.currentUserId,o=i.eventDetails,l=(o=void 0===o?{}:o).eventType,d=o.id,u={visible:r,title:"".concat(l===F.m.APPOINTMENT?e(_.cancelAppointment):e(_.cancelReminder)),okButtonProps:{},onCancel:t,wrapClassName:"global-modal full-height",destroyOnClose:!0,bodyStyle:{height:"100%"},width:"480px",footer:a()};return c.a.createElement(D.a,u,c.a.createElement("div",{className:"black fontsize16 pl48 pr24 mt8"},"".concat(l===F.m.APPOINTMENT?e(_.contentAppt):e(_.contentRem))),c.a.createElement("div",{className:"black fontsize16 pl48 pr24 mt16"},"".concat(l===F.m.APPOINTMENT?e(_.messageAppt):e(_.messageRem))),c.a.createElement("div",{className:" pl48 pr24 mt16"},l===F.m.APPOINTMENT&&c.a.createElement(Fa,{placeholder:e(_.reason),onChange:n})),c.a.createElement("div",{className:"black fontsize16 pl48 pr24 mt16"},l===F.m.APPOINTMENT&&c.a.createElement(xa.a,{id:d,calendarUserId:s,hideAction:!0,modal:!0}),l===F.m.REMINDER&&c.a.createElement(La.a,{id:d,calendarUserId:s,hideAction:!0,modal:!0})),c.a.createElement("div",{className:"flex align-items-center alert w100 pl24"},c.a.createElement("img",{alt:"alert",src:ja.a,className:"mr16"}),c.a.createElement("div",{className:"steel-grey fontsize12"},e(_.alert))))}}]),t}(l.Component),Ua=Object(d.d)(_a),Va=Object(N.b)(function(e){var t=e.modal,a=t.show,n=t.modalType,i=t.entityId,r=t.requesting,s=t.subentity,o=e.events,l=(o=void 0===o?{}:o).events,c=void 0===l?{}:l,d=e.auth.authenticated_user,u=e.users;return{show:a&&n===F.n.CANCEL_APPOINTMENT||n===F.n.CANCEL_REMINDER,eventDetails:c[i],requesting:r,currentUserId:d,users:u,subentity:s}},function(e){return{cancelAppointment:function(t,a,n){return e(Object(lt.o)(t,a,n))},cancelReminder:function(t,a){return e(Object(lt.p)(t,a))},close:function(){return e(Object(ot.g)())},fetchEventsData:function(t,a,n){return e(Object(lt.x)(t,a,n))}}})(Ua),Ba=Object(d.c)({discharge:{id:"app.modal.discharge",defaultMessage:"Discharge patient(s) from the program"},cancel:{id:"app.modal.cancel",defaultMessage:"Go Back"},content:{id:"app.modal.content",defaultMessage:"Please note that the patients you have selected will be discharged from the program."},message:{id:"app.modal.message",defaultMessage:"Do you still want to discharge?"},alert:{id:"app.modal.alert",defaultMessage:"This action cannot be undone. For help, contact program admin"},dischargeButton:{id:"app.modal.dischargeButton",defaultMessage:"Discharge"}}),Ha=function(e){function t(){var e,a;Object(n.a)(this,t);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return(a=Object(r.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).handleCancel=function(e){e&&e.preventDefault(),(0,a.props.close)()},a.handleDischarge=function(e){e.preventDefault();var t=a.props,n=t.patientId;(0,t.dischargePatient)(n)},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.footer=function(){var e=a.props.requesting,t=Object(A.a)(Object(A.a)(a)),n=t.formatMessage,i=t.handleCancel,r=t.handleDischarge;return c.a.createElement("div",{className:"flex align-items-center justify-content-end h72px mr24"},c.a.createElement(U.a,{className:"iqvia-btn cancel mr8",onClick:i},n(Ba.cancel)),c.a.createElement(U.a,{className:"iqvia-btn warning",type:"primary",loading:e,onClick:r},n(Ba.dischargeButton)))},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.show,a=e.isError,n=e.intl.formatMessage,i=this.handleCancel,r=this.footer,s={visible:t||a,title:n(Ba.discharge),okButtonProps:{},onCancel:i,wrapClassName:"global-modal full-height",destroyOnClose:!0,bodyStyle:{height:"100%"},width:"480px",footer:r()};return c.a.createElement(D.a,s,c.a.createElement("div",{className:"black fontsize16 pl48 pr24 mt8"},n(Ba.content)),c.a.createElement("div",{className:"black fontsize16 pl48 pr24 mt16"},n(Ba.message)),c.a.createElement("div",{className:"flex align-items-center alert w100 pl24"},c.a.createElement("img",{alt:"alert",src:ja.a,className:"mr16"}),c.a.createElement("div",{className:"steel-grey fontsize12"},n(Ba.alert))))}}]),t}(l.Component),za=Object(d.d)(Ha),qa=a(10),Wa=Object(N.b)(function(e){var t=e.modal;return{show:t.show&&t.modalType===F.n.DISCHARGE_PATIENT,requesting:t.requesting,patientId:t.entityId}},function(e){return{close:function(){return e(Object(ot.g)())},dischargePatient:function(t){return e(Object(qa.n)(t))}}})(za),Ya=(a(1150),a(180)),Ga=Object(d.c)({verifyButton:{id:"app.modal.verifyButton",defaultMessage:"Verify"},reUploadButton:{id:"app.modal.reUploadButton",defaultMessage:"Re-upload (JPG,PDF)"},consentFormCheckbox:{id:"app.modal.consentFormCheckbox",defaultMessage:"Consent Form"},idProofCheckbox:{id:"app.modal.idProofCheckbox",defaultMessage:"ID Proof"}}),Ja=(a(350),Object(d.c)({uploadedOn:{id:"app.doc_viewer.upload",defaultMessage:"Uploaded on"}}),a(1157),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).renderImage=function(){var e=document.getElementsByClassName("document-container");a.imageViewer=window.ImageViewer(e),a.showImage()},a.onClickImage=function(e){e.preventDefault()},a.showImage=function(){var e=a.props.baseUrl,t=a.props.doc;void 0!==t&&a.imageViewer.load("".concat(e).concat(t.file))},a.imageViewer="",a.state={},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.renderImage()}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props.doc;return void 0!==(void 0===e?[]:e)&&this.renderImage(),c.a.createElement(l.Fragment,null,c.a.createElement("div",{id:"document-gallery"},c.a.createElement("div",{className:"document-container"})))}}]),t}(l.Component)),Ka=Object(d.d)(Ja),Za=(a(1159),a(697));Za.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Za.pdfjs.version,"/pdf.worker.js");var $a=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).onDocumentLoadSuccess=function(e){var t=e.numPages;a.setState({numPages:t})},a.renderPages=function(){for(var e=[],t=a.state.numPages,n=1;n<=t;n++)e.push(c.a.createElement(Za.Page,{key:n,pageNumber:n}));return e},a.state={numPages:null,pageNumber:1},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.doc?this.props.baseUrl+this.props.doc.file:"";this.setState({pdfUrl:e})}},{key:"componentDidUpdate",value:function(e,t){if(this.props.doc!==e.doc){var a=this.props.doc?this.props.baseUrl+this.props.doc.file:"";this.setState({pdfUrl:a})}}},{key:"render",value:function(){return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"pdf-viewer"},c.a.createElement(Za.Document,{file:this.state.pdfUrl,onLoadSuccess:this.onDocumentLoadSuccess},this.renderPages())))}}]),t}(l.Component),Qa=Object(d.d)($a),Xa=(a(191),a(1195),Object(d.c)({myProfile:{id:"app.idproof.myprofile",defaultMessage:"My Profile / Settings"},idProof:{id:"app.idproof.idproof",defaultMessage:"ID Proof"},replaceWarning:{id:"app.idproof.replaceWarning",defaultMessage:"Re-uploading will replace the existing image files"},reUploadText:{id:"app.idproof.reUploadText",defaultMessage:"Re-upload (JPG, PDF)"},nextButton:{id:"app.idproof.nextButton",defaultMessage:"Next"},prevButton:{id:"app.idproof.prevButton",defaultMessage:"Prev"},uploadedOn:{id:"app.idproof.uploadedOn",defaultMessage:"Uploaded On"}})),en=a(430),tn="image/jpeg",an="application/pdf",nn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.onStart=function(e){a.setState({filename:e.name,progress:0})},a.onSuccess=function(e,t){},a.onError=function(e){},a.onProgress=function(e,t){var n=e.percent;a.setState({progress:parseInt(n)})},a.onAbort=function(e){},a.onUploadComplete=function(e){var t=e.files,n=void 0===t?[]:t,i=a.props.handleComplete,r=a.state.docs;a.setState({docs:Object(H.a)(r).concat(Object(H.a)(n))},function(){var e=a.state,t=e.docs,n=e.fileList;t.length===n.length&&(a.setState({fileList:[],docs:[]}),i(t))})},a.handleChange=function(e){var t=e.fileList;a.setState({fileList:t})},a.beforeUpload=function(e){var t=e.type===tn,a=e.type===an;return t||a||en.a.error("You can only upload JPG or PDF file!"),t||a},a.customRequest=function(e){var t=e.file,n=(e.filename,e.onError,e.onProgress),i=(e.onSuccess,Object(A.a)(Object(A.a)(a)).onUploadComplete),r=new FormData;return r.append("files",t,t.name),Object(Se.a)({onUploadProgress:function(e){var a=e.total,i=e.loaded;n({percent:Math.round(i/a*100).toFixed(2)},t)},method:F.y.POST,data:r,url:Pe.c.getUploadURL()}).then(function(e){i(e.payload.data)}),{abort:function(){}}},a.state={fileList:[],docs:[]},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uploadProps,a=e.label,n=void 0===a?"UPLOAD":a,i=this.handleChange,r=this.customRequest,s=this.state.fileList;return c.a.createElement(Wt.a,Object.assign({},t,{multiple:!0,customRequest:r,showUploadList:!1,fileList:s,onChange:i}),c.a.createElement(U.a,{type:"ant-btn iqvia-btn mr16 ant-btn-primary ant-btn-background-ghost"},n))}}]),t}(l.Component),rn=Object(d.d)(nn),sn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.isPdf=function(){var e=a.props.user_data,t=e.documents.idProof,n=void 0===t?[]:t;e.isIdProofUploaded&&n[a.state.currentIndex].file.includes(".pdf")?a.setState({isPdf:!0,totalSize:n.length}):a.setState({isPdf:!1,totalSize:n.length})},a.nextDocument=function(){if(a.state.currentIndex+1<a.state.totalSize){var e=a.state.currentIndex+1;a.setState({currentIndex:e},a.isPdf)}},a.previousDocument=function(){if(a.state.currentIndex-1>=0){var e=a.state.currentIndex-1;a.setState({currentIndex:e},a.isPdf)}},a.handleReUpload=function(e){var t=a.props,n=t.reUploadIdProofs,i=t.user_data;n((i=void 0===i?{}:i).basicInfo._id,e).then(function(e){a.setState({isPdf:!1,currentIndex:0,totalSize:0},a.isPdf)})},a.state={isPdf:!1,currentIndex:0,totalSize:0},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.isPdf()}},{key:"componentDidUpdate",value:function(e,t){this.props.modal&&this.props.user_data.documents!==e.user_data.documents&&this.setState({currentIndex:0},this.isPdf)}},{key:"render",value:function(){var e=this.props,t=e.user_data,a=t.documents.idProof,n=void 0===a?[]:a,i=t.baseDocUrl,r=e.modal,s=void 0!==r&&r;console.log("id props",this.props);var o=n.length<1?0:this.state.currentIndex+1,d=this.state,u=d.isPdf,p=d.currentIndex,m=d.totalSize;console.log("this.props.user_data",this.props.user_data.documents,p);var f=this.handleReUpload,h=this.formatMessage;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"consent-document-viewer"},c.a.createElement("div",{className:" text-align-l flex column align-items-start justify-content-center w100 mt32 "},c.a.createElement("p",{className:"text"},o,"/",this.state.totalSize),u&&c.a.createElement("div",{className:"full-width full-height"},c.a.createElement(Qa,{doc:n[p],baseUrl:i})),!this.state.isPdf&&c.a.createElement("div",{className:"full-width"},c.a.createElement(Ka,{doc:n[p],baseUrl:i})),c.a.createElement("div",{className:"pdf-viewer flex align-items-center justify-content-space-between"},c.a.createElement("div",null,this.state.isPdf?"":c.a.createElement("div",{className:"fontsize12 cool-grey"},"Use Scroll to Zoom in/out"),c.a.createElement("div",{className:"fontsize12 cool-grey"},"Re-uploading will replace the existing files")),c.a.createElement("div",{className:"page-number"},c.a.createElement("div",{className:"padding-10"},c.a.createElement(U.a,{disabled:p-1<0,onClick:this.previousDocument,className:"prev iqvia-btn"},h(Xa.prevButton))),c.a.createElement("div",{className:"padding-10"},c.a.createElement(U.a,{disabled:p+1>=m,onClick:this.nextDocument,className:"next iqvia-btn"},h(Xa.nextButton))))),!s&&c.a.createElement("div",{className:"footer hide-desktop"},c.a.createElement("div",{className:"flex justify-content-space-between  align-items-center m0 ml16"},c.a.createElement("div",{className:"fontsize12 cool-grey mr16 ml16"},h(Xa.replaceWarning)),c.a.createElement("div",{className:"mr16 ml16 mt10"},c.a.createElement(rn,{label:h(Xa.reUploadText),uploadProps:{accept:"image/*,.pdf"},handleComplete:f})))))))}}]),t}(l.Component),on=Object(d.d)(sn),ln=(a(1197),Object(d.c)({myProfile:{id:"app.consentDocs.myprofile",defaultMessage:"My Profile / Settings"},consentDocs:{id:"app.consentDocs.consentDocs",defaultMessage:"Consent Form"},replaceWarning:{id:"app.consentDocs.replaceWarning",defaultMessage:"Re-uploading will replace the existing image files"},reUploadText:{id:"app.consentDocs.reUploadText",defaultMessage:"Re-upload (JPG, PDF)"},nextButton:{id:"app.consentDocs.nextButton",defaultMessage:"Next"},prevButton:{id:"app.consentDocs.prevButton",defaultMessage:"Prev"},uploadedOn:{id:"app.consentDocs.uploadedOn",defaultMessage:"Uploaded On"}})),cn=a(495),dn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.isPdf=function(){var e=a.props.user_data,t=e.documents.consentForm,n=void 0===t?[]:t;e.isConsentFormUploaded&&n[a.state.currentIndex].file.includes(".pdf")?a.setState({isPdf:!0,totalSize:n.length}):a.setState({isPdf:!1,totalSize:n.length})},a.nextDocument=function(){if(a.state.currentIndex+1<a.state.totalSize){var e=a.state.currentIndex+1;a.setState({currentIndex:e},a.isPdf)}},a.previousDocument=function(){if(a.state.currentIndex-1>=0){var e=a.state.currentIndex-1;a.setState({currentIndex:e},a.isPdf)}},a.getScroll=function(){var e=[],t=a.state.currentIndex,n=a.props.user_data,i=n.documents.consentForm,r=void 0===i?[]:i,s=n.baseDocUrl;if(r.length>0)for(var o=function(n){var i=r[n].file;e.push(c.a.createElement("div",{key:i,className:"preview-block",onClick:function(){return a.setState({currentIndex:n})}},c.a.createElement(cn.a,{key:i,id:i,type:i.includes("pdf")?"pdf":"image",className:t===n?"case-image outline":"case-image",src:s+i})))},l=0;l<r.length;l++)o(l);return e},a.state={isPdf:!1,currentIndex:0,totalSize:0},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.isPdf()}},{key:"componentDidUpdate",value:function(e,t){this.props.modal&&this.props.user_data.documents!==e.user_data.documents&&this.setState({currentIndex:0},this.isPdf)}},{key:"render",value:function(){var e=this.props.user_data,t=e.documents.consentForm,a=void 0===t?[]:t,n=e.baseDocUrl,i=a.length<1?0:this.state.currentIndex+1,r=this.state,s=r.isPdf,o=r.currentIndex,d=r.totalSize,u=a[o],p=u.uploadedOn,m=void 0===p?[]:p;console.log("doc ----",u);var f=new L.a(m).format("DD/MM/YYYY hh:mm A");console.log("---- 111111111111111111111111 ----","".concat(n).concat(u.file));var h=this.formatMessage;return c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"consent-document-viewer"},c.a.createElement("div",{className:"consent-header"},c.a.createElement("div",{className:"consent-header-left"},i,"/",d),c.a.createElement("div",{className:"consent-header-right"},c.a.createElement("div",{className:"fontsize12 cool-grey"},"".concat(h(ln.uploadedOn)," ").concat(f)))),c.a.createElement("div",{className:"consent-body"},s&&c.a.createElement("div",{className:"full-width full-height"},c.a.createElement(Qa,{doc:a[o],baseUrl:n})),!s&&c.a.createElement("div",{className:"full-width"},c.a.createElement("img",{alt:"curr-docs",style:{maxHeight:"100%",maxWidth:"100%"},src:"".concat(n).concat(u.file)}))),c.a.createElement("div",{className:"consent-footer"},c.a.createElement("div",{className:"consent-instructions"},c.a.createElement("div",{className:"top-text fontsize12 cool-grey"},"Use Two finger pinch for Zoom in/out"),c.a.createElement("div",{className:"bottom-text fontsize12 cool-grey"},"Re-uploading will replace the existing files")),c.a.createElement("div",{className:"doc-changer"},c.a.createElement("div",{className:"nav-container"},c.a.createElement("div",{className:"image-navigation-wrapper flex-1"},c.a.createElement("div",{className:"image-navigation hide-scroll"},a.length>0&&this.getScroll())))))))}}]),t}(l.Component),un=Object(d.d)(dn),pn=a(215),mn=a.n(pn),fn="IdProof",hn="ConsentForm",vn=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(s.a)(t).call(this,e))).handleCancel=function(e){e&&e.preventDefault(),a.setState({openConsent:!0,isConsentVerified:!1,isIdProofVerified:!1}),a.props.purpose||a.setState({currentField:hn}),(0,a.props.close)()},a.handleVerify=function(e){e.preventDefault();var t=a.props,n=t.patientId,i=t.verifyDocuments,r=a.state,s=r.isConsentVerified,o=r.isIdProofVerified;if(s&&o){i(n,{verifyConsentForm:!0,verifyIdProof:!0})}else if(s){i(n,{verifyConsentForm:!0,verifyIdProof:!1})}else if(o){i(n,{verifyConsentForm:!1,verifyIdProof:!0})}a.handleCancel()},a.formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleMenu=function(e){"1"===e.key?a.setState({currentField:hn}):"2"===e.key&&a.setState({currentField:fn}),a.setState({openConsent:!a.state.openConsent})},a.handleConsentClick=function(e){a.setState({isConsentVerified:e.target.checked})},a.handleIdClick=function(e){a.setState({isIdProofVerified:e.target.checked})},a.handleDisable=function(){var e=a.props,t=e.patientId,n=(e.users[t]||{}).documents,i=(n=void 0===n?{}:n).consentFormVerified,r=void 0!==i&&i,s=n.idProofVerified,o=void 0!==s&&s,l=a.state,c=l.isConsentVerified,d=l.isIdProofVerified;return!(r!==c||o!==d)},a.handleReUpload=function(e){var t=a.state.openConsent,n=a.props,i=n.reUploadConsentDocs,r=n.reUploadIdProofs,s=n.patientId;t?(i(s,e),a.setState({isConsentVerified:!1})):t||(r(s,e),a.setState({isIdProofVerified:!1}))},a.footer=function(){var e=a.props,t=e.requesting,n=e.patientId,i=e.users,r=e.purpose,s=e.currentUser,o=(s=void 0===s?{}:s).basicInfo;if((o=void 0===o?{}:o).category===F.D.DOCTOR)return null;var d=Object(A.a)(Object(A.a)(a)),u=d.formatMessage,p=d.handleVerify,m=d.handleDisable,f=d.handleReUpload,h=(i[n]||{}).documents,v=(h=void 0===h?{}:h).consentForm,g=void 0===v?[]:v,b=h.consentFormVerified,E=void 0!==b&&b,y=h.idProof,C=void 0===y?[]:y,M=h.idProofVerified,O=void 0!==M&&M,N=a.state,w=N.isConsentVerified,T=N.isIdProofVerified,D=u(Ga.reUploadButton);return c.a.createElement("div",{className:"document-footer"},!r&&c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"footer-top"},c.a.createElement(te.a,{defaultChecked:w,checked:w,disabled:E||g.length<1,onChange:a.handleConsentClick},c.a.createElement("span",{className:"fontsize14 dark mr16"},u(Ga.consentFormCheckbox))),c.a.createElement(te.a,{defaultChecked:T,checked:T,disabled:O||C.length<1,onChange:a.handleIdClick},c.a.createElement("span",{className:"fontsize14 dark mr24"},u(Ga.idProofCheckbox))))),c.a.createElement("div",{className:"footer-bottom"},c.a.createElement(rn,{uploadProps:{accept:"image/*,.pdf"},label:D,handleComplete:f}),!r&&c.a.createElement(U.a,{type:"primary iqvia-btn",onClick:p,loading:t,disabled:m()},u(Ga.verifyButton))))},a.state={openConsent:!0,isConsentVerified:!1,isIdProofVerified:!1,fileList:[],currentField:hn},a}return Object(o.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.patientId,a=e.users,n=e.purpose,i=a[t]||{},r=i.documents,s=void 0===r?{}:r,o=void 0!==i&&s.consentFormVerified,l=void 0!==i&&s.idProofVerified;this.setState({isConsentVerified:o}),this.setState({isIdProofVerified:l}),n&&(n===fn?this.setState({currentField:fn}):this.setState({currentField:hn}))}},{key:"componentDidUpdate",value:function(e,t){if(this.props.purpose!==e.purpose){var a=this.props.purpose;a&&a===fn?this.setState({currentField:fn}):this.setState({currentField:hn})}if(this.props.patientId!==e.patientId){var n=this.props,i=n.patientId,r=(n.users[i]||{}).documents,s=(r=void 0===r?{}:r).consentFormVerified,o=void 0!==s&&s,l=r.idProofVerified,c=void 0!==l&&l;this.setState({isConsentVerified:o,isIdProofVerified:c})}}},{key:"render",value:function(){var e=this.props,t=e.show,a=e.intl.formatMessage,n=e.users,i=e.patientId,r=e.currentUser,s=e.purpose;if(!1===t||!i)return null;var o=this.state.currentField,l=n[i]||{},d=l.documents,u=void 0===d?{}:d,p=r.basicInfo,m=(p=void 0===p?{}:p).category,f=void 0!==l?l.basicInfo.name:null,h=void 0!==l&&u.consentFormVerified,v=void 0!==l&&u.idProofVerified,g=this.handleCancel,b=this.footer,E=this.handleMenu,y={visible:t,title:m===F.D.PATIENT?"My Documents":f+"'s Details",okButtonProps:{},onCancel:g,wrapClassName:"m global-modal full-height",destroyOnClose:!0,footer:b(),className:"document-verification-modal"},C="1";return s===fn&&(C="2"),c.a.createElement(D.a,y,c.a.createElement("div",{className:"document-modal"},c.a.createElement("div",{className:"document-menu menu-black"},c.a.createElement(Ya.a,{mode:"horizontal",defaultSelectedKeys:[C]},c.a.createElement(Ya.a.Item,{key:"1",onClick:E},a(Ga.consentFormCheckbox),c.a.createElement("img",{className:"ml10 mb4",alt:"",src:h?mn.a:ba.a})),c.a.createElement(Ya.a.Item,{key:"2",onClick:E},a(Ga.idProofCheckbox),c.a.createElement("img",{className:"ml10 mb4",alt:"",src:v?mn.a:ba.a})))),o===fn&&t&&c.a.createElement(on,{modal:!0,user_data:l}),o===hn&&t&&c.a.createElement(un,{modal:!0,user_data:l})))}}]),t}(l.Component),gn=Object(d.d)(vn),bn=Object(N.b)(function(e){var t=e.modal,a=e.users,n=e.auth,i=Object(ct.c)();return{show:t.show&&t.modalType===F.n.DOCUMENTS_MODAL,requesting:t.requesting,purpose:t.purpose,patientId:t.entityId,users:a,currentUser:i(a,n.authenticated_user)}},function(e){return{close:function(){return e(Object(ot.g)())},verifyDocuments:function(t,a){return e(Object(qa.q)(t,a))},reUploadIdProofs:function(t,a){return e(Object(qa.p)(t,a))},reUploadConsentDocs:function(t,a){return e(Object(qa.o)(t,a))}}})(gn),En=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log("mobileAppWrapper"),c.a.createElement(u.a,null,c.a.createElement(l.Fragment,null,c.a.createElement("div",{className:"m"},c.a.createElement(T,null),c.a.createElement(dt,null),c.a.createElement(kt,null),c.a.createElement(qt,null),c.a.createElement(ua,null),c.a.createElement(Ta,null),c.a.createElement(Ra,null),c.a.createElement(Va,null),c.a.createElement(Wa,null),c.a.createElement(bn,null))))}}]),t}(l.Component);t.default=Object(d.d)(En)},238:function(e,t,a){},254:function(e,t,a){},299:function(e,t,a){"use strict";var n=a(174),i=a(177),r=a(6),s=a.n(r),o=(a(979),a(209)),l=a.n(o);t.a=function(e){var t=e.msg,a=e.close,r=e.className;return a&&setTimeout(a,4e3),t?s.a.createElement("div",{className:"iqvia-error ".concat(r)},s.a.createElement("div",{className:"flex  pr8 pl8 pt16 pb16"},s.a.createElement(n.a,{className:"w100"},s.a.createElement(i.a,{xs:12,sm:12,md:10,lg:10,xl:10,xxl:10},s.a.createElement("div",null,s.a.createElement("img",{alt:"",src:l.a,className:"mr8 inline"}),s.a.createElement("div",{className:"fontsize12 medium warning-color inline"},t)))))):null}},330:function(e,t,a){"use strict";a.d(t,"b",function(){return N}),a.d(t,"a",function(){return w});var n=a(162),i=a(29),r=a(147),s=a(148),o=a(151),l=a(149),c=a(150),d=a(167),u=a(164),p=a(6),m=a.n(p),f=a(352),h=a(382),v=a(383),g=a.n(v),b=a(288),E=a(227),y=u.a.Item,C=d.a.Option;var M=function(){var e=[];for(var t in g.a.callingCountries.all){var a=g.a.callingCountries.all[t];a.countryCallingCodes.length>0&&(a.code=a.countryCallingCodes[0],e.push(a))}return e}(),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"+91",t="";for(var a in M){var n=M[a];if(n.code===e){t=n.alpha2;break}}return t},N=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.countryCode,a=void 0===t?"":t,n=e.phoneNumber,i=void 0===n?"":n;return null!==a&&null!==i&&a.length>0&&i.length>0?m.a.createElement("div",{className:"flex  align-items-center"},m.a.createElement(h.a,{code:O(a),svg:!0}),m.a.createElement("div",{className:"ml8"},a+"-"+i)):null}}]),t}(p.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).getParentNode=function(e){return e.parentNode},a.selectedCountryCode=function(e){0===e.length?a.setState({showDropDown:!1,suggestedCountryCodes:[]}):a.setState({showDropDown:!1,suggestedCountryCodes:M.filter(function(t){return t.code.indexOf(e)>-1})})},a.setInitialCountryCode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"+91";e&&0===e.length?a.setState({suggestedCountryCodes:[]}):a.setState({countryCode:e,suggestedCountryCodes:M.filter(function(t){return t.code.indexOf(e)>-1})})},a.searchCountryCode=function(e){0===e.length?a.setState({suggestedCountryCodes:[]}):a.setState({showDropDown:!0,suggestedCountryCodes:M.filter(function(t){return t.code.indexOf(e)>-1})})},a.isNumber=function(e,t,a){t&&t.length>0&&null===t.match("^[0-9]+$")?a("Enter valid phone number"):a()},a.state={suggestedCountryCodes:[],showDropDown:!1},a.searchCountryCode=Object(f.a)(a.searchCountryCode,300),a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.countryCode,t=void 0===e?"+91":e;this.setInitialCountryCode(t)}},{key:"componentWillReceiveProps",value:function(e){var t=Object(b.a)(this.props);if(!Object(E.a)(e,t)){var a=e.countryCode;this.setInitialCountryCode(a)}}},{key:"render",value:function(){var e=this.props,t=e.phoneNumber,a=e.phoneField,r=e.countryCodeField,s=e.disabled,o=e.fieldError,l=void 0===o?{}:o,c=e.countryCode,u=e.rulesPhoneNumber,p=void 0===u?[]:u,f=this.props.form.getFieldDecorator,v=this.state,g=v.showDropDown,b=v.suggestedCountryCodes;return m.a.createElement("div",{className:"flex content-space-between align-items-start"},m.a.createElement("div",{className:"flex flex-1"},m.a.createElement(y,{className:"show-no-error",style:{width:"120px",margin:"0 10px 0 0"},validateStatus:l[r]?"error":"",help:l[r]||""},f(r,{validateTrigger:["onChange","onBlur"],rules:this.props.rulesCountryCode,initialValue:c,type:"string"})(m.a.createElement(d.a,{className:"country_code_value_placeholder",showSearch:!0,placeholder:m.a.createElement("div",{className:"country_code_value flex row align-items-center justify-content-start w100"},m.a.createElement(h.a,{code:"IN",svg:!0}),m.a.createElement("div",{className:"pl5"},"+91")),notFoundContent:null,filterOption:!1,onSearch:this.searchCountryCode,style:{width:"100%"},onSelect:this.selectedCountryCode,showArrow:!1,dropdownStyle:{width:"200px"},dropdownClassName:"select_country_code_dropdown"+(g?"  ":" hide_drop_down"),optionLabelProp:"children",disabled:s,getPopupContainer:this.getParentNode},b.map(function(e){return m.a.createElement(C,{value:e.code,key:e.alpha2+e.code,title:e.code},m.a.createElement("div",{className:"flex row align-items-start justify-content-center"},m.a.createElement("div",{className:"country_code_select flex row align-items-center justify-content-start w100"},m.a.createElement(h.a,{code:e.alpha2,svg:!0}),m.a.createElement("div",{className:"pl5"}," ",e.code," ",e.name)),m.a.createElement("div",{className:"country_code_value flex row align-items-center justify-content-start w100"},m.a.createElement(h.a,{code:e.alpha2,svg:!0}),m.a.createElement("div",{className:"pl5"},e.code))))})))),m.a.createElement(y,{className:"w100",style:{marginBottom:"0"},validateStatus:l[a]||l[r]?"error":"",help:l[a]||l[r]||""},f(a,{initialValue:t,rules:[{validator:this.isNumber}].concat(Object(i.a)(p))})(m.a.createElement(n.a,{placeholder:"",className:"phone_number_main mb0 pb0",disabled:s})))))}}]),t}(p.Component)},350:function(e,t,a){"use strict";var n=a(248),i=a(154),r=a(180),s=a(147),o=a(148),l=a(151),c=a(149),d=a(150),u=a(158),p=a(6),m=a.n(p),f=a(28),h=a(336),v=a.n(h),g=(a(692),a(693)),b=a.n(g),E=a(694),y=a.n(E),C=a(695),M=a.n(C),O=Object(f.c)({dashboard:{id:"app.header.dashboard",defaultMessage:"Dashboard"},mycalender:{id:"app.header.mycalender",defaultMessage:"My Calendar"},program:{id:"app.header.program",defaultMessage:"Programs"},surveys:{id:"app.header.surveys",defaultMessage:"Surveys"},newAppointment:{id:"app.header.newAppointment",defaultMessage:"New Appointment/ Reminder"},newPatient:{id:"app.header.newPatient",defaultMessage:"New Patient"},newDoctor:{id:"app.header.newDoctor",defaultMessage:"New Doctor"},reportAdverseEvent:{id:"app.header.reportAdverseEvent",defaultMessage:"Report Adverse Event"},myProfile:{id:"app.header.my-profile",defaultMessage:"My Profile"},headerlogo:{id:"app.header.header-logo",defaultMessage:"P E P"},signUp:{id:"app.header.signUp",defaultMessage:"Sign Up"},signIn:{id:"app.header.signIn",defaultMessage:"Sign In"},MyMedicalDetails:{id:"app.header.MyMedicalDetails",defaultMessage:"My Medical Details"},signOut:{id:"app.signout",defaultMessage:"Sign Out"}}),N=a(2),w=Object(f.d)(function(e){var t=e.intl.formatMessage,a=e.category,n=e.showSearchbar,i=e.userId,s=e.reportAdverseEvent,o=e.showSearch;e.showAddButton,m.a.createElement(r.a,{className:"addButtonmenu"},m.a.createElement(r.a.Item,{className:"addButtonMenuItem",onClick:function(t){e.openModal(N.n.EVENT_MODAL)}},t(O.newAppointment)),m.a.createElement(r.a.Item,{className:"addButtonMenuItem",onClick:e.openAddPatientModal},t(O.newPatient)),m.a.createElement(r.a.Item,{className:"addButtonMenuItem",onClick:e.openAddDoctorModal},t(O.newDoctor)),m.a.createElement(r.a.Item,{className:"addButtonMenuItem",onClick:function(t){e.openModal(N.n.ADVERSE_EVENTS)}},t(O.reportAdverseEvent))),m.a.createElement(r.a,{className:"addButtonmenu"},m.a.createElement(r.a.Item,{className:"addButtonMenuItem",onClick:function(t){e.openModal(N.n.EVENT_MODAL)}},t(O.newAppointment)),m.a.createElement(r.a.Item,{className:"addButtonMenuItem",onClick:function(e){s(i)}},t(O.reportAdverseEvent)));switch(a){case N.D.CARE_COACH:break;case N.D.PATIENT:case N.D.DOCTOR:}return m.a.createElement("div",{className:"flex align-items-center justify-content-space-evenly"},m.a.createElement("div",{className:"flex align-items-center justify-content-space-evenly "},a&&a!==N.D.PATIENT&&o&&m.a.createElement("div",{onClick:n,className:"ico-search-desktop"},m.a.createElement("img",{alt:"",src:b.a,className:"icons"})),m.a.createElement("div",{className:"chat"},m.a.createElement("img",{alt:"",src:y.a,className:"icons"})),m.a.createElement("div",{className:"alert"},m.a.createElement("img",{alt:"",src:M.a,className:"icons"}))))}),T=a(183),D=a.n(T),S=a(400),P=a.n(S),j=a(162),k=a(0),I=a.n(k),A=a(3),R=a(868),x=a(399),L=a(4),F=a(255),_=a(46),U=a.n(_),V=function(e){var t=[];return Object.keys(e).forEach(function(a){var n=e[a]||{},i={};i.id=n._id,U()().diff(n.expiresOn,"years",!0)<0?(i.title=n.name,i.validity=N.F.ACTIVE,t.push(i)):(i.title=n.name,i.validity=N.F.EXPIRE,t.push(i))}),t},B=function(e){var t=[];return e.forEach(function(e){var a=e._id,n=e.name,i=e.gender,r=e.dob,s=e.homeAddress,o=void 0===s?{}:s,l=e.profilePicLink,c=void 0===l?D.a:l,d=e.category,u=e.city,p=e.disease,m=e.country,f=U()().diff(r,"years",!1);d===N.j.PATIENT&&t.push({id:a,title:n,age:f,gender:i,disease:p,addressLine1:o.addressLine2,city:u,country:m,profilePicLink:c})}),t},H=function(e){var t=[];return e.forEach(function(e){var a=e._id,n=e.name,i=e.speciality;e.category===N.j.DOCTOR&&t.push({id:a,title:n,Speciality:i})}),t},z=a(696),q=a.n(z),W=Object(f.c)({program:{id:"app.searchbox.program",defaultMessage:"Program"},patient:{id:"app.searchbox.patient",defaultMessage:"Patient"},doctor:{id:"app.searchbox.doctor",defaultMessage:"Doctor"}}),Y=(a(1155),R.a.Option),G=R.a.OptGroup,J=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).gotToSearchResult=function(e){e.preventDefault();var t=e.target.value;a.setState({dataSource:[]},function(){a.props.history.push("".concat(N.H.SEARCH,"/?key=").concat(t,"&?query=").concat(a.state.query))})},a.handleOnClick=function(e,t){a.props.history.push("/".concat(e,"/").concat(t))},a.showoptions=function(e){var t=Object(u.a)(Object(u.a)(a)).getoptions;null!==t&&(a.setState({query:e}),a.setState({isLoading:!0}),t(e))},a.state={dataSource:[],Program:[],Patient:[],Doctor:[],query:"",isLoading:!1},a.getoptions=Object(F.a)(a.getoptions.bind(Object(u.a)(Object(u.a)(a))),3e3),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillUnmount",value:function(){this.getoptions=null}},{key:"getoptions",value:function(){var e=Object(A.a)(I.a.mark(function e(t){var a,n,i,r,s,o,l,c,d=this;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.props,n=a.intl.formatMessage,i=a.category,""===(r=t.trim())||"$"===r){e.next=21;break}return e.next=5,Object(L.a)({params:{query:r},url:N.H.SEARCH,method:N.y.GET});case 5:if(s=e.sent,o=[],l=[],c=[],void 0===s.payload.data){e.next=18;break}return o=V(s.payload.data.programs),e.next=13,B(s.payload.data.users.result);case 13:if(l=e.sent,i!==N.D.CARE_COACH){e.next=18;break}return e.next=17,H(s.payload.data.users.result);case 17:c=e.sent;case 18:this.setState(function(e){return{Program:o,Patient:l,Doctor:c}},function(){i===N.D.CARE_COACH?d.setState({dataSource:[{title:n(W.program),children:d.state.Program},{title:n(W.patient),children:d.state.Patient},{title:n(W.doctor),children:d.state.Doctor}],isLoading:!1}):d.setState({dataSource:[{title:n(W.program),children:d.state.Program},{title:n(W.patient),children:d.state.Patient}],isLoading:!1})}),e.next=22;break;case 21:this.setState({isLoading:!1});case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.dataSource,n=t.query,r=t.isLoading,s=this.handleOnClick,o=a.filter(function(e){return e.children.length>0}),l="Search programs, patients".concat("doctor"!==this.props.category?", doctors":""),c=!0;""!==n&&o.length<=0&&(c=!1);var d=c?o.map(function(t,a){return m.a.createElement(G,{className:"title",key:a,label:m.a.createElement("div",{className:"flex justify-content-space-between align-items-center",style:{height:"40px",marginTop:"16px",paddingBottom:"16px"}},m.a.createElement("span",{className:"title fontsize14"},t.title,"(",t.children.length,")"),t.children.length>1&&m.a.createElement("div",null,m.a.createElement(i.a,{className:"viewall",size:"small",onClick:e.gotToSearchResult,value:t.title},"View All")))},"Patient"===t.title?t.children.map(function(e,t){return m.a.createElement(Y,{key:e.title+t,value:e.title,className:"searchoptions"},m.a.createElement("div",{className:"flex align-items-center",onClick:function(){s(N.j.PATIENT,e.id)}},m.a.createElement("div",{className:"fontsize16 pr10"},e.title," (",e.age," ",e.gender,")"),m.a.createElement("div",{className:"fontsize12 info"},e.disease," ")," ",m.a.createElement("div",{className:"dot steel-grey ml2 mr2"}),m.a.createElement("div",{className:"fontsize12 info"},e.addressLine1&&e.addressLine1+",",e.city.length>0&&e.city+",",e.country)))}):t.children.map(function(e,a){return m.a.createElement(Y,{key:e.title+a,value:e.title,className:"searchoptions"},"Program"===t.title?m.a.createElement("div",{className:"flex align-items-center mb0",onClick:function(){s(N.j.PROGRAM,e.id)}},m.a.createElement("div",{className:"programtitle"},e.title," "),m.a.createElement("div",{className:"validity flex align-items-center justify-content-center"},e.validity)):m.a.createElement("div",{className:"flex align-items-center mb0  ",onClick:function(){s(N.j.DOCTOR,e.id)}},m.a.createElement("div",{className:"programtitle"},e.title)," ",m.a.createElement("span",{className:"fontsize12 info pl20"},e.Speciality)))}))}):[m.a.createElement(Y,{key:"no_result"}," ",r?"Loading":"No Result Found")];return m.a.createElement("div",{className:"certain-category-search-wrapper searchbox",style:{width:"100%"}},m.a.createElement(R.a,{className:"certain-category-search",dropdownClassName:"certain-category-search-dropdown searchbox",dropdownMatchSelectWidth:!1,dropdownStyle:{width:"50px",position:"fixed"},size:"small",style:{width:"100%",border:"none"},dataSource:d,placeholder:l,optionLabelProp:"value",onChange:this.showoptions,autoFocus:"true"},m.a.createElement(j.a,{prefix:m.a.createElement("img",{alt:"",src:q.a,className:"cross",onClick:this.props.hideSearchbar})})))}}]),t}(p.Component),K=Object(x.a)(Object(f.d)(J)),Z=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).gotoMyProfile=function(){a.props.history.push(N.H.MY_PROFILE)},a.showSearchBar=function(){a.setState({showSearchBar:!0})},a.hideSearchBar=function(){a.setState({showSearchBar:!1})},a.signOut=function(){(0,a.props.signOut)()},a.state={showSearchBar:!1,query:""},a.onClick=a.onClick.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=(e=void 0===e?{}:e).pathname,a=e.search;if(t==="".concat(N.H.SEARCH,"/")){var n=v.a.parse(a);this.setState({showSearchBar:!0,query:n["?query"]})}}},{key:"onClick",value:function(){(0,this.props.openModal)()}},{key:"render",value:function(){var e=this.props,t=e.intl.formatMessage,a=e.openModal,s=e.user_data,o=(s=void 0===s?{}:s).basicInfo,l=(o=void 0===o?{}:o)._id,c=o.category,d=o.profilePicLink,u=void 0===d?D.a:d,f=s.isProfileCompleted,h=void 0!==f&&f,v=e.showmenu,g=e.reportAdverseEvent,b=e.showSearch,E=e.showAddButton,y=(e.currentTab,this.openAddDoctorModal,this.openAddPatientModal,this.state.showSearchBar),C=m.a.createElement(r.a,null,m.a.createElement(r.a.Item,{onClick:this.gotoMyProfile},t(O.myProfile)),m.a.createElement(r.a.Item,{onClick:this.signOut},t(O.signOut)));return this.props.authenticated?m.a.createElement(p.Fragment,null,m.a.createElement("div",{className:"fixed_header header flex align-items-center justify-content-space-between pl20 pr20"},m.a.createElement("div",{className:"flex align-items-center"},m.a.createElement("a",{href:"/"},m.a.createElement("div",{className:"logo"},m.a.createElement("img",{alt:"",src:P.a})))),this.props.signup?m.a.createElement("div",{className:"signup-header padding-rl-10"},m.a.createElement(i.a,{type:"primary",className:"signup-btn margin-rl-10"},t(O.signUp)),m.a.createElement(i.a,{className:"signin-btn"},t(O.signIn))):m.a.createElement("div",{className:"flex align-items-center"},!v&&h&&m.a.createElement(w,{category:c,openModal:a,showSearchbar:this.showSearchBar,reportAdverseEvent:g,userId:l,showSearch:b,showAddButton:E}),m.a.createElement("div",null,m.a.createElement(n.a,{overlay:C,placement:"bottomRight",trigger:["click"]},m.a.createElement("div",{className:"user-logo-container clickable"},m.a.createElement("img",{alt:"",className:"user-logo clickable",src:u})))))),m.a.createElement("div",{className:y?"searchbar":"nosearchbar"},y&&m.a.createElement("div",null,m.a.createElement(K,{hideSearchbar:this.hideSearchBar,searchedText:this.state.query,category:c})))):m.a.createElement("div",{className:"fixed_header header flex align-items-center justify-content-space-between pl20 pr20"},m.a.createElement("div",{className:"flex align-items-center"},m.a.createElement("a",{href:"/"},m.a.createElement("div",{className:"logo"},m.a.createElement("img",{alt:"",src:P.a}))),m.a.createElement("div",{className:"pl10 bold",style:{color:"#fff"}},t(O.headerlogo))))}}]),t}(p.Component);t.a=Object(f.d)(Z)},356:function(e,t,a){"use strict";var n=a(9),i=a(147),r=a(148),s=a(151),o=a(149),l=a(150),c=a(167),d=a(164),u=a(6),p=a.n(u),m=a(171),f=a(288),h=a(227),v=a(317),g=a(176),b=a.n(g),E=a(195),y=a.n(E),C=p.a.createElement("img",{alt:"",src:b.a}),M=p.a.createElement("img",{alt:"",className:"icons",src:y.a}),O=d.a.Item,N=c.a.Option,w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).getParentNode=function(e){return e.parentNode},a.updateCountries=function(e){e.length>0&&e.forEach(function(e){a.countries[e._id]=e.name})},a.onChangeCountry=function(e){var t=a.props.form,i=t.validateFields,r=t.setFieldsValue,s=a.props,o=s.cityField,l=s.onChangeCountry;a.props.getCities(e),r(Object(n.a)({},o,"")),i([o]),a.setState({currentCountry:e}),l&&l()},a.changeCityOptions=function(e){a.setState({cityInput:e},a.getCitiesOption)},a.getCitiesOption=function(){var e=a.state,t=e.currentCountry,n=void 0===t?"":t,i=e.data,r=void 0===i?{}:i,s=e.cityInput,o=void 0===s?"":s,l=a.props.city,c=void 0===l?"":l;if(0===n.length)return p.a.createElement(N,{value:"null",disabled:!0},"Please select Country first");if(o.length>0){var d=r[n];if(d){var u=d.cities,m=void 0===u?{}:u;m=Object(v.a)(m,function(e){if(JSON.stringify(e.name).toLowerCase().includes(o.toLowerCase()))return e});var f=[],h=-1;for(var g in m){if(h>50)break;var b=m[g];f.push(p.a.createElement(N,{value:b._id,key:b._id+ ++h},b.name))}return f}return null}var E=(r[n]||{}).cities,y=[],C=(void 0===E?{}:E)[c];return C&&c.length>0&&y.push(p.a.createElement(N,{value:c,key:c},C.name)),y},a.getCountriesOption=function(){var e=a.props.countries_list,t=[];if(Object.keys(e).length>0){var n,i=-1;for(var r in e)n=e[r],t.push(p.a.createElement(N,{value:n._id,key:n._id+ ++i},n.name));return t}return null},a.getFieldsValue=function(e){(0,a.props.onChangeCity)(a.state.currentCountry,e)},a.state={countries_list:a.props.countries_list,data:a.props.data,is_loading:a.props.is_loading,currentCountry:a.props.country||""},a.countries={},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){Object(m.a)(this.state.countries_list)&&this.props.getCountries(),""!==this.state.currentCountry&&this.props.getCities(this.state.currentCountry)}},{key:"componentDidUpdate",value:function(e,t){}},{key:"componentWillReceiveProps",value:function(e){var t=this,a=Object(f.a)(this.state);if(!Object(h.a)(e,a)){var n=e.countries_list,i=void 0===n?[]:n,r=e.data,s=e.is_loading;this.setState({countries_list:i,data:r,is_loading:s},function(){t.updateCountries(i)})}}},{key:"render",value:function(){var e=this.getCountriesOption,t=(0,this.getCitiesOption)(),a=e(),n=this.props,i=n.fieldError,r=void 0===i?{}:i,s=n.cityLabel,o=n.countryLabel,l=n.cityField,d=n.countryField,u=n.city,m=n.country,f=n.cityRules,h=void 0===f?[]:f,v=n.countryRules,g=void 0===v?[]:v,b=n.getFieldDecorator;return p.a.createElement("div",null,p.a.createElement("div",{className:"mt20"},p.a.createElement(O,{label:o,validateStatus:r[d]?"error":"",help:r[d]||""},b(d,{rules:g,initialValue:m,onChange:this.onChangeCountry})(p.a.createElement(c.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:C,placeholder:"",showSearch:!0,autoComplete:"off",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},getPopupContainer:this.getParentNode},a)))),p.a.createElement("div",{className:"mt20"},p.a.createElement(O,{label:s,validateStatus:r[l]?"error":"",help:r[l]||""},b(l,{rules:h,initialValue:u})(p.a.createElement(c.a,{className:"full-width iqvia-style-select fontsize14",suffixIcon:M,placeholder:"Search City",showSearch:!0,autoComplete:"off",optionFilterProp:"children",notFoundContent:null,filterOption:!1,onSearch:this.changeCityOptions,onChange:this.props.onChangeCity?this.getFieldsValue:null,getPopupContainer:this.getParentNode},t)))))}}]),t}(u.Component),T=a(45),D=a(61);t.a=Object(T.b)(function(e){var t=e.countryCities;return{countries_list:t.countries,data:t.cities,is_loading:t.isLoading}},function(e){return{getCities:function(t){return e(Object(D.b)(t))},getCountries:function(){return e(Object(D.c)())}}})(w)},468:function(e,t,a){"use strict";var n=a(174),i=a(177),r=a(6),s=a.n(r),o=(a(990),a(215)),l=a.n(o);t.a=function(e){var t=e.msg,a=e.close,r=e.className;return t?(a&&setTimeout(a,1e4),s.a.createElement("div",{className:"iqvia-successful-msg ".concat(r)},s.a.createElement("div",{className:"flex  pr8 pl24 pt12 pb12"},s.a.createElement(n.a,{className:"w100"},s.a.createElement(i.a,{xs:12,sm:12,md:10,lg:10,xl:10,xxl:10},s.a.createElement("div",null,s.a.createElement("img",{alt:"",src:l.a,className:"mr8 inline"}),s.a.createElement("div",{className:"fontsize12 medium successfull-color inline"},t))))))):null}},559:function(e,t,a){"use strict";var n=a(45),i=a(274),r=a(147),s=a(148),o=a(151),l=a(149),c=a(150),d=a(237),u=a(6),p=a.n(u),m=a(28),f=a(304),h=a(46),v=a.n(h),g=Object(m.c)({cancel:{id:"calendarCard.appointment.cancel",defaultMessage:"Cancel Appointment"},reschedule:{id:"calendarCard.appointment.reschedule",defaultMessage:"Reschedule appointment"},rescheduleAll:{id:"calendarCard.appointment.rescheduleAll",defaultMessage:"Reschedule all Appointments"},rescheduleThis:{id:"calendarCard.appointment.rescheduleThis",defaultMessage:"Reschedule this Appointment"},editNotes:{id:"calendarCard.appointment.editNotes",defaultMessage:"Edit Notes"},updateVitals:{id:"calendarCard.appointment.updateVitals",defaultMessage:"Update Vitals"},updateMedication:{id:"calendarCard.appointment.updateMedication",defaultMessage:"Update Medication"},updateClinicalReadings:{id:"calendarCard.appointment.updateClinicalReadings",defaultMessage:"Update Clinical Readings"},doneButton:{id:"calendarCard.appointment.doneButton",defaultMessage:"Mark as done"},undoButton:{id:"calendarCard.appointment.undoButton",defaultMessage:"Undo"},joinCallButton:{id:"calendarCard.appointment.joinCallButton",defaultMessage:"Join Call"},scheduledBy:{id:"calendarCard.appointment.scheduledBy",defaultMessage:"Scheduled by"},markAsDoneBy:{id:"calendarCard.appointment.markAsDoneBy",defaultMessage:"Mark as done by"}}),b=a(154),E=a(1746),y=a(270),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleMarkAsDone=function(){(0,a.props.handleMarkAsDone)()},a.handleUndo=function(){(0,a.props.handleUndo)()},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.formatMessage,t=this.handleUndo,a=this.handleMarkAsDone,n=this.props,i=n.data,r=(i=void 0===i?{}:i).type,s=i.disabled,o=n.event,l=(o=void 0===o?{}:o).id;switch(r){case y.a.JOIN_CALL:return p.a.createElement("div",{className:"calendar-card-button"},p.a.createElement(E.a,{to:"/remoteConsulting/".concat(l),target:"_blank"},p.a.createElement(b.a,{className:"done-button",disabled:s},e(g.joinCallButton))));case y.a.MARK_AS_DONE:return p.a.createElement("div",{className:"calendar-card-button"},p.a.createElement(b.a,{disabled:s,onClick:a,className:"done-button"},e(g.doneButton)));case y.a.UNDO:return p.a.createElement("div",{className:"calendar-card-button"},p.a.createElement(b.a,{disabled:s,onClick:t,className:"undo-button"},e(g.undoButton)));default:return null}}}]),t}(u.Component),M=Object(m.d)(C),O=a(158),N=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleEditNotes=function(){(0,a.props.editNotes)()},a.handleCancel=function(){(0,a.props.handleCancel)()},a.handleRescheduleThis=function(){(0,a.props.handleRescheduleThis)()},a.handleRescheduleAll=function(){(0,a.props.handleRescheduleAll)()},a.handleUpdateVitals=function(){(0,a.props.handleUpdateVitals)()},a.handleUpdateMedication=function(){(0,a.props.handleUpdateMedication)()},a.handleUpdateClinicalReading=function(){(0,a.props.handleUpdateClinicalReading)()},a.moreOptions=function(e){var t=Object(O.a)(Object(O.a)(a)),n=t.formatMessage,i=t.handleUpdateClinicalReading,r=t.handleUpdateMedication,s=t.handleUpdateVitals,o=t.handleRescheduleAll,l=t.handleRescheduleThis,c=t.handleEditNotes,d=t.handleCancel;switch(e){case y.a.EDIT_NOTES_OF_APPOINTMENT:return p.a.createElement("div",{key:e,className:"drop-down",onClick:c},n(g.editNotes)," ");case y.a.CANCEL_APPOINTMENT:return p.a.createElement("div",{key:e,className:"drop-down cancel",onClick:d},n(g.cancel));case y.a.RESCHEDULE_APPOINTMENT:return p.a.createElement("div",{key:e,className:"drop-down",onClick:l},n(g.reschedule));case y.a.RESCHEDULE_THIS_APPOINTMENT:return p.a.createElement("div",{key:e,className:"drop-down",onClick:l},n(g.rescheduleThis));case y.a.RESCHEDULE_ALL_APPOINTMENT:return p.a.createElement("div",{key:e,className:"drop-down",onClick:o},n(g.rescheduleAll));case y.a.UPADTE_VITALS:return p.a.createElement("div",{key:e,className:"drop-down",onClick:s},n(g.updateVitals));case y.a.UPDATE_CLINICAL_READING:return p.a.createElement("div",{key:e,className:"drop-down",onClick:i},n(g.updateClinicalReadings));case y.a.UPDATE_MEDICATION:return p.a.createElement("div",{key:e,className:"drop-down",onClick:r},n(g.updateMedication));default:return null}},a.state={},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.actions;return(void 0===t?[]:t).map(function(t){return e.moreOptions(t)})}}]),t}(u.Component),w=Object(m.d)(N),T=a(2),D=a(303),S=a.n(D),P=p.a.createElement("img",{className:"icon-activity-modes",alt:"",src:S.a}),j=p.a.createElement("img",{className:"icon-activity-modes",alt:"",src:S.a}),k=p.a.createElement("img",{className:"icon-activity-modes",alt:"",src:S.a}),I=function(e){var t=e.event,a=(t=void 0===t?{}:t).data;switch((a=void 0===a?{}:a).activityType){case T.c.MEDICATION:return P;case T.c.MATERIAL_DELIVERY:return k;case T.c.FOLLOWUP:return j;default:return null}},A=a(388),R=a.n(A),x=a(389),L=a.n(x),F=a(390),_=a.n(F),U=a(391),V=a.n(U),B=a(392),H=a.n(B),z=a(393),q=a.n(z),W=p.a.createElement("img",{className:"icons",alt:"",src:R.a}),Y=p.a.createElement("img",{className:"icons",alt:"",src:L.a}),G=p.a.createElement("img",{className:"icons",alt:"",src:_.a}),J=p.a.createElement("img",{className:"icons",alt:"",src:V.a}),K=p.a.createElement("img",{className:"icons",alt:"",src:H.a}),Z=p.a.createElement("img",{className:"icons",alt:"",src:q.a}),$=function(e){var t=e.event,a=(t=void 0===t?{}:t).status,n=t.data;switch((n=void 0===n?{}:n).activityMode){case T.k.ACTIVITY_MODE.CALL:return a===T.k.STATUS.PASSED?J:G;case T.k.ACTIVITY_MODE.VISIT:return a===T.k.STATUS.PASSED?Y:W;case T.k.ACTIVITY_MODE.CHAT:return a===T.k.STATUS.PASSED?Z:K;default:return null}},Q=a(860),X=a(183),ee=a.n(X),te=(a(254),d.a.Meta),ae=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleClick=function(){a.setState({visible:!a.state.visible})},a.handleCardClick=function(){a.setState({cardClicked:!0})},a.handleLeave=function(){a.setState({visible:!1,cardClicked:!1})},a.handleEditNotes=function(){(0,a.props.editNotes)()},a.handleCancel=function(){(0,a.props.openCancelModal)()},a.handleMarkAsDone=function(){(0,a.props.setAppointmentStatus)(T.k.STATUS.COMPLETED)},a.handleUndo=function(){var e=a.props,t=e.setAppointmentStatus,n=e.event,i=n.startTime,r=n.endTime,s=v()();console.log(s,v()(r)),v()(r).isBefore(s)?t(T.k.STATUS.PASSED):v()(i).isAfter(s)?t(T.k.STATUS.PENDING):v()(i).isBefore(s)&&v()(r).isAfter(s)&&t(T.k.STATUS.STARTED)},a.handleRescheduleThis=function(){(0,a.props.rescheduleEvent)(!1)},a.handleRescheduleAll=function(){(0,a.props.rescheduleEvent)(!0)},a.getPatientId=function(){var e=a.props,t=e.participantOne,n=(t=void 0===t?{}:t).basicInfo,i=(n=void 0===n?{}:n).category,r=n._id,s=e.participantTwo,o=(s=void 0===s?{}:s).basicInfo,l=(o=void 0===o?{}:o)._id;return i===T.D.PATIENT?r:l},a.handleUpdateVitals=function(){var e=a.props.viewer,t=(e=void 0===e?{}:e).basicInfo,n=(t=void 0===t?{}:t).category,i=void 0===n?{}:n,r=a.getPatientId();i===T.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(r,"/Medical-Details"),state:{currentMedicalField:"Vital"}}):i===T.D.PATIENT&&a.props.history.push("/medicals/Vital")},a.handleUpdateMedication=function(){var e=a.props.viewer,t=(e=void 0===e?{}:e).basicInfo,n=(t=void 0===t?{}:t).category,i=void 0===n?{}:n,r=a.getPatientId();i===T.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(r,"/Medical-Details"),state:{currentMedicalField:"Medication"}}):i===T.D.PATIENT&&a.props.history.push("/medicals/Medication")},a.handleUpdateClinicalReading=function(){var e=a.props.viewer,t=(e=void 0===e?{}:e).basicInfo,n=(t=void 0===t?{}:t).category,i=void 0===n?{}:n,r=a.getPatientId();i===T.D.CARE_COACH?a.props.history.push({pathname:"/patient/".concat(r,"/Medical-Details"),state:{currentMedicalField:"Clinical-Reading"}}):i===T.D.PATIENT&&a.props.history.push("/medicals/Clinical-Reading")},a.getAppointmentWithCategoryText=function(e){switch(e.basicInfo.category){case T.D.CARE_COACH:return"Coach";case T.D.DOCTOR:return"Doctor";case T.D.PATIENT:return"Patient";default:return null}},a.state={visible:!1,cardClicked:!1,modalOpen:!1},a}return Object(c.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.event,a=void 0===t?{}:t,n=e.modal,r=void 0!==n&&n,s=e.hideAction,o=void 0!==s&&s,l=a.id,c=a.status,m=new Q.a(this.props),f=this.handleCancel,h=this.handleUpdateClinicalReading,v=this.handleUpdateMedication,b=this.handleUpdateVitals,E=this.handleRescheduleThis,y=this.handleRescheduleAll,C=this.handleEditNotes,O=this.handleClick,N=this.handleLeave,D=this.handleCardClick,S=this.formatMessage,P=m.getStartTime(),j=(m.isCardEnable(),m.getNotes()),k=m.getStatus(),A=m.getActivityName(),R=m.getActivityTypeName(),x=m.getEventDuration(),L=m.getLastActedUser(),F=m.getAppointmentWithTag(),_=F.basicInfo,U=(_=void 0===_?{}:_).name,V=_.profilePicLink,B=void 0===V?ee.a:V,H=this.getAppointmentWithCategoryText(F),z=this.props.match,q=(z=void 0===z?{}:z).params,W=((q=void 0===q?{}:q).entity,c===T.k.STATUS.COMPLETED?S(g.markAsDoneBy):S(g.scheduledBy)),Y=this.state.visible;return p.a.createElement(u.Fragment,null,p.a.createElement(d.a,{onMouseLeave:r?null:N,onClick:D,className:"calender-card",hoverable:!o,title:[p.a.createElement("div",{key:l},p.a.createElement("div",{className:"card-top"},W," ",L),p.a.createElement("div",{className:"card-title"},p.a.createElement("div",{className:"card-title-left"},p.a.createElement("div",{className:"time-icon"},p.a.createElement($,{event:a}),p.a.createElement("span",{className:"time-text"},P,", ",x)),p.a.createElement("div",{className:"status ".concat(c===T.k.STATUS.COMPLETED||c===T.k.STATUS.STARTED?"status-completed":c===T.k.STATUS.PASSED?"status-overdue":"status-upcoming")},k)),!o&&p.a.createElement(M,{event:a,data:m.getAction(),handleMarkAsDone:this.handleMarkAsDone,handleUndo:this.handleUndo})),p.a.createElement("div",{className:"card-cover"},p.a.createElement("span",{className:"coach-activity"},H," ",A),p.a.createElement("span",{className:"coach-avatar"},p.a.createElement(i.a,{src:B}),U),p.a.createElement("div",{className:"card-modal-options mt8"},p.a.createElement("div",{className:"card-activity"},p.a.createElement(I,{event:a}),p.a.createElement("span",null,R)),!0!==o&&p.a.createElement("div",{className:"more-options"},p.a.createElement("div",{className:"mr25",onClick:O},p.a.createElement("span",null,Y?"":"More Options"))))))]},!o&&p.a.createElement(te,{description:j?[p.a.createElement("div",{key:l,className:"card-meta text-overflow break-word"},p.a.createElement("div",{className:Y?"visible":"invisible"},j))]:[]}),!o&&p.a.createElement(u.Fragment,null,p.a.createElement("div",{key:l,className:"options"},p.a.createElement("div",{className:"more-options"},Y?p.a.createElement("hr",null):"",p.a.createElement("div",{onClick:O},p.a.createElement("span",null,Y?"Less Options":""))),Y&&p.a.createElement(w,Object.assign({actions:m.getMoreOption()},this.props,{editNotes:C,handleCancel:f,handleRescheduleThis:E,handleRescheduleAll:y,handleUpdateVitals:b,handleUpdateMedication:v,handleUpdateClinicalReading:h}))))))}}]),t}(u.Component),ne=Object(f.a)(Object(m.d)(ae)),ie=a(8),re=a(19);t.a=Object(n.b)(function(e){var t=e.events,a=(t=void 0===t?{}:t).events,n=e.users,i=e.auth;return{events:a,users:n,viewerId:(i=void 0===i?{}:i).authenticated_user}},function(e){return{openCancelModal:function(t,a){return function(){return e(Object(re.i)(T.n.CANCEL_APPOINTMENT,t,null,a))}},rescheduleEvent:function(t){return function(a){return e(Object(re.i)(T.n.EVENT_MODAL,t,T.l.RESCHEDULE,{series:a}))}},editNotes:function(t){return function(){return e(Object(re.i)(T.n.EVENT_MODAL,t,T.l.EDIT_NOTES))}},setAppointmentStatus:function(t){return function(a){return e(Object(ie.A)({eventId:t,status:a}))}}}},function(e,t,a){var n=a.id,i=a.calendarUserId,r=a.hideAction,s=a.modal,o=e.users,l=e.events,c=e.viewerId,d=l[n]||{},u=t.editNotes,p=t.openCancelModal,m=t.setAppointmentStatus,f=t.rescheduleEvent,h=d.data,v=(h=void 0===h?{}:h).participantOne,g=h.participantTwo;return{viewer:o[c]||{},participantOne:o[v]||{},participantTwo:o[g]||{},calendarUser:o[i]||{},hideAction:r,modal:s,event:d,editNotes:u(n),openCancelModal:p(n,i),setAppointmentStatus:m(n),rescheduleEvent:f(n)}})(ne)},563:function(e,t,a){"use strict";var n=a(45),i=a(399),r=a(274),s=a(147),o=a(148),l=a(151),c=a(149),d=a(150),u=a(237),p=a(6),m=a.n(p),f=a(304),h=a(28),v=Object(h.c)({cancel:{id:"calendarCard.reminder.cancel",defaultMessage:"Cancel Reminder"},reschedule:{id:"calendarCard.reminder.reschedule",defaultMessage:"Reschedule reminder"},rescheduleThis:{id:"calendarCard.reminder.rescheduleThis",defaultMessage:"Reschedule this reminder"},rescheduleAll:{id:"calendarCard.reminder.rescheduleAll",defaultMessage:"Reschedule All Reminder"},editNotes:{id:"calendarCard.reminder.editNotes",defaultMessage:"Edit Notes"},addNotes:{id:"calendarCard.reminder.addNotes",defaultMessage:"Add Notes"},editReminder:{id:"calendarCard.reminder.editReminder",defaultMessage:"Edit Reminder"},deleteReminder:{id:"calendarCard.reminder.deleteReminder",defaultMessage:"Delete Reminder"},scheduledBy:{id:"calendarCard.reminder.scheduledBy",defaultMessage:"Scheduled by"}}),g=a(2),b=a(398),E=a.n(b),y=a(183),C=a.n(y),M=a(691),O=a(158),N=a(490),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(l.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleEditNotes=function(e){e.preventDefault(),(0,a.props.editNotes)()},a.handleReschedule=function(e){e.preventDefault(),(0,a.props.rescheduleEvent)(!1)},a.handleRescheduleAll=function(e){e.preventDefault(),(0,a.props.rescheduleEvent)(!0)},a.handleCancel=function(e){e.preventDefault(),(0,a.props.openCancelModal)()},a.moreOptions=function(e){var t=Object(O.a)(Object(O.a)(a)),n=t.formatMessage,i=t.handleReschedule,r=t.handleRescheduleAll,s=t.handleEditNotes,o=t.handleCancel;switch(e){case N.a.EDIT_NOTES_OF_REMINDER:return m.a.createElement("div",{key:e,className:"drop-down",onClick:s},n(v.editNotes)," ");case N.a.CANCEL_REMINDER:return m.a.createElement("div",{key:e,className:"drop-down cancel",onClick:o},n(v.cancel));case N.a.RESCHEDULE_REMINDER:return m.a.createElement("div",{key:e,className:"drop-down",onClick:i},n(v.reschedule));case N.a.RESCHEDULE_THIS_REMINDER:return m.a.createElement("div",{key:e,className:"drop-down",onClick:i},n(v.rescheduleThis));case N.a.RESCHEDULE_ALL_REMINDER:return m.a.createElement("div",{key:e,className:"drop-down",onClick:r},n(v.rescheduleAll));default:return null}},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.actions;return(void 0===t?[]:t).map(function(t){return e.moreOptions(t)})}}]),t}(p.Component),T=Object(h.d)(w),D=m.a.createElement("img",{className:"icons",alt:"",src:E.a}),S=u.a.Meta,P=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this,e))).formatMessage=function(e){return a.props.intl.formatMessage(e)},a.handleClick=function(){a.setState({visible:!a.state.visible})},a.handleCardClick=function(){a.setState({cardClicked:!0})},a.handleLeave=function(){a.setState({visible:!1,cardClicked:!1})},a.state={visible:!1,cardClicked:!1,modalOpen:!1},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"getReminderWithCategoryText",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).basicInfo;switch((e=void 0===e?{}:e).category){case g.D.CARE_COACH:return"Coach";case g.D.DOCTOR:return"Doctor";case g.D.PATIENT:return"Patient";default:return null}}},{key:"render",value:function(){var e=this.props,t=e.event,a=void 0===t?{}:t,n=e.hideAction,i=void 0!==n&&n,s=e.modal,o=void 0!==s&&s,l=this.handleClick,c=this.handleLeave,d=this.handleCardClick,f=this.formatMessage,h=a.id,g=new M.a(this.props),b=g.getStartTime(),E=g.getStartDate(),y=g.getNotes(),O=g.getLastActedUser(),N=g.getReminderWithTag(),w=g.getReminderTitle(),P=(N||{}).basicInfo,j=(P=void 0===P?{}:P).name,k=P.profilePicLink,I=void 0===k?C.a:k,A=this.getReminderWithCategoryText(N),R=this.state.visible;return m.a.createElement(p.Fragment,null,m.a.createElement(u.a,{onMouseLeave:o?null:c,onClick:d,className:"calender-card",hoverable:!i,title:[m.a.createElement("div",{key:h},m.a.createElement("div",{className:"card-top"},f(v.scheduledBy)," ",O),m.a.createElement("div",{className:"card-title"},m.a.createElement("div",{className:"reminder-card-title"},D,m.a.createElement("span",{className:"time-text"},b,", ",E))),m.a.createElement("div",{className:"card-modal-options"},m.a.createElement("div",{className:"card-cover"},m.a.createElement("div",{className:"coach-activity-reminder mb8"},w?w.length<30?w:w.substr(0,30)+"...":null),N&&m.a.createElement(p.Fragment,null,m.a.createElement("span",{className:"coach-activity"},A),m.a.createElement("span",{className:"coach-avatar"},m.a.createElement(r.a,{src:I}),j)))))]},!i&&m.a.createElement(S,{description:y?[m.a.createElement("div",{key:h,className:"card-meta text-overflow break-word"},m.a.createElement("div",{className:R?"visible":"invisible"},y))]:[]}),!0!==i&&m.a.createElement("div",{className:"reminder-more-options"},m.a.createElement("div",{className:"right",onClick:l},m.a.createElement("span",null,R?"":"More Options"))),!i&&m.a.createElement(p.Fragment,null,m.a.createElement("div",{key:h,className:"options"},m.a.createElement("div",{className:"more-options"},R?m.a.createElement("hr",null):"",m.a.createElement("div",{onClick:l},m.a.createElement("span",null,R?"Less Options":""))),R&&m.a.createElement(T,Object.assign({actions:g.getMoreOption()},this.props))))))}}]),t}(p.Component),j=Object(f.a)(Object(h.d)(P)),k=a(19);t.a=Object(i.a)(Object(n.b)(function(e){var t=e.events,a=(t=void 0===t?{}:t).events,n=e.users,i=e.auth;return{events:a,users:n,viewer_id:(i=void 0===i?{}:i).authenticated_user}},function(e){return{openCancelModal:function(t,a){return function(){return e(Object(k.i)(g.n.CANCEL_APPOINTMENT,t,null,a))}},rescheduleEvent:function(t){return function(a){return e(Object(k.i)(g.n.EVENT_MODAL,t,g.l.RESCHEDULE,{series:a}))}},editNotes:function(t){return function(){return e(Object(k.i)(g.n.EVENT_MODAL,t,g.l.EDIT_NOTES))}}}},function(e,t,a){var n=a.id,i=a.calendarUserId,r=a.hideAction,s=a.modal,o=e.users,l=e.events,c=e.viewer_id,d=l[n]||{},u=d.data,p=(u=void 0===u?{}:u).participantOne,m=u.participantTwo,f=o[c]||{},h=o[p]||{},v=o[m]||{},g=o[i]||{},b=t.editNotes,E=t.openCancelModal,y=t.rescheduleEvent,C=b(n);return{viewer:f,participantOne:h,participantTwo:v,calendarUser:g,hideAction:r,modal:s,event:d,openCancelModal:E(n,i),rescheduleEvent:y(n),editNotes:C}})(j))},692:function(e,t,a){},979:function(e,t,a){},990:function(e,t,a){},992:function(e,t,a){}}]);
//# sourceMappingURL=MobileWrapper.a7cd9b3f.chunk.js.map